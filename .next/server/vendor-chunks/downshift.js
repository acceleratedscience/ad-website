"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/downshift";
exports.ids = ["vendor-chunks/downshift"];
exports.modules = {

/***/ "(ssr)/./node_modules/downshift/dist/downshift.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/downshift/dist/downshift.esm.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Downshift$1),\n/* harmony export */   resetIdCounter: () => (/* binding */ resetIdCounter),\n/* harmony export */   useCombobox: () => (/* binding */ useCombobox),\n/* harmony export */   useMultipleSelection: () => (/* binding */ useMultipleSelection),\n/* harmony export */   useSelect: () => (/* binding */ useSelect)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutPropertiesLoose */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-is */ \"(ssr)/./node_modules/react-is/index.js\");\n/* harmony import */ var compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! compute-scroll-into-view */ \"(ssr)/./node_modules/compute-scroll-into-view/dist/index.js\");\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n\n\n\n\n\n\n\n\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */ function cbToCb(cb) {\n    return typeof cb === \"function\" ? cb : noop;\n}\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */ function scrollIntoView(node, menuNode) {\n    if (!node) {\n        return;\n    }\n    var actions = (0,compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_6__.compute)(node, {\n        boundary: menuNode,\n        block: \"nearest\",\n        scrollMode: \"if-needed\"\n    });\n    actions.forEach(function(_ref) {\n        var el = _ref.el, top = _ref.top, left = _ref.left;\n        el.scrollTop = top;\n        el.scrollLeft = left;\n    });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @param {Window} environment The window context where downshift renders.\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */ function isOrContainsNode(parent, child, environment) {\n    var result = parent === child || child instanceof environment.Node && parent.contains && parent.contains(child);\n    return result;\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */ function debounce(fn, time) {\n    var timeoutId;\n    function cancel() {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    }\n    function wrapper() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        cancel();\n        timeoutId = setTimeout(function() {\n            timeoutId = null;\n            fn.apply(void 0, args);\n        }, time);\n    }\n    wrapper.cancel = cancel;\n    return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */ function callAllEventHandlers() {\n    for(var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++){\n        fns[_key2] = arguments[_key2];\n    }\n    return function(event) {\n        for(var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++){\n            args[_key3 - 1] = arguments[_key3];\n        }\n        return fns.some(function(fn) {\n            if (fn) {\n                fn.apply(void 0, [\n                    event\n                ].concat(args));\n            }\n            return event.preventDownshiftDefault || event.hasOwnProperty(\"nativeEvent\") && event.nativeEvent.preventDownshiftDefault;\n        });\n    };\n}\nfunction handleRefs() {\n    for(var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++){\n        refs[_key4] = arguments[_key4];\n    }\n    return function(node) {\n        refs.forEach(function(ref) {\n            if (typeof ref === \"function\") {\n                ref(node);\n            } else if (ref) {\n                ref.current = node;\n            }\n        });\n    };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */ function generateId() {\n    return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */ function resetIdCounter() {\n    // istanbul ignore next\n    if (\"useId\" in (react__WEBPACK_IMPORTED_MODULE_4___default())) {\n        console.warn(\"It is not necessary to call resetIdCounter when using React 18+\");\n        return;\n    }\n    idCounter = 0;\n}\n/**\n * Default implementation for status message. Only added when menu is open.\n * Will specify if there are results in the list, and if so, how many,\n * and what keys are relevant.\n *\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */ function getA11yStatusMessage$1(_ref2) {\n    var isOpen = _ref2.isOpen, resultCount = _ref2.resultCount, previousResultCount = _ref2.previousResultCount;\n    if (!isOpen) {\n        return \"\";\n    }\n    if (!resultCount) {\n        return \"No results are available.\";\n    }\n    if (resultCount !== previousResultCount) {\n        return resultCount + \" result\" + (resultCount === 1 ? \" is\" : \"s are\") + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n    }\n    return \"\";\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */ function unwrapArray(arg, defaultValue) {\n    arg = Array.isArray(arg) ? /* istanbul ignore next (preact) */ arg[0] : arg;\n    if (!arg && defaultValue) {\n        return defaultValue;\n    } else {\n        return arg;\n    }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */ function isDOMElement(element) {\n    // then we assume this is react\n    return typeof element.type === \"string\";\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */ function getElementProps(element) {\n    return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */ function requiredProp(fnName, propName) {\n    // eslint-disable-next-line no-console\n    console.error('The property \"' + propName + '\" is required in \"' + fnName + '\"');\n}\nvar stateKeys = [\n    \"highlightedIndex\",\n    \"inputValue\",\n    \"isOpen\",\n    \"selectedItem\",\n    \"type\"\n];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */ function pickState(state) {\n    if (state === void 0) {\n        state = {};\n    }\n    var result = {};\n    stateKeys.forEach(function(k) {\n        if (state.hasOwnProperty(k)) {\n            result[k] = state[k];\n        }\n    });\n    return result;\n}\n/**\n * This will perform a shallow merge of the given state object\n * with the state coming from props\n * (for the controlled component scenario)\n * This is used in state updater functions so they're referencing\n * the right state regardless of where it comes from.\n *\n * @param {Object} state The state of the component/hook.\n * @param {Object} props The props that may contain controlled values.\n * @returns {Object} The merged controlled state.\n */ function getState(state, props) {\n    return Object.keys(state).reduce(function(prevState, key) {\n        prevState[key] = isControlledProp(props, key) ? props[key] : state[key];\n        return prevState;\n    }, {});\n}\n/**\n * This determines whether a prop is a \"controlled prop\" meaning it is\n * state which is controlled by the outside of this component rather\n * than within this component.\n *\n * @param {Object} props The props that may contain controlled values.\n * @param {String} key the key to check\n * @return {Boolean} whether it is a controlled controlled prop\n */ function isControlledProp(props, key) {\n    return props[key] !== undefined;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */ function normalizeArrowKey(event) {\n    var key = event.key, keyCode = event.keyCode;\n    /* istanbul ignore next (ie) */ if (keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0) {\n        return \"Arrow\" + key;\n    }\n    return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */ function isPlainObject(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\n/**\n * Returns the next non-disabled highlightedIndex value.\n *\n * @param {number} start The current highlightedIndex.\n * @param {number} offset The offset from the current highlightedIndex to start searching.\n * @param {unknown[]} items The items array.\n * @param {(item: unknown, index: number) => boolean} isItemDisabled Function that tells if an item is disabled or not.\n * @param {boolean?} circular If the search reaches the end, if it can search again starting from the other end.\n * @returns {number} The next highlightedIndex.\n */ function getHighlightedIndex(start, offset, items, isItemDisabled, circular) {\n    if (circular === void 0) {\n        circular = false;\n    }\n    var count = items.length;\n    if (count === 0) {\n        return -1;\n    }\n    var itemsLastIndex = count - 1;\n    if (typeof start !== \"number\" || start < 0 || start > itemsLastIndex) {\n        start = offset > 0 ? -1 : itemsLastIndex + 1;\n    }\n    var current = start + offset;\n    if (current < 0) {\n        current = circular ? itemsLastIndex : 0;\n    } else if (current > itemsLastIndex) {\n        current = circular ? 0 : itemsLastIndex;\n    }\n    var highlightedIndex = getNonDisabledIndex(current, offset < 0, items, isItemDisabled, circular);\n    if (highlightedIndex === -1) {\n        return start >= count ? -1 : start;\n    }\n    return highlightedIndex;\n}\n/**\n * Returns the next non-disabled highlightedIndex value.\n *\n * @param {number} start The current highlightedIndex.\n * @param {boolean} backwards If true, it will search backwards from the start.\n * @param {unknown[]} items The items array.\n * @param {(item: unknown, index: number) => boolean} isItemDisabled Function that tells if an item is disabled or not.\n * @param {boolean} circular If the search reaches the end, if it can search again starting from the other end.\n * @returns {number} The next non-disabled index.\n */ function getNonDisabledIndex(start, backwards, items, isItemDisabled, circular) {\n    if (circular === void 0) {\n        circular = false;\n    }\n    var count = items.length;\n    if (backwards) {\n        for(var index = start; index >= 0; index--){\n            if (!isItemDisabled(items[index], index)) {\n                return index;\n            }\n        }\n    } else {\n        for(var _index = start; _index < count; _index++){\n            if (!isItemDisabled(items[_index], _index)) {\n                return _index;\n            }\n        }\n    }\n    if (circular) {\n        return getNonDisabledIndex(backwards ? count - 1 : 0, backwards, items, isItemDisabled);\n    }\n    return -1;\n}\n/**\n * Checks if event target is within the downshift elements.\n *\n * @param {EventTarget} target Target to check.\n * @param {HTMLElement[]} downshiftElements The elements that form downshift (list, toggle button etc).\n * @param {Window} environment The window context where downshift renders.\n * @param {boolean} checkActiveElement Whether to also check activeElement.\n *\n * @returns {boolean} Whether or not the target is within downshift elements.\n */ function targetWithinDownshift(target, downshiftElements, environment, checkActiveElement) {\n    if (checkActiveElement === void 0) {\n        checkActiveElement = true;\n    }\n    return environment && downshiftElements.some(function(contextNode) {\n        return contextNode && (isOrContainsNode(contextNode, target, environment) || checkActiveElement && isOrContainsNode(contextNode, environment.document.activeElement, environment));\n    });\n}\n// eslint-disable-next-line import/no-mutable-exports\nvar validateControlledUnchanged = noop;\n/* istanbul ignore next */ if (true) {\n    validateControlledUnchanged = function validateControlledUnchanged(state, prevProps, nextProps) {\n        var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n        Object.keys(state).forEach(function(propKey) {\n            if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n                // eslint-disable-next-line no-console\n                console.error('downshift: A component has changed the controlled prop \"' + propKey + '\" to be uncontrolled. ' + warningDescription);\n            } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n                // eslint-disable-next-line no-console\n                console.error('downshift: A component has changed the uncontrolled prop \"' + propKey + '\" to be controlled. ' + warningDescription);\n            }\n        });\n    };\n}\nvar cleanupStatus = debounce(function(documentProp) {\n    getStatusDiv(documentProp).textContent = \"\";\n}, 500);\n/**\n * Get the status node or create it if it does not already exist.\n * @param {Object} documentProp document passed by the user.\n * @return {HTMLElement} the status node.\n */ function getStatusDiv(documentProp) {\n    var statusDiv = documentProp.getElementById(\"a11y-status-message\");\n    if (statusDiv) {\n        return statusDiv;\n    }\n    statusDiv = documentProp.createElement(\"div\");\n    statusDiv.setAttribute(\"id\", \"a11y-status-message\");\n    statusDiv.setAttribute(\"role\", \"status\");\n    statusDiv.setAttribute(\"aria-live\", \"polite\");\n    statusDiv.setAttribute(\"aria-relevant\", \"additions text\");\n    Object.assign(statusDiv.style, {\n        border: \"0\",\n        clip: \"rect(0 0 0 0)\",\n        height: \"1px\",\n        margin: \"-1px\",\n        overflow: \"hidden\",\n        padding: \"0\",\n        position: \"absolute\",\n        width: \"1px\"\n    });\n    documentProp.body.appendChild(statusDiv);\n    return statusDiv;\n}\n/**\n * @param {String} status the status message\n * @param {Object} documentProp document passed by the user.\n */ function setStatus(status, documentProp) {\n    if (!status || !documentProp) {\n        return;\n    }\n    var div = getStatusDiv(documentProp);\n    div.textContent = status;\n    cleanupStatus(documentProp);\n}\nvar unknown =  true ? \"__autocomplete_unknown__\" : 0;\nvar mouseUp =  true ? \"__autocomplete_mouseup__\" : 0;\nvar itemMouseEnter =  true ? \"__autocomplete_item_mouseenter__\" : 0;\nvar keyDownArrowUp =  true ? \"__autocomplete_keydown_arrow_up__\" : 0;\nvar keyDownArrowDown =  true ? \"__autocomplete_keydown_arrow_down__\" : 0;\nvar keyDownEscape =  true ? \"__autocomplete_keydown_escape__\" : 0;\nvar keyDownEnter =  true ? \"__autocomplete_keydown_enter__\" : 0;\nvar keyDownHome =  true ? \"__autocomplete_keydown_home__\" : 0;\nvar keyDownEnd =  true ? \"__autocomplete_keydown_end__\" : 0;\nvar clickItem =  true ? \"__autocomplete_click_item__\" : 0;\nvar blurInput =  true ? \"__autocomplete_blur_input__\" : 0;\nvar changeInput =  true ? \"__autocomplete_change_input__\" : 0;\nvar keyDownSpaceButton =  true ? \"__autocomplete_keydown_space_button__\" : 0;\nvar clickButton =  true ? \"__autocomplete_click_button__\" : 0;\nvar blurButton =  true ? \"__autocomplete_blur_button__\" : 0;\nvar controlledPropUpdatedSelectedItem =  true ? \"__autocomplete_controlled_prop_updated_selected_item__\" : 0;\nvar touchEnd =  true ? \"__autocomplete_touchend__\" : 0;\nvar stateChangeTypes$3 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    unknown: unknown,\n    mouseUp: mouseUp,\n    itemMouseEnter: itemMouseEnter,\n    keyDownArrowUp: keyDownArrowUp,\n    keyDownArrowDown: keyDownArrowDown,\n    keyDownEscape: keyDownEscape,\n    keyDownEnter: keyDownEnter,\n    keyDownHome: keyDownHome,\n    keyDownEnd: keyDownEnd,\n    clickItem: clickItem,\n    blurInput: blurInput,\n    changeInput: changeInput,\n    keyDownSpaceButton: keyDownSpaceButton,\n    clickButton: clickButton,\n    blurButton: blurButton,\n    controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n    touchEnd: touchEnd\n});\nvar _excluded$4 = [\n    \"refKey\",\n    \"ref\"\n], _excluded2$3 = [\n    \"onClick\",\n    \"onPress\",\n    \"onKeyDown\",\n    \"onKeyUp\",\n    \"onBlur\"\n], _excluded3$2 = [\n    \"onKeyDown\",\n    \"onBlur\",\n    \"onChange\",\n    \"onInput\",\n    \"onChangeText\"\n], _excluded4$1 = [\n    \"refKey\",\n    \"ref\"\n], _excluded5 = [\n    \"onMouseMove\",\n    \"onMouseDown\",\n    \"onClick\",\n    \"onPress\",\n    \"index\",\n    \"item\"\n];\nvar Downshift = /*#__PURE__*/ function() {\n    var Downshift = /*#__PURE__*/ function(_Component) {\n        (0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Downshift, _Component);\n        function Downshift(_props) {\n            var _this;\n            _this = _Component.call(this, _props) || this;\n            // fancy destructuring + defaults + aliases\n            // this basically says each value of state should either be set to\n            // the initial value or the default value if the initial value is not provided\n            _this.id = _this.props.id || \"downshift-\" + generateId();\n            _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n            _this.labelId = _this.props.labelId || _this.id + \"-label\";\n            _this.inputId = _this.props.inputId || _this.id + \"-input\";\n            _this.getItemId = _this.props.getItemId || function(index) {\n                return _this.id + \"-item-\" + index;\n            };\n            _this.items = [];\n            // itemCount can be changed asynchronously\n            // from within downshift (so it can't come from a prop)\n            // this is why we store it as an instance and use\n            // getItemCount rather than just use items.length\n            // (to support windowing + async)\n            _this.itemCount = null;\n            _this.previousResultCount = 0;\n            _this.timeoutIds = [];\n            /**\n       * @param {Function} fn the function to call after the time\n       * @param {Number} time the time to wait\n       */ _this.internalSetTimeout = function(fn, time) {\n                var id = setTimeout(function() {\n                    _this.timeoutIds = _this.timeoutIds.filter(function(i) {\n                        return i !== id;\n                    });\n                    fn();\n                }, time);\n                _this.timeoutIds.push(id);\n            };\n            _this.setItemCount = function(count) {\n                _this.itemCount = count;\n            };\n            _this.unsetItemCount = function() {\n                _this.itemCount = null;\n            };\n            _this.isItemDisabled = function(_item, index) {\n                var currentElementNode = _this.getItemNodeFromIndex(index);\n                return currentElementNode && currentElementNode.hasAttribute(\"disabled\");\n            };\n            _this.setHighlightedIndex = function(highlightedIndex, otherStateToSet) {\n                if (highlightedIndex === void 0) {\n                    highlightedIndex = _this.props.defaultHighlightedIndex;\n                }\n                if (otherStateToSet === void 0) {\n                    otherStateToSet = {};\n                }\n                otherStateToSet = pickState(otherStateToSet);\n                _this.internalSetState((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    highlightedIndex: highlightedIndex\n                }, otherStateToSet));\n            };\n            _this.clearSelection = function(cb) {\n                _this.internalSetState({\n                    selectedItem: null,\n                    inputValue: \"\",\n                    highlightedIndex: _this.props.defaultHighlightedIndex,\n                    isOpen: _this.props.defaultIsOpen\n                }, cb);\n            };\n            _this.selectItem = function(item, otherStateToSet, cb) {\n                otherStateToSet = pickState(otherStateToSet);\n                _this.internalSetState((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    isOpen: _this.props.defaultIsOpen,\n                    highlightedIndex: _this.props.defaultHighlightedIndex,\n                    selectedItem: item,\n                    inputValue: _this.props.itemToString(item)\n                }, otherStateToSet), cb);\n            };\n            _this.selectItemAtIndex = function(itemIndex, otherStateToSet, cb) {\n                var item = _this.items[itemIndex];\n                if (item == null) {\n                    return;\n                }\n                _this.selectItem(item, otherStateToSet, cb);\n            };\n            _this.selectHighlightedItem = function(otherStateToSet, cb) {\n                return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n            };\n            // any piece of our state can live in two places:\n            // 1. Uncontrolled: it's internal (this.state)\n            //    We will call this.setState to update that state\n            // 2. Controlled: it's external (this.props)\n            //    We will call this.props.onStateChange to update that state\n            //\n            // In addition, we'll call this.props.onChange if the\n            // selectedItem is changed.\n            _this.internalSetState = function(stateToSet, cb) {\n                var isItemSelected, onChangeArg;\n                var onStateChangeArg = {};\n                var isStateToSetFunction = typeof stateToSet === \"function\";\n                // we want to call `onInputValueChange` before the `setState` call\n                // so someone controlling the `inputValue` state gets notified of\n                // the input change as soon as possible. This avoids issues with\n                // preserving the cursor position.\n                // See https://github.com/downshift-js/downshift/issues/217 for more info.\n                if (!isStateToSetFunction && stateToSet.hasOwnProperty(\"inputValue\")) {\n                    _this.props.onInputValueChange(stateToSet.inputValue, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _this.getStateAndHelpers(), stateToSet));\n                }\n                return _this.setState(function(state) {\n                    var _newStateToSet;\n                    state = _this.getState(state);\n                    var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet;\n                    // Your own function that could modify the state that will be set.\n                    newStateToSet = _this.props.stateReducer(state, newStateToSet);\n                    // checks if an item is selected, regardless of if it's different from\n                    // what was selected before\n                    // used to determine if onSelect and onChange callbacks should be called\n                    isItemSelected = newStateToSet.hasOwnProperty(\"selectedItem\");\n                    // this keeps track of the object we want to call with setState\n                    var nextState = {};\n                    // we need to call on change if the outside world is controlling any of our state\n                    // and we're trying to update that state. OR if the selection has changed and we're\n                    // trying to update the selection\n                    if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n                        onChangeArg = newStateToSet.selectedItem;\n                    }\n                    (_newStateToSet = newStateToSet).type || (_newStateToSet.type = unknown);\n                    Object.keys(newStateToSet).forEach(function(key) {\n                        // onStateChangeArg should only have the state that is\n                        // actually changing\n                        if (state[key] !== newStateToSet[key]) {\n                            onStateChangeArg[key] = newStateToSet[key];\n                        }\n                        // the type is useful for the onStateChangeArg\n                        // but we don't actually want to set it in internal state.\n                        // this is an undocumented feature for now... Not all internalSetState\n                        // calls support it and I'm not certain we want them to yet.\n                        // But it enables users controlling the isOpen state to know when\n                        // the isOpen state changes due to mouseup events which is quite handy.\n                        if (key === \"type\") {\n                            return;\n                        }\n                        newStateToSet[key];\n                        // if it's coming from props, then we don't care to set it internally\n                        if (!isControlledProp(_this.props, key)) {\n                            nextState[key] = newStateToSet[key];\n                        }\n                    });\n                    // if stateToSet is a function, then we weren't able to call onInputValueChange\n                    // earlier, so we'll call it now that we know what the inputValue state will be.\n                    if (isStateToSetFunction && newStateToSet.hasOwnProperty(\"inputValue\")) {\n                        _this.props.onInputValueChange(newStateToSet.inputValue, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _this.getStateAndHelpers(), newStateToSet));\n                    }\n                    return nextState;\n                }, function() {\n                    // call the provided callback if it's a function\n                    cbToCb(cb)();\n                    // only call the onStateChange and onChange callbacks if\n                    // we have relevant information to pass them.\n                    var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n                    if (hasMoreStateThanType) {\n                        _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n                    }\n                    if (isItemSelected) {\n                        _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n                    }\n                    if (onChangeArg !== undefined) {\n                        _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n                    }\n                    // this is currently undocumented and therefore subject to change\n                    // We'll try to not break it, but just be warned.\n                    _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n                });\n            };\n            //////////////////////////// ROOT\n            _this.rootRef = function(node) {\n                return _this._rootNode = node;\n            };\n            _this.getRootProps = function(_temp, _temp2) {\n                var _extends2;\n                var _ref = _temp === void 0 ? {} : _temp, _ref$refKey = _ref.refKey, refKey = _ref$refKey === void 0 ? \"ref\" : _ref$refKey, ref = _ref.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded$4);\n                var _ref2 = _temp2 === void 0 ? {} : _temp2, _ref2$suppressRefErro = _ref2.suppressRefError, suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n                // this is used in the render to know whether the user has called getRootProps.\n                // It uses that to know whether to apply the props automatically\n                _this.getRootProps.called = true;\n                _this.getRootProps.refKey = refKey;\n                _this.getRootProps.suppressRefError = suppressRefError;\n                var _this$getState = _this.getState(), isOpen = _this$getState.isOpen;\n                return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends2 = {}, _extends2[refKey] = handleRefs(ref, _this.rootRef), _extends2.role = \"combobox\", _extends2[\"aria-expanded\"] = isOpen, _extends2[\"aria-haspopup\"] = \"listbox\", _extends2[\"aria-owns\"] = isOpen ? _this.menuId : undefined, _extends2[\"aria-labelledby\"] = _this.labelId, _extends2), rest);\n            };\n            //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ROOT\n            _this.keyDownHandlers = {\n                ArrowDown: function ArrowDown(event) {\n                    var _this2 = this;\n                    event.preventDefault();\n                    if (this.getState().isOpen) {\n                        var amount = event.shiftKey ? 5 : 1;\n                        this.moveHighlightedIndex(amount, {\n                            type: keyDownArrowDown\n                        });\n                    } else {\n                        this.internalSetState({\n                            isOpen: true,\n                            type: keyDownArrowDown\n                        }, function() {\n                            var itemCount = _this2.getItemCount();\n                            if (itemCount > 0) {\n                                var _this2$getState = _this2.getState(), highlightedIndex = _this2$getState.highlightedIndex;\n                                var nextHighlightedIndex = getHighlightedIndex(highlightedIndex, 1, {\n                                    length: itemCount\n                                }, _this2.isItemDisabled, true);\n                                _this2.setHighlightedIndex(nextHighlightedIndex, {\n                                    type: keyDownArrowDown\n                                });\n                            }\n                        });\n                    }\n                },\n                ArrowUp: function ArrowUp(event) {\n                    var _this3 = this;\n                    event.preventDefault();\n                    if (this.getState().isOpen) {\n                        var amount = event.shiftKey ? -5 : -1;\n                        this.moveHighlightedIndex(amount, {\n                            type: keyDownArrowUp\n                        });\n                    } else {\n                        this.internalSetState({\n                            isOpen: true,\n                            type: keyDownArrowUp\n                        }, function() {\n                            var itemCount = _this3.getItemCount();\n                            if (itemCount > 0) {\n                                var _this3$getState = _this3.getState(), highlightedIndex = _this3$getState.highlightedIndex;\n                                var nextHighlightedIndex = getHighlightedIndex(highlightedIndex, -1, {\n                                    length: itemCount\n                                }, _this3.isItemDisabled, true);\n                                _this3.setHighlightedIndex(nextHighlightedIndex, {\n                                    type: keyDownArrowUp\n                                });\n                            }\n                        });\n                    }\n                },\n                Enter: function Enter(event) {\n                    if (event.which === 229) {\n                        return;\n                    }\n                    var _this$getState2 = this.getState(), isOpen = _this$getState2.isOpen, highlightedIndex = _this$getState2.highlightedIndex;\n                    if (isOpen && highlightedIndex != null) {\n                        event.preventDefault();\n                        var item = this.items[highlightedIndex];\n                        var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n                        if (item == null || itemNode && itemNode.hasAttribute(\"disabled\")) {\n                            return;\n                        }\n                        this.selectHighlightedItem({\n                            type: keyDownEnter\n                        });\n                    }\n                },\n                Escape: function Escape(event) {\n                    event.preventDefault();\n                    this.reset((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                        type: keyDownEscape\n                    }, !this.state.isOpen && {\n                        selectedItem: null,\n                        inputValue: \"\"\n                    }));\n                }\n            };\n            //////////////////////////// BUTTON\n            _this.buttonKeyDownHandlers = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _this.keyDownHandlers, {\n                \" \": function _(event) {\n                    event.preventDefault();\n                    this.toggleMenu({\n                        type: keyDownSpaceButton\n                    });\n                }\n            });\n            _this.inputKeyDownHandlers = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _this.keyDownHandlers, {\n                Home: function Home(event) {\n                    var _this$getState3 = this.getState(), isOpen = _this$getState3.isOpen;\n                    if (!isOpen) {\n                        return;\n                    }\n                    event.preventDefault();\n                    var itemCount = this.getItemCount();\n                    if (itemCount <= 0 || !isOpen) {\n                        return;\n                    }\n                    // get next non-disabled starting downwards from 0 if that's disabled.\n                    var newHighlightedIndex = getNonDisabledIndex(0, false, {\n                        length: itemCount\n                    }, this.isItemDisabled);\n                    this.setHighlightedIndex(newHighlightedIndex, {\n                        type: keyDownHome\n                    });\n                },\n                End: function End(event) {\n                    var _this$getState4 = this.getState(), isOpen = _this$getState4.isOpen;\n                    if (!isOpen) {\n                        return;\n                    }\n                    event.preventDefault();\n                    var itemCount = this.getItemCount();\n                    if (itemCount <= 0 || !isOpen) {\n                        return;\n                    }\n                    // get next non-disabled starting upwards from last index if that's disabled.\n                    var newHighlightedIndex = getNonDisabledIndex(itemCount - 1, true, {\n                        length: itemCount\n                    }, this.isItemDisabled);\n                    this.setHighlightedIndex(newHighlightedIndex, {\n                        type: keyDownEnd\n                    });\n                }\n            });\n            _this.getToggleButtonProps = function(_temp3) {\n                var _ref3 = _temp3 === void 0 ? {} : _temp3, onClick = _ref3.onClick;\n                _ref3.onPress;\n                var onKeyDown = _ref3.onKeyDown, onKeyUp = _ref3.onKeyUp, onBlur = _ref3.onBlur, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref3, _excluded2$3);\n                var _this$getState5 = _this.getState(), isOpen = _this$getState5.isOpen;\n                var enabledEventHandlers = {\n                    onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n                    onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n                    onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n                    onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n                };\n                var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n                return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    type: \"button\",\n                    role: \"button\",\n                    \"aria-label\": isOpen ? \"close menu\" : \"open menu\",\n                    \"aria-haspopup\": true,\n                    \"data-toggle\": true\n                }, eventHandlers, rest);\n            };\n            _this.buttonHandleKeyUp = function(event) {\n                // Prevent click event from emitting in Firefox\n                event.preventDefault();\n            };\n            _this.buttonHandleKeyDown = function(event) {\n                var key = normalizeArrowKey(event);\n                if (_this.buttonKeyDownHandlers[key]) {\n                    _this.buttonKeyDownHandlers[key].call((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this), event);\n                }\n            };\n            _this.buttonHandleClick = function(event) {\n                event.preventDefault();\n                // handle odd case for Safari and Firefox which\n                // don't give the button the focus properly.\n                /* istanbul ignore if (can't reasonably test this) */ if (_this.props.environment) {\n                    var _this$props$environme = _this.props.environment.document, body = _this$props$environme.body, activeElement = _this$props$environme.activeElement;\n                    if (body && body === activeElement) {\n                        event.target.focus();\n                    }\n                }\n                // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n                // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n                // when building for production and should therefore have no impact on production code.\n                if (false) {} else {\n                    // Ensure that toggle of menu occurs after the potential blur event in iOS\n                    _this.internalSetTimeout(function() {\n                        return _this.toggleMenu({\n                            type: clickButton\n                        });\n                    });\n                }\n            };\n            _this.buttonHandleBlur = function(event) {\n                var blurTarget = event.target; // Save blur target for comparison with activeElement later\n                // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n                _this.internalSetTimeout(function() {\n                    if (_this.isMouseDown || !_this.props.environment) {\n                        return;\n                    }\n                    var activeElement = _this.props.environment.document.activeElement;\n                    if ((activeElement == null || activeElement.id !== _this.inputId) && activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n                    ) {\n                        _this.reset({\n                            type: blurButton\n                        });\n                    }\n                });\n            };\n            //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ BUTTON\n            /////////////////////////////// LABEL\n            _this.getLabelProps = function(props) {\n                return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    htmlFor: _this.inputId,\n                    id: _this.labelId\n                }, props);\n            };\n            //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ LABEL\n            /////////////////////////////// INPUT\n            _this.getInputProps = function(_temp4) {\n                var _ref4 = _temp4 === void 0 ? {} : _temp4, onKeyDown = _ref4.onKeyDown, onBlur = _ref4.onBlur, onChange = _ref4.onChange, onInput = _ref4.onInput;\n                _ref4.onChangeText;\n                var rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref4, _excluded3$2);\n                var onChangeKey;\n                var eventHandlers = {};\n                /* istanbul ignore next (preact) */ {\n                    onChangeKey = \"onChange\";\n                }\n                var _this$getState6 = _this.getState(), inputValue = _this$getState6.inputValue, isOpen = _this$getState6.isOpen, highlightedIndex = _this$getState6.highlightedIndex;\n                if (!rest.disabled) {\n                    var _eventHandlers;\n                    eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n                }\n                return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    \"aria-autocomplete\": \"list\",\n                    \"aria-activedescendant\": isOpen && typeof highlightedIndex === \"number\" && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : undefined,\n                    \"aria-controls\": isOpen ? _this.menuId : undefined,\n                    \"aria-labelledby\": rest && rest[\"aria-label\"] ? undefined : _this.labelId,\n                    // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n                    // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n                    autoComplete: \"off\",\n                    value: inputValue,\n                    id: _this.inputId\n                }, eventHandlers, rest);\n            };\n            _this.inputHandleKeyDown = function(event) {\n                var key = normalizeArrowKey(event);\n                if (key && _this.inputKeyDownHandlers[key]) {\n                    _this.inputKeyDownHandlers[key].call((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this), event);\n                }\n            };\n            _this.inputHandleChange = function(event) {\n                _this.internalSetState({\n                    type: changeInput,\n                    isOpen: true,\n                    inputValue: event.target.value,\n                    highlightedIndex: _this.props.defaultHighlightedIndex\n                });\n            };\n            _this.inputHandleBlur = function() {\n                // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n                _this.internalSetTimeout(function() {\n                    var _activeElement$datase;\n                    if (_this.isMouseDown || !_this.props.environment) {\n                        return;\n                    }\n                    var activeElement = _this.props.environment.document.activeElement;\n                    var downshiftButtonIsActive = (activeElement == null || (_activeElement$datase = activeElement.dataset) == null ? void 0 : _activeElement$datase.toggle) && _this._rootNode && _this._rootNode.contains(activeElement);\n                    if (!downshiftButtonIsActive) {\n                        _this.reset({\n                            type: blurInput\n                        });\n                    }\n                });\n            };\n            //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ INPUT\n            /////////////////////////////// MENU\n            _this.menuRef = function(node) {\n                _this._menuNode = node;\n            };\n            _this.getMenuProps = function(_temp5, _temp6) {\n                var _extends3;\n                var _ref5 = _temp5 === void 0 ? {} : _temp5, _ref5$refKey = _ref5.refKey, refKey = _ref5$refKey === void 0 ? \"ref\" : _ref5$refKey, ref = _ref5.ref, props = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref5, _excluded4$1);\n                var _ref6 = _temp6 === void 0 ? {} : _temp6, _ref6$suppressRefErro = _ref6.suppressRefError, suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n                _this.getMenuProps.called = true;\n                _this.getMenuProps.refKey = refKey;\n                _this.getMenuProps.suppressRefError = suppressRefError;\n                return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends3 = {}, _extends3[refKey] = handleRefs(ref, _this.menuRef), _extends3.role = \"listbox\", _extends3[\"aria-labelledby\"] = props && props[\"aria-label\"] ? undefined : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n            };\n            //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ MENU\n            /////////////////////////////// ITEM\n            _this.getItemProps = function(_temp7) {\n                var _enabledEventHandlers;\n                var _ref7 = _temp7 === void 0 ? {} : _temp7, onMouseMove = _ref7.onMouseMove, onMouseDown = _ref7.onMouseDown, onClick = _ref7.onClick;\n                _ref7.onPress;\n                var index = _ref7.index, _ref7$item = _ref7.item, item = _ref7$item === void 0 ?  false ? /* istanbul ignore next */ 0 : requiredProp(\"getItemProps\", \"item\") : _ref7$item, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref7, _excluded5);\n                if (index === undefined) {\n                    _this.items.push(item);\n                    index = _this.items.indexOf(item);\n                } else {\n                    _this.items[index] = item;\n                }\n                var onSelectKey = \"onClick\";\n                var customClickHandler = onClick;\n                var enabledEventHandlers = (_enabledEventHandlers = {\n                    // onMouseMove is used over onMouseEnter here. onMouseMove\n                    // is only triggered on actual mouse movement while onMouseEnter\n                    // can fire on DOM changes, interrupting keyboard navigation\n                    onMouseMove: callAllEventHandlers(onMouseMove, function() {\n                        if (index === _this.getState().highlightedIndex) {\n                            return;\n                        }\n                        _this.setHighlightedIndex(index, {\n                            type: itemMouseEnter\n                        });\n                        // We never want to manually scroll when changing state based\n                        // on `onMouseMove` because we will be moving the element out\n                        // from under the user which is currently scrolling/moving the\n                        // cursor\n                        _this.avoidScrolling = true;\n                        _this.internalSetTimeout(function() {\n                            return _this.avoidScrolling = false;\n                        }, 250);\n                    }),\n                    onMouseDown: callAllEventHandlers(onMouseDown, function(event) {\n                        // This prevents the activeElement from being changed\n                        // to the item so it can remain with the current activeElement\n                        // which is a more common use case.\n                        event.preventDefault();\n                    })\n                }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function() {\n                    _this.selectItemAtIndex(index, {\n                        type: clickItem\n                    });\n                }), _enabledEventHandlers);\n                // Passing down the onMouseDown handler to prevent redirect\n                // of the activeElement if clicking on disabled items\n                var eventHandlers = rest.disabled ? {\n                    onMouseDown: enabledEventHandlers.onMouseDown\n                } : enabledEventHandlers;\n                return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    id: _this.getItemId(index),\n                    role: \"option\",\n                    \"aria-selected\": _this.getState().highlightedIndex === index\n                }, eventHandlers, rest);\n            };\n            //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ITEM\n            _this.clearItems = function() {\n                _this.items = [];\n            };\n            _this.reset = function(otherStateToSet, cb) {\n                if (otherStateToSet === void 0) {\n                    otherStateToSet = {};\n                }\n                otherStateToSet = pickState(otherStateToSet);\n                _this.internalSetState(function(_ref8) {\n                    var selectedItem = _ref8.selectedItem;\n                    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                        isOpen: _this.props.defaultIsOpen,\n                        highlightedIndex: _this.props.defaultHighlightedIndex,\n                        inputValue: _this.props.itemToString(selectedItem)\n                    }, otherStateToSet);\n                }, cb);\n            };\n            _this.toggleMenu = function(otherStateToSet, cb) {\n                if (otherStateToSet === void 0) {\n                    otherStateToSet = {};\n                }\n                otherStateToSet = pickState(otherStateToSet);\n                _this.internalSetState(function(_ref9) {\n                    var isOpen = _ref9.isOpen;\n                    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                        isOpen: !isOpen\n                    }, isOpen && {\n                        highlightedIndex: _this.props.defaultHighlightedIndex\n                    }, otherStateToSet);\n                }, function() {\n                    var _this$getState7 = _this.getState(), isOpen = _this$getState7.isOpen, highlightedIndex = _this$getState7.highlightedIndex;\n                    if (isOpen) {\n                        if (_this.getItemCount() > 0 && typeof highlightedIndex === \"number\") {\n                            _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n                        }\n                    }\n                    cbToCb(cb)();\n                });\n            };\n            _this.openMenu = function(cb) {\n                _this.internalSetState({\n                    isOpen: true\n                }, cb);\n            };\n            _this.closeMenu = function(cb) {\n                _this.internalSetState({\n                    isOpen: false\n                }, cb);\n            };\n            _this.updateStatus = debounce(function() {\n                var _this$props;\n                if (!((_this$props = _this.props) != null && (_this$props = _this$props.environment) != null && _this$props.document)) {\n                    return;\n                }\n                var state = _this.getState();\n                var item = _this.items[state.highlightedIndex];\n                var resultCount = _this.getItemCount();\n                var status = _this.props.getA11yStatusMessage((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    itemToString: _this.props.itemToString,\n                    previousResultCount: _this.previousResultCount,\n                    resultCount: resultCount,\n                    highlightedItem: item\n                }, state));\n                _this.previousResultCount = resultCount;\n                setStatus(status, _this.props.environment.document);\n            }, 200);\n            var _this$props2 = _this.props, defaultHighlightedIndex = _this$props2.defaultHighlightedIndex, _this$props2$initialH = _this$props2.initialHighlightedIndex, _highlightedIndex = _this$props2$initialH === void 0 ? defaultHighlightedIndex : _this$props2$initialH, defaultIsOpen = _this$props2.defaultIsOpen, _this$props2$initialI = _this$props2.initialIsOpen, _isOpen = _this$props2$initialI === void 0 ? defaultIsOpen : _this$props2$initialI, _this$props2$initialI2 = _this$props2.initialInputValue, _inputValue = _this$props2$initialI2 === void 0 ? \"\" : _this$props2$initialI2, _this$props2$initialS = _this$props2.initialSelectedItem, _selectedItem = _this$props2$initialS === void 0 ? null : _this$props2$initialS;\n            var _state = _this.getState({\n                highlightedIndex: _highlightedIndex,\n                isOpen: _isOpen,\n                inputValue: _inputValue,\n                selectedItem: _selectedItem\n            });\n            if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n                _state.inputValue = _this.props.itemToString(_state.selectedItem);\n            }\n            _this.state = _state;\n            return _this;\n        }\n        var _proto = Downshift.prototype;\n        /**\n     * Clear all running timeouts\n     */ _proto.internalClearTimeouts = function internalClearTimeouts() {\n            this.timeoutIds.forEach(function(id) {\n                clearTimeout(id);\n            });\n            this.timeoutIds = [];\n        } /**\n     * Gets the state based on internal state or props\n     * If a state value is passed via props, then that\n     * is the value given, otherwise it's retrieved from\n     * stateToMerge\n     *\n     * @param {Object} stateToMerge defaults to this.state\n     * @return {Object} the state\n     */ ;\n        _proto.getState = function getState$1(stateToMerge) {\n            if (stateToMerge === void 0) {\n                stateToMerge = this.state;\n            }\n            return getState(stateToMerge, this.props);\n        };\n        _proto.getItemCount = function getItemCount() {\n            // things read better this way. They're in priority order:\n            // 1. `this.itemCount`\n            // 2. `this.props.itemCount`\n            // 3. `this.items.length`\n            var itemCount = this.items.length;\n            if (this.itemCount != null) {\n                itemCount = this.itemCount;\n            } else if (this.props.itemCount !== undefined) {\n                itemCount = this.props.itemCount;\n            }\n            return itemCount;\n        };\n        _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n            return this.props.environment ? this.props.environment.document.getElementById(this.getItemId(index)) : null;\n        };\n        _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n            /* istanbul ignore else (react-native) */ {\n                var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n                this.props.scrollIntoView(node, this._menuNode);\n            }\n        };\n        _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n            var itemCount = this.getItemCount();\n            var _this$getState8 = this.getState(), highlightedIndex = _this$getState8.highlightedIndex;\n            if (itemCount > 0) {\n                var nextHighlightedIndex = getHighlightedIndex(highlightedIndex, amount, {\n                    length: itemCount\n                }, this.isItemDisabled, true);\n                this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n            }\n        };\n        _proto.getStateAndHelpers = function getStateAndHelpers() {\n            var _this$getState9 = this.getState(), highlightedIndex = _this$getState9.highlightedIndex, inputValue = _this$getState9.inputValue, selectedItem = _this$getState9.selectedItem, isOpen = _this$getState9.isOpen;\n            var itemToString = this.props.itemToString;\n            var id = this.id;\n            var getRootProps = this.getRootProps, getToggleButtonProps = this.getToggleButtonProps, getLabelProps = this.getLabelProps, getMenuProps = this.getMenuProps, getInputProps = this.getInputProps, getItemProps = this.getItemProps, openMenu = this.openMenu, closeMenu = this.closeMenu, toggleMenu = this.toggleMenu, selectItem = this.selectItem, selectItemAtIndex = this.selectItemAtIndex, selectHighlightedItem = this.selectHighlightedItem, setHighlightedIndex = this.setHighlightedIndex, clearSelection = this.clearSelection, clearItems = this.clearItems, reset = this.reset, setItemCount = this.setItemCount, unsetItemCount = this.unsetItemCount, setState = this.internalSetState;\n            return {\n                // prop getters\n                getRootProps: getRootProps,\n                getToggleButtonProps: getToggleButtonProps,\n                getLabelProps: getLabelProps,\n                getMenuProps: getMenuProps,\n                getInputProps: getInputProps,\n                getItemProps: getItemProps,\n                // actions\n                reset: reset,\n                openMenu: openMenu,\n                closeMenu: closeMenu,\n                toggleMenu: toggleMenu,\n                selectItem: selectItem,\n                selectItemAtIndex: selectItemAtIndex,\n                selectHighlightedItem: selectHighlightedItem,\n                setHighlightedIndex: setHighlightedIndex,\n                clearSelection: clearSelection,\n                clearItems: clearItems,\n                setItemCount: setItemCount,\n                unsetItemCount: unsetItemCount,\n                setState: setState,\n                // props\n                itemToString: itemToString,\n                // derived\n                id: id,\n                // state\n                highlightedIndex: highlightedIndex,\n                inputValue: inputValue,\n                isOpen: isOpen,\n                selectedItem: selectedItem\n            };\n        };\n        _proto.componentDidMount = function componentDidMount() {\n            var _this4 = this;\n            /* istanbul ignore if (react-native) */ if ( true && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n                validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n            }\n            /* istanbul ignore if (react-native or SSR) */ if (!this.props.environment) {\n                this.cleanup = function() {\n                    _this4.internalClearTimeouts();\n                };\n            } else {\n                // this.isMouseDown helps us track whether the mouse is currently held down.\n                // This is useful when the user clicks on an item in the list, but holds the mouse\n                // down long enough for the list to disappear (because the blur event fires on the input)\n                // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n                // trigger hiding the menu.\n                var onMouseDown = function onMouseDown() {\n                    _this4.isMouseDown = true;\n                };\n                var onMouseUp = function onMouseUp(event) {\n                    _this4.isMouseDown = false;\n                    // if the target element or the activeElement is within a downshift node\n                    // then we don't want to reset downshift\n                    var contextWithinDownshift = targetWithinDownshift(event.target, [\n                        _this4._rootNode,\n                        _this4._menuNode\n                    ], _this4.props.environment);\n                    if (!contextWithinDownshift && _this4.getState().isOpen) {\n                        _this4.reset({\n                            type: mouseUp\n                        }, function() {\n                            return _this4.props.onOuterClick(_this4.getStateAndHelpers());\n                        });\n                    }\n                };\n                // Touching an element in iOS gives focus and hover states, but touching out of\n                // the element will remove hover, and persist the focus state, resulting in the\n                // blur event not being triggered.\n                // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n                // If the user taps outside of Downshift, the component should be reset,\n                // but not if the user is swiping\n                var onTouchStart = function onTouchStart() {\n                    _this4.isTouchMove = false;\n                };\n                var onTouchMove = function onTouchMove() {\n                    _this4.isTouchMove = true;\n                };\n                var onTouchEnd = function onTouchEnd(event) {\n                    var contextWithinDownshift = targetWithinDownshift(event.target, [\n                        _this4._rootNode,\n                        _this4._menuNode\n                    ], _this4.props.environment, false);\n                    if (!_this4.isTouchMove && !contextWithinDownshift && _this4.getState().isOpen) {\n                        _this4.reset({\n                            type: touchEnd\n                        }, function() {\n                            return _this4.props.onOuterClick(_this4.getStateAndHelpers());\n                        });\n                    }\n                };\n                var environment = this.props.environment;\n                environment.addEventListener(\"mousedown\", onMouseDown);\n                environment.addEventListener(\"mouseup\", onMouseUp);\n                environment.addEventListener(\"touchstart\", onTouchStart);\n                environment.addEventListener(\"touchmove\", onTouchMove);\n                environment.addEventListener(\"touchend\", onTouchEnd);\n                this.cleanup = function() {\n                    _this4.internalClearTimeouts();\n                    _this4.updateStatus.cancel();\n                    environment.removeEventListener(\"mousedown\", onMouseDown);\n                    environment.removeEventListener(\"mouseup\", onMouseUp);\n                    environment.removeEventListener(\"touchstart\", onTouchStart);\n                    environment.removeEventListener(\"touchmove\", onTouchMove);\n                    environment.removeEventListener(\"touchend\", onTouchEnd);\n                };\n            }\n        };\n        _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n            var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props, currentHighlightedIndex = _ref10.highlightedIndex;\n            var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps, prevHighlightedIndex = _ref11.highlightedIndex;\n            var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n            var scrollWhenNavigating = currentHighlightedIndex !== prevHighlightedIndex;\n            return scrollWhenOpen || scrollWhenNavigating;\n        };\n        _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n            if (true) {\n                validateControlledUnchanged(this.state, prevProps, this.props);\n                /* istanbul ignore if (react-native) */ if (this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n                    validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n                }\n            }\n            if (isControlledProp(this.props, \"selectedItem\") && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n                this.internalSetState({\n                    type: controlledPropUpdatedSelectedItem,\n                    inputValue: this.props.itemToString(this.props.selectedItem)\n                });\n            }\n            if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n                this.scrollHighlightedItemIntoView();\n            }\n            /* istanbul ignore else (react-native) */ {\n                this.updateStatus();\n            }\n        };\n        _proto.componentWillUnmount = function componentWillUnmount() {\n            this.cleanup(); // avoids memory leak\n        };\n        _proto.render = function render() {\n            var children = unwrapArray(this.props.children, noop);\n            // because the items are rerendered every time we call the children\n            // we clear this out each render and it will be populated again as\n            // getItemProps is called.\n            this.clearItems();\n            // we reset this so we know whether the user calls getRootProps during\n            // this render. If they do then we don't need to do anything,\n            // if they don't then we need to clone the element they return and\n            // apply the props for them.\n            this.getRootProps.called = false;\n            this.getRootProps.refKey = undefined;\n            this.getRootProps.suppressRefError = undefined;\n            // we do something similar for getMenuProps\n            this.getMenuProps.called = false;\n            this.getMenuProps.refKey = undefined;\n            this.getMenuProps.suppressRefError = undefined;\n            // we do something similar for getLabelProps\n            this.getLabelProps.called = false;\n            // and something similar for getInputProps\n            this.getInputProps.called = false;\n            var element = unwrapArray(children(this.getStateAndHelpers()));\n            if (!element) {\n                return null;\n            }\n            if (this.getRootProps.called || this.props.suppressRefError) {\n                if ( true && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n                    validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n                }\n                return element;\n            } else if (isDOMElement(element)) {\n                // they didn't apply the root props, but we can clone\n                // this and apply the props ourselves\n                return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_4__.cloneElement)(element, this.getRootProps(getElementProps(element)));\n            }\n            /* istanbul ignore else */ if (true) {\n                // they didn't apply the root props, but they need to\n                // otherwise we can't query around the autocomplete\n                throw new Error(\"downshift: If you return a non-DOM element, you must apply the getRootProps function\");\n            }\n            /* istanbul ignore next */ return undefined;\n        };\n        return Downshift;\n    }(react__WEBPACK_IMPORTED_MODULE_4__.Component);\n    Downshift.defaultProps = {\n        defaultHighlightedIndex: null,\n        defaultIsOpen: false,\n        getA11yStatusMessage: getA11yStatusMessage$1,\n        itemToString: function itemToString(i) {\n            if (i == null) {\n                return \"\";\n            }\n            if ( true && isPlainObject(i) && !i.hasOwnProperty(\"toString\")) {\n                // eslint-disable-next-line no-console\n                console.warn(\"downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.\", \"The object that was passed:\", i);\n            }\n            return String(i);\n        },\n        onStateChange: noop,\n        onInputValueChange: noop,\n        onUserAction: noop,\n        onChange: noop,\n        onSelect: noop,\n        onOuterClick: noop,\n        selectedItemChanged: function selectedItemChanged(prevItem, item) {\n            return prevItem !== item;\n        },\n        environment: /* istanbul ignore next (ssr) */  true ? undefined : 0,\n        stateReducer: function stateReducer(state, stateToSet) {\n            return stateToSet;\n        },\n        suppressRefError: false,\n        scrollIntoView: scrollIntoView\n    };\n    Downshift.stateChangeTypes = stateChangeTypes$3;\n    return Downshift;\n}();\n true ? Downshift.propTypes = {\n    children: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    defaultHighlightedIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    defaultIsOpen: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    initialHighlightedIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    initialSelectedItem: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any),\n    initialInputValue: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    initialIsOpen: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    getA11yStatusMessage: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    itemToString: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onStateChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onInputValueChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onUserAction: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onOuterClick: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    selectedItemChanged: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    stateReducer: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    itemCount: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    id: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    environment: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n        addEventListener: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n        removeEventListener: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n        document: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n            createElement: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n            getElementById: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n            activeElement: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any).isRequired,\n            body: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any).isRequired\n        }).isRequired,\n        Node: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired\n    }),\n    suppressRefError: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    scrollIntoView: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    // things we keep in state for uncontrolled components\n    // but can accept as props for controlled components\n    /* eslint-disable react/no-unused-prop-types */ selectedItem: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any),\n    isOpen: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    inputValue: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    highlightedIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    labelId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    inputId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    menuId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    getItemId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n} : 0;\nvar Downshift$1 = Downshift;\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n    var refKey = _ref12.refKey;\n    if (!node) {\n        // eslint-disable-next-line no-console\n        console.error('downshift: The ref prop \"' + refKey + '\" from getMenuProps was not applied correctly on your menu element.');\n    }\n}\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n    var refKey = _ref13.refKey;\n    var refKeySpecified = refKey !== \"ref\";\n    var isComposite = !isDOMElement(element);\n    if (isComposite && !refKeySpecified && !(0,react_is__WEBPACK_IMPORTED_MODULE_5__.isForwardRef)(element)) {\n        // eslint-disable-next-line no-console\n        console.error(\"downshift: You returned a non-DOM element. You must specify a refKey in getRootProps\");\n    } else if (!isComposite && refKeySpecified) {\n        // eslint-disable-next-line no-console\n        console.error('downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \"' + refKey + '\"');\n    }\n    if (!(0,react_is__WEBPACK_IMPORTED_MODULE_5__.isForwardRef)(element) && !getElementProps(element)[refKey]) {\n        // eslint-disable-next-line no-console\n        console.error('downshift: You must apply the ref prop \"' + refKey + '\" from getRootProps onto your root element.');\n    }\n}\nvar _excluded$3 = [\n    \"isInitialMount\",\n    \"highlightedIndex\",\n    \"items\",\n    \"environment\"\n];\nvar dropdownDefaultStateValues = {\n    highlightedIndex: -1,\n    isOpen: false,\n    selectedItem: null,\n    inputValue: \"\"\n};\nfunction callOnChangeProps(action, state, newState) {\n    var props = action.props, type = action.type;\n    var changes = {};\n    Object.keys(state).forEach(function(key) {\n        invokeOnChangeHandler(key, action, state, newState);\n        if (newState[key] !== state[key]) {\n            changes[key] = newState[key];\n        }\n    });\n    if (props.onStateChange && Object.keys(changes).length) {\n        props.onStateChange((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            type: type\n        }, changes));\n    }\n}\nfunction invokeOnChangeHandler(key, action, state, newState) {\n    var props = action.props, type = action.type;\n    var handler = \"on\" + capitalizeString(key) + \"Change\";\n    if (props[handler] && newState[key] !== undefined && newState[key] !== state[key]) {\n        props[handler]((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            type: type\n        }, newState));\n    }\n}\n/**\n * Default state reducer that returns the changes.\n *\n * @param {Object} s state.\n * @param {Object} a action with changes.\n * @returns {Object} changes.\n */ function stateReducer(s, a) {\n    return a.changes;\n}\n/**\n * Returns a message to be added to aria-live region when item is selected.\n *\n * @param {Object} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */ function getA11ySelectionMessage(selectionParameters) {\n    var selectedItem = selectionParameters.selectedItem, itemToStringLocal = selectionParameters.itemToString;\n    return selectedItem ? itemToStringLocal(selectedItem) + \" has been selected.\" : \"\";\n}\n/**\n * Debounced call for updating the a11y message.\n */ var updateA11yStatus = debounce(function(getA11yMessage, document) {\n    setStatus(getA11yMessage(), document);\n}, 200);\n// istanbul ignore next\nvar useIsomorphicLayoutEffect =  false ? 0 : react__WEBPACK_IMPORTED_MODULE_4__.useEffect;\n// istanbul ignore next\nvar useElementIds = \"useId\" in (react__WEBPACK_IMPORTED_MODULE_4___default()) // Avoid conditional useId call\n ? function useElementIds(_ref) {\n    var id = _ref.id, labelId = _ref.labelId, menuId = _ref.menuId, getItemId = _ref.getItemId, toggleButtonId = _ref.toggleButtonId, inputId = _ref.inputId;\n    // Avoid conditional useId call\n    var reactId = \"downshift-\" + react__WEBPACK_IMPORTED_MODULE_4___default().useId();\n    if (!id) {\n        id = reactId;\n    }\n    var elementIdsRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({\n        labelId: labelId || id + \"-label\",\n        menuId: menuId || id + \"-menu\",\n        getItemId: getItemId || function(index) {\n            return id + \"-item-\" + index;\n        },\n        toggleButtonId: toggleButtonId || id + \"-toggle-button\",\n        inputId: inputId || id + \"-input\"\n    });\n    return elementIdsRef.current;\n} : function useElementIds(_ref2) {\n    var _ref2$id = _ref2.id, id = _ref2$id === void 0 ? \"downshift-\" + generateId() : _ref2$id, labelId = _ref2.labelId, menuId = _ref2.menuId, getItemId = _ref2.getItemId, toggleButtonId = _ref2.toggleButtonId, inputId = _ref2.inputId;\n    var elementIdsRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({\n        labelId: labelId || id + \"-label\",\n        menuId: menuId || id + \"-menu\",\n        getItemId: getItemId || function(index) {\n            return id + \"-item-\" + index;\n        },\n        toggleButtonId: toggleButtonId || id + \"-toggle-button\",\n        inputId: inputId || id + \"-input\"\n    });\n    return elementIdsRef.current;\n};\nfunction getItemAndIndex(itemProp, indexProp, items, errorMessage) {\n    var item, index;\n    if (itemProp === undefined) {\n        if (indexProp === undefined) {\n            throw new Error(errorMessage);\n        }\n        item = items[indexProp];\n        index = indexProp;\n    } else {\n        index = indexProp === undefined ? items.indexOf(itemProp) : indexProp;\n        item = itemProp;\n    }\n    return [\n        item,\n        index\n    ];\n}\nfunction itemToString(item) {\n    return item ? String(item) : \"\";\n}\nfunction isAcceptedCharacterKey(key) {\n    return /^\\S{1}$/.test(key);\n}\nfunction capitalizeString(string) {\n    return \"\" + string.slice(0, 1).toUpperCase() + string.slice(1);\n}\nfunction useLatestRef(val) {\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(val);\n    // technically this is not \"concurrent mode safe\" because we're manipulating\n    // the value during render (so it's not idempotent). However, the places this\n    // hook is used is to support memoizing callbacks which will be called\n    // *during* render, so we need the latest values *during* render.\n    // If not for this, then we'd probably want to use useLayoutEffect instead.\n    ref.current = val;\n    return ref;\n}\n/**\n * Computes the controlled state using a the previous state, props,\n * two reducers, one from downshift and an optional one from the user.\n * Also calls the onChange handlers for state values that have changed.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @returns {Array} An array with the state and an action dispatcher.\n */ function useEnhancedReducer(reducer, props, createInitialState) {\n    var prevStateRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n    var actionRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n    var enhancedReducer = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(state, action) {\n        actionRef.current = action;\n        state = getState(state, action.props);\n        var changes = reducer(state, action);\n        var newState = action.props.stateReducer(state, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, action, {\n            changes: changes\n        }));\n        return newState;\n    }, [\n        reducer\n    ]);\n    var _useReducer = (0,react__WEBPACK_IMPORTED_MODULE_4__.useReducer)(enhancedReducer, props, createInitialState), state = _useReducer[0], dispatch = _useReducer[1];\n    var propsRef = useLatestRef(props);\n    var dispatchWithProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(action) {\n        return dispatch((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            props: propsRef.current\n        }, action));\n    }, [\n        propsRef\n    ]);\n    var action = actionRef.current;\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (action && prevStateRef.current && prevStateRef.current !== state) {\n            callOnChangeProps(action, getState(prevStateRef.current, action.props), state);\n        }\n        prevStateRef.current = state;\n    }, [\n        state,\n        props,\n        action\n    ]);\n    return [\n        state,\n        dispatchWithProps\n    ];\n}\n/**\n * Wraps the useEnhancedReducer and applies the controlled prop values before\n * returning the new state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @returns {Array} An array with the state and an action dispatcher.\n */ function useControlledReducer$1(reducer, props, createInitialState) {\n    var _useEnhancedReducer = useEnhancedReducer(reducer, props, createInitialState), state = _useEnhancedReducer[0], dispatch = _useEnhancedReducer[1];\n    return [\n        getState(state, props),\n        dispatch\n    ];\n}\nvar defaultProps$3 = {\n    itemToString: itemToString,\n    stateReducer: stateReducer,\n    getA11ySelectionMessage: getA11ySelectionMessage,\n    scrollIntoView: scrollIntoView,\n    environment: /* istanbul ignore next (ssr) */  true ? undefined : 0\n};\nfunction getDefaultValue$1(props, propKey, defaultStateValues) {\n    if (defaultStateValues === void 0) {\n        defaultStateValues = dropdownDefaultStateValues;\n    }\n    var defaultValue = props[\"default\" + capitalizeString(propKey)];\n    if (defaultValue !== undefined) {\n        return defaultValue;\n    }\n    return defaultStateValues[propKey];\n}\nfunction getInitialValue$1(props, propKey, defaultStateValues) {\n    if (defaultStateValues === void 0) {\n        defaultStateValues = dropdownDefaultStateValues;\n    }\n    var value = props[propKey];\n    if (value !== undefined) {\n        return value;\n    }\n    var initialValue = props[\"initial\" + capitalizeString(propKey)];\n    if (initialValue !== undefined) {\n        return initialValue;\n    }\n    return getDefaultValue$1(props, propKey, defaultStateValues);\n}\nfunction getInitialState$2(props) {\n    var selectedItem = getInitialValue$1(props, \"selectedItem\");\n    var isOpen = getInitialValue$1(props, \"isOpen\");\n    var highlightedIndex = getInitialValue$1(props, \"highlightedIndex\");\n    var inputValue = getInitialValue$1(props, \"inputValue\");\n    return {\n        highlightedIndex: highlightedIndex < 0 && selectedItem && isOpen ? props.items.indexOf(selectedItem) : highlightedIndex,\n        isOpen: isOpen,\n        selectedItem: selectedItem,\n        inputValue: inputValue\n    };\n}\nfunction getHighlightedIndexOnOpen(props, state, offset) {\n    var items = props.items, initialHighlightedIndex = props.initialHighlightedIndex, defaultHighlightedIndex = props.defaultHighlightedIndex;\n    var selectedItem = state.selectedItem, highlightedIndex = state.highlightedIndex;\n    if (items.length === 0) {\n        return -1;\n    }\n    // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n    if (initialHighlightedIndex !== undefined && highlightedIndex === initialHighlightedIndex) {\n        return initialHighlightedIndex;\n    }\n    if (defaultHighlightedIndex !== undefined) {\n        return defaultHighlightedIndex;\n    }\n    if (selectedItem) {\n        return items.indexOf(selectedItem);\n    }\n    if (offset === 0) {\n        return -1;\n    }\n    return offset < 0 ? items.length - 1 : 0;\n}\n/**\n * Reuse the movement tracking of mouse and touch events.\n *\n * @param {boolean} isOpen Whether the dropdown is open or not.\n * @param {Array<Object>} downshiftElementRefs Downshift element refs to track movement (toggleButton, menu etc.)\n * @param {Object} environment Environment where component/hook exists.\n * @param {Function} handleBlur Handler on blur from mouse or touch.\n * @returns {Object} Ref containing whether mouseDown or touchMove event is happening\n */ function useMouseAndTouchTracker(isOpen, downshiftElementRefs, environment, handleBlur) {\n    var mouseAndTouchTrackersRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({\n        isMouseDown: false,\n        isTouchMove: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (!environment) {\n            return;\n        }\n        // The same strategy for checking if a click occurred inside or outside downshift\n        // as in downshift.js.\n        var onMouseDown = function onMouseDown() {\n            mouseAndTouchTrackersRef.current.isMouseDown = true;\n        };\n        var onMouseUp = function onMouseUp(event) {\n            mouseAndTouchTrackersRef.current.isMouseDown = false;\n            if (isOpen && !targetWithinDownshift(event.target, downshiftElementRefs.map(function(ref) {\n                return ref.current;\n            }), environment)) {\n                handleBlur();\n            }\n        };\n        var onTouchStart = function onTouchStart() {\n            mouseAndTouchTrackersRef.current.isTouchMove = false;\n        };\n        var onTouchMove = function onTouchMove() {\n            mouseAndTouchTrackersRef.current.isTouchMove = true;\n        };\n        var onTouchEnd = function onTouchEnd(event) {\n            if (isOpen && !mouseAndTouchTrackersRef.current.isTouchMove && !targetWithinDownshift(event.target, downshiftElementRefs.map(function(ref) {\n                return ref.current;\n            }), environment, false)) {\n                handleBlur();\n            }\n        };\n        environment.addEventListener(\"mousedown\", onMouseDown);\n        environment.addEventListener(\"mouseup\", onMouseUp);\n        environment.addEventListener(\"touchstart\", onTouchStart);\n        environment.addEventListener(\"touchmove\", onTouchMove);\n        environment.addEventListener(\"touchend\", onTouchEnd);\n        // eslint-disable-next-line consistent-return\n        return function cleanup() {\n            environment.removeEventListener(\"mousedown\", onMouseDown);\n            environment.removeEventListener(\"mouseup\", onMouseUp);\n            environment.removeEventListener(\"touchstart\", onTouchStart);\n            environment.removeEventListener(\"touchmove\", onTouchMove);\n            environment.removeEventListener(\"touchend\", onTouchEnd);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        isOpen,\n        environment\n    ]);\n    return mouseAndTouchTrackersRef;\n}\n/* istanbul ignore next */ // eslint-disable-next-line import/no-mutable-exports\nvar useGetterPropsCalledChecker = function useGetterPropsCalledChecker() {\n    return noop;\n};\n/**\n * Custom hook that checks if getter props are called correctly.\n *\n * @param  {...any} propKeys Getter prop names to be handled.\n * @returns {Function} Setter function called inside getter props to set call information.\n */ /* istanbul ignore next */ if (true) {\n    useGetterPropsCalledChecker = function useGetterPropsCalledChecker() {\n        var isInitialMountRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(true);\n        for(var _len = arguments.length, propKeys = new Array(_len), _key = 0; _key < _len; _key++){\n            propKeys[_key] = arguments[_key];\n        }\n        var getterPropsCalledRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(propKeys.reduce(function(acc, propKey) {\n            acc[propKey] = {};\n            return acc;\n        }, {}));\n        (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n            Object.keys(getterPropsCalledRef.current).forEach(function(propKey) {\n                var propCallInfo = getterPropsCalledRef.current[propKey];\n                if (isInitialMountRef.current) {\n                    if (!Object.keys(propCallInfo).length) {\n                        // eslint-disable-next-line no-console\n                        console.error(\"downshift: You forgot to call the \" + propKey + \" getter function on your component / element.\");\n                        return;\n                    }\n                }\n                var suppressRefError = propCallInfo.suppressRefError, refKey = propCallInfo.refKey, elementRef = propCallInfo.elementRef;\n                if ((!elementRef || !elementRef.current) && !suppressRefError) {\n                    // eslint-disable-next-line no-console\n                    console.error('downshift: The ref prop \"' + refKey + '\" from ' + propKey + \" was not applied correctly on your element.\");\n                }\n            });\n            isInitialMountRef.current = false;\n        });\n        var setGetterPropCallInfo = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(propKey, suppressRefError, refKey, elementRef) {\n            getterPropsCalledRef.current[propKey] = {\n                suppressRefError: suppressRefError,\n                refKey: refKey,\n                elementRef: elementRef\n            };\n        }, []);\n        return setGetterPropCallInfo;\n    };\n}\nfunction useA11yMessageSetter(getA11yMessage, dependencyArray, _ref3) {\n    var isInitialMount = _ref3.isInitialMount, highlightedIndex = _ref3.highlightedIndex, items = _ref3.items, environment = _ref3.environment, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref3, _excluded$3);\n    // Sets a11y status message on changes in state.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (isInitialMount || false || !(environment != null && environment.document)) {\n            return;\n        }\n        updateA11yStatus(function() {\n            return getA11yMessage((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                highlightedIndex: highlightedIndex,\n                highlightedItem: items[highlightedIndex],\n                resultCount: items.length\n            }, rest));\n        }, environment.document);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, dependencyArray);\n}\nfunction useScrollIntoView(_ref4) {\n    var highlightedIndex = _ref4.highlightedIndex, isOpen = _ref4.isOpen, itemRefs = _ref4.itemRefs, getItemNodeFromIndex = _ref4.getItemNodeFromIndex, menuElement = _ref4.menuElement, scrollIntoViewProp = _ref4.scrollIntoView;\n    // used not to scroll on highlight by mouse.\n    var shouldScrollRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(true);\n    // Scroll on highlighted item if change comes from keyboard.\n    useIsomorphicLayoutEffect(function() {\n        if (highlightedIndex < 0 || !isOpen || !Object.keys(itemRefs.current).length) {\n            return;\n        }\n        if (shouldScrollRef.current === false) {\n            shouldScrollRef.current = true;\n        } else {\n            scrollIntoViewProp(getItemNodeFromIndex(highlightedIndex), menuElement);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        highlightedIndex\n    ]);\n    return shouldScrollRef;\n}\n// eslint-disable-next-line import/no-mutable-exports\nvar useControlPropsValidator = noop;\n/* istanbul ignore next */ if (true) {\n    useControlPropsValidator = function useControlPropsValidator(_ref5) {\n        var isInitialMount = _ref5.isInitialMount, props = _ref5.props, state = _ref5.state;\n        // used for checking when props are moving from controlled to uncontrolled.\n        var prevPropsRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(props);\n        (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n            if (isInitialMount) {\n                return;\n            }\n            validateControlledUnchanged(state, prevPropsRef.current, props);\n            prevPropsRef.current = props;\n        }, [\n            state,\n            props,\n            isInitialMount\n        ]);\n    };\n}\n/**\n * Handles selection on Enter / Alt + ArrowUp. Closes the menu and resets the highlighted index, unless there is a highlighted.\n * In that case, selects the item and resets to defaults for open state and highlighted idex.\n * @param {Object} props The useCombobox props.\n * @param {number} highlightedIndex The index from the state.\n * @param {boolean} inputValue Also return the input value for state.\n * @returns The changes for the state.\n */ function getChangesOnSelection(props, highlightedIndex, inputValue) {\n    var _props$items;\n    if (inputValue === void 0) {\n        inputValue = true;\n    }\n    var shouldSelect = ((_props$items = props.items) == null ? void 0 : _props$items.length) && highlightedIndex >= 0;\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        isOpen: false,\n        highlightedIndex: -1\n    }, shouldSelect && (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        selectedItem: props.items[highlightedIndex],\n        isOpen: getDefaultValue$1(props, \"isOpen\"),\n        highlightedIndex: getDefaultValue$1(props, \"highlightedIndex\")\n    }, inputValue && {\n        inputValue: props.itemToString(props.items[highlightedIndex])\n    }));\n}\n// Shared between all exports.\nvar commonPropTypes = {\n    environment: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n        addEventListener: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n        removeEventListener: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n        document: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n            createElement: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n            getElementById: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired,\n            activeElement: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any).isRequired,\n            body: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any).isRequired\n        }).isRequired,\n        Node: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func).isRequired\n    }),\n    itemToString: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    stateReducer: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n};\n// Shared between useSelect, useCombobox, Downshift.\nvar commonDropdownPropTypes = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, commonPropTypes, {\n    getA11yStatusMessage: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    highlightedIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    defaultHighlightedIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    initialHighlightedIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    isOpen: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    defaultIsOpen: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    initialIsOpen: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    selectedItem: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any),\n    initialSelectedItem: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any),\n    defaultSelectedItem: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().any),\n    id: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    labelId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    menuId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    getItemId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    toggleButtonId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    onSelectedItemChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onHighlightedIndexChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onStateChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onIsOpenChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    scrollIntoView: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n});\nfunction downshiftCommonReducer(state, action, stateChangeTypes) {\n    var type = action.type, props = action.props;\n    var changes;\n    switch(type){\n        case stateChangeTypes.ItemMouseMove:\n            changes = {\n                highlightedIndex: action.disabled ? -1 : action.index\n            };\n            break;\n        case stateChangeTypes.MenuMouseLeave:\n            changes = {\n                highlightedIndex: -1\n            };\n            break;\n        case stateChangeTypes.ToggleButtonClick:\n        case stateChangeTypes.FunctionToggleMenu:\n            changes = {\n                isOpen: !state.isOpen,\n                highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n            };\n            break;\n        case stateChangeTypes.FunctionOpenMenu:\n            changes = {\n                isOpen: true,\n                highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n            };\n            break;\n        case stateChangeTypes.FunctionCloseMenu:\n            changes = {\n                isOpen: false\n            };\n            break;\n        case stateChangeTypes.FunctionSetHighlightedIndex:\n            changes = {\n                highlightedIndex: action.highlightedIndex\n            };\n            break;\n        case stateChangeTypes.FunctionSetInputValue:\n            changes = {\n                inputValue: action.inputValue\n            };\n            break;\n        case stateChangeTypes.FunctionReset:\n            changes = {\n                highlightedIndex: getDefaultValue$1(props, \"highlightedIndex\"),\n                isOpen: getDefaultValue$1(props, \"isOpen\"),\n                selectedItem: getDefaultValue$1(props, \"selectedItem\"),\n                inputValue: getDefaultValue$1(props, \"inputValue\")\n            };\n            break;\n        default:\n            throw new Error(\"Reducer called without proper action type.\");\n    }\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, state, changes);\n}\n/* eslint-enable complexity */ function getItemIndexByCharacterKey(_a) {\n    var keysSoFar = _a.keysSoFar, highlightedIndex = _a.highlightedIndex, items = _a.items, itemToString = _a.itemToString, isItemDisabled = _a.isItemDisabled;\n    var lowerCasedKeysSoFar = keysSoFar.toLowerCase();\n    for(var index = 0; index < items.length; index++){\n        // if we already have a search query in progress, we also consider the current highlighted item.\n        var offsetIndex = (index + highlightedIndex + (keysSoFar.length < 2 ? 1 : 0)) % items.length;\n        var item = items[offsetIndex];\n        if (item !== undefined && itemToString(item).toLowerCase().startsWith(lowerCasedKeysSoFar) && !isItemDisabled(item, offsetIndex)) {\n            return offsetIndex;\n        }\n    }\n    return highlightedIndex;\n}\nvar propTypes$2 = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_8__.__assign)({}, commonDropdownPropTypes), {\n    items: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array).isRequired,\n    isItemDisabled: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    getA11ySelectionMessage: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n});\n/**\n * Default implementation for status message. Only added when menu is open.\n * Will specift if there are results in the list, and if so, how many,\n * and what keys are relevant.\n *\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */ function getA11yStatusMessage(_a) {\n    var isOpen = _a.isOpen, resultCount = _a.resultCount, previousResultCount = _a.previousResultCount;\n    if (!isOpen) {\n        return \"\";\n    }\n    if (!resultCount) {\n        return \"No results are available.\";\n    }\n    if (resultCount !== previousResultCount) {\n        return \"\".concat(resultCount, \" result\").concat(resultCount === 1 ? \" is\" : \"s are\", \" available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select.\");\n    }\n    return \"\";\n}\nvar defaultProps$2 = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_8__.__assign)({}, defaultProps$3), {\n    getA11yStatusMessage: getA11yStatusMessage,\n    isItemDisabled: function() {\n        return false;\n    }\n});\n// eslint-disable-next-line import/no-mutable-exports\nvar validatePropTypes$2 = noop;\n/* istanbul ignore next */ if (true) {\n    validatePropTypes$2 = function(options, caller) {\n        prop_types__WEBPACK_IMPORTED_MODULE_7___default().checkPropTypes(propTypes$2, options, \"prop\", caller.name);\n    };\n}\nvar ToggleButtonClick$1 =  true ? \"__togglebutton_click__\" : 0;\nvar ToggleButtonKeyDownArrowDown =  true ? \"__togglebutton_keydown_arrow_down__\" : 0;\nvar ToggleButtonKeyDownArrowUp =  true ? \"__togglebutton_keydown_arrow_up__\" : 0;\nvar ToggleButtonKeyDownCharacter =  true ? \"__togglebutton_keydown_character__\" : 0;\nvar ToggleButtonKeyDownEscape =  true ? \"__togglebutton_keydown_escape__\" : 0;\nvar ToggleButtonKeyDownHome =  true ? \"__togglebutton_keydown_home__\" : 0;\nvar ToggleButtonKeyDownEnd =  true ? \"__togglebutton_keydown_end__\" : 0;\nvar ToggleButtonKeyDownEnter =  true ? \"__togglebutton_keydown_enter__\" : 0;\nvar ToggleButtonKeyDownSpaceButton =  true ? \"__togglebutton_keydown_space_button__\" : 0;\nvar ToggleButtonKeyDownPageUp =  true ? \"__togglebutton_keydown_page_up__\" : 0;\nvar ToggleButtonKeyDownPageDown =  true ? \"__togglebutton_keydown_page_down__\" : 0;\nvar ToggleButtonBlur =  true ? \"__togglebutton_blur__\" : 0;\nvar MenuMouseLeave$1 =  true ? \"__menu_mouse_leave__\" : 0;\nvar ItemMouseMove$1 =  true ? \"__item_mouse_move__\" : 0;\nvar ItemClick$1 =  true ? \"__item_click__\" : 0;\nvar FunctionToggleMenu$1 =  true ? \"__function_toggle_menu__\" : 0;\nvar FunctionOpenMenu$1 =  true ? \"__function_open_menu__\" : 0;\nvar FunctionCloseMenu$1 =  true ? \"__function_close_menu__\" : 0;\nvar FunctionSetHighlightedIndex$1 =  true ? \"__function_set_highlighted_index__\" : 0;\nvar FunctionSelectItem$1 =  true ? \"__function_select_item__\" : 0;\nvar FunctionSetInputValue$1 =  true ? \"__function_set_input_value__\" : 0;\nvar FunctionReset$2 =  true ? \"__function_reset__\" : 0;\nvar stateChangeTypes$2 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ToggleButtonClick: ToggleButtonClick$1,\n    ToggleButtonKeyDownArrowDown: ToggleButtonKeyDownArrowDown,\n    ToggleButtonKeyDownArrowUp: ToggleButtonKeyDownArrowUp,\n    ToggleButtonKeyDownCharacter: ToggleButtonKeyDownCharacter,\n    ToggleButtonKeyDownEscape: ToggleButtonKeyDownEscape,\n    ToggleButtonKeyDownHome: ToggleButtonKeyDownHome,\n    ToggleButtonKeyDownEnd: ToggleButtonKeyDownEnd,\n    ToggleButtonKeyDownEnter: ToggleButtonKeyDownEnter,\n    ToggleButtonKeyDownSpaceButton: ToggleButtonKeyDownSpaceButton,\n    ToggleButtonKeyDownPageUp: ToggleButtonKeyDownPageUp,\n    ToggleButtonKeyDownPageDown: ToggleButtonKeyDownPageDown,\n    ToggleButtonBlur: ToggleButtonBlur,\n    MenuMouseLeave: MenuMouseLeave$1,\n    ItemMouseMove: ItemMouseMove$1,\n    ItemClick: ItemClick$1,\n    FunctionToggleMenu: FunctionToggleMenu$1,\n    FunctionOpenMenu: FunctionOpenMenu$1,\n    FunctionCloseMenu: FunctionCloseMenu$1,\n    FunctionSetHighlightedIndex: FunctionSetHighlightedIndex$1,\n    FunctionSelectItem: FunctionSelectItem$1,\n    FunctionSetInputValue: FunctionSetInputValue$1,\n    FunctionReset: FunctionReset$2\n});\n/* eslint-disable complexity */ function downshiftSelectReducer(state, action) {\n    var _props$items;\n    var type = action.type, props = action.props, altKey = action.altKey;\n    var changes;\n    switch(type){\n        case ItemClick$1:\n            changes = {\n                isOpen: getDefaultValue$1(props, \"isOpen\"),\n                highlightedIndex: getDefaultValue$1(props, \"highlightedIndex\"),\n                selectedItem: props.items[action.index]\n            };\n            break;\n        case ToggleButtonKeyDownCharacter:\n            {\n                var lowercasedKey = action.key;\n                var inputValue = \"\" + state.inputValue + lowercasedKey;\n                var prevHighlightedIndex = !state.isOpen && state.selectedItem ? props.items.indexOf(state.selectedItem) : state.highlightedIndex;\n                var highlightedIndex = getItemIndexByCharacterKey({\n                    keysSoFar: inputValue,\n                    highlightedIndex: prevHighlightedIndex,\n                    items: props.items,\n                    itemToString: props.itemToString,\n                    isItemDisabled: props.isItemDisabled\n                });\n                changes = {\n                    inputValue: inputValue,\n                    highlightedIndex: highlightedIndex,\n                    isOpen: true\n                };\n            }\n            break;\n        case ToggleButtonKeyDownArrowDown:\n            {\n                var _highlightedIndex = state.isOpen ? getHighlightedIndex(state.highlightedIndex, 1, props.items, props.isItemDisabled) : altKey && state.selectedItem == null ? -1 : getHighlightedIndexOnOpen(props, state, 1);\n                changes = {\n                    highlightedIndex: _highlightedIndex,\n                    isOpen: true\n                };\n            }\n            break;\n        case ToggleButtonKeyDownArrowUp:\n            if (state.isOpen && altKey) {\n                changes = getChangesOnSelection(props, state.highlightedIndex, false);\n            } else {\n                var _highlightedIndex2 = state.isOpen ? getHighlightedIndex(state.highlightedIndex, -1, props.items, props.isItemDisabled) : getHighlightedIndexOnOpen(props, state, -1);\n                changes = {\n                    highlightedIndex: _highlightedIndex2,\n                    isOpen: true\n                };\n            }\n            break;\n        // only triggered when menu is open.\n        case ToggleButtonKeyDownEnter:\n        case ToggleButtonKeyDownSpaceButton:\n            changes = getChangesOnSelection(props, state.highlightedIndex, false);\n            break;\n        case ToggleButtonKeyDownHome:\n            changes = {\n                highlightedIndex: getNonDisabledIndex(0, false, props.items, props.isItemDisabled),\n                isOpen: true\n            };\n            break;\n        case ToggleButtonKeyDownEnd:\n            changes = {\n                highlightedIndex: getNonDisabledIndex(props.items.length - 1, true, props.items, props.isItemDisabled),\n                isOpen: true\n            };\n            break;\n        case ToggleButtonKeyDownPageUp:\n            changes = {\n                highlightedIndex: getHighlightedIndex(state.highlightedIndex, -10, props.items, props.isItemDisabled)\n            };\n            break;\n        case ToggleButtonKeyDownPageDown:\n            changes = {\n                highlightedIndex: getHighlightedIndex(state.highlightedIndex, 10, props.items, props.isItemDisabled)\n            };\n            break;\n        case ToggleButtonKeyDownEscape:\n            changes = {\n                isOpen: false,\n                highlightedIndex: -1\n            };\n            break;\n        case ToggleButtonBlur:\n            changes = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                isOpen: false,\n                highlightedIndex: -1\n            }, state.highlightedIndex >= 0 && ((_props$items = props.items) == null ? void 0 : _props$items.length) && {\n                selectedItem: props.items[state.highlightedIndex]\n            });\n            break;\n        case FunctionSelectItem$1:\n            changes = {\n                selectedItem: action.selectedItem\n            };\n            break;\n        default:\n            return downshiftCommonReducer(state, action, stateChangeTypes$2);\n    }\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, state, changes);\n}\n/* eslint-enable complexity */ var _excluded$2 = [\n    \"onMouseLeave\",\n    \"refKey\",\n    \"ref\"\n], _excluded2$2 = [\n    \"onBlur\",\n    \"onClick\",\n    \"onPress\",\n    \"onKeyDown\",\n    \"refKey\",\n    \"ref\"\n], _excluded3$1 = [\n    \"item\",\n    \"index\",\n    \"onMouseMove\",\n    \"onClick\",\n    \"onMouseDown\",\n    \"onPress\",\n    \"refKey\",\n    \"disabled\",\n    \"ref\"\n];\nuseSelect.stateChangeTypes = stateChangeTypes$2;\nfunction useSelect(userProps) {\n    if (userProps === void 0) {\n        userProps = {};\n    }\n    validatePropTypes$2(userProps, useSelect);\n    // Props defaults and destructuring.\n    var props = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, defaultProps$2, userProps);\n    var items = props.items, scrollIntoView = props.scrollIntoView, environment = props.environment, itemToString = props.itemToString, getA11ySelectionMessage = props.getA11ySelectionMessage, getA11yStatusMessage = props.getA11yStatusMessage;\n    // Initial state depending on controlled props.\n    var _useControlledReducer = useControlledReducer$1(downshiftSelectReducer, props, getInitialState$2), state = _useControlledReducer[0], dispatch = _useControlledReducer[1];\n    var isOpen = state.isOpen, highlightedIndex = state.highlightedIndex, selectedItem = state.selectedItem, inputValue = state.inputValue;\n    // Element efs.\n    var toggleButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    var menuRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    var itemRefs = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({});\n    // used to keep the inputValue clearTimeout object between renders.\n    var clearTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    // prevent id re-generation between renders.\n    var elementIds = useElementIds(props);\n    // used to keep track of how many items we had on previous cycle.\n    var previousResultCountRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n    var isInitialMountRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(true);\n    // utility callback to get item element.\n    var latest = useLatestRef({\n        state: state,\n        props: props\n    });\n    // Some utils.\n    var getItemNodeFromIndex = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(index) {\n        return itemRefs.current[elementIds.getItemId(index)];\n    }, [\n        elementIds\n    ]);\n    // Effects.\n    // Sets a11y status message on changes in state.\n    useA11yMessageSetter(getA11yStatusMessage, [\n        isOpen,\n        highlightedIndex,\n        inputValue,\n        items\n    ], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        isInitialMount: isInitialMountRef.current,\n        previousResultCount: previousResultCountRef.current,\n        items: items,\n        environment: environment,\n        itemToString: itemToString\n    }, state));\n    // Sets a11y status message on changes in selectedItem.\n    useA11yMessageSetter(getA11ySelectionMessage, [\n        selectedItem\n    ], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        isInitialMount: isInitialMountRef.current,\n        previousResultCount: previousResultCountRef.current,\n        items: items,\n        environment: environment,\n        itemToString: itemToString\n    }, state));\n    // Scroll on highlighted item if change comes from keyboard.\n    var shouldScrollRef = useScrollIntoView({\n        menuElement: menuRef.current,\n        highlightedIndex: highlightedIndex,\n        isOpen: isOpen,\n        itemRefs: itemRefs,\n        scrollIntoView: scrollIntoView,\n        getItemNodeFromIndex: getItemNodeFromIndex\n    });\n    // Sets cleanup for the keysSoFar callback, debounded after 500ms.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        // init the clean function here as we need access to dispatch.\n        clearTimeoutRef.current = debounce(function(outerDispatch) {\n            outerDispatch({\n                type: FunctionSetInputValue$1,\n                inputValue: \"\"\n            });\n        }, 500);\n        // Cancel any pending debounced calls on mount\n        return function() {\n            clearTimeoutRef.current.cancel();\n        };\n    }, []);\n    // Invokes the keysSoFar callback set up above.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (!inputValue) {\n            return;\n        }\n        clearTimeoutRef.current(dispatch);\n    }, [\n        dispatch,\n        inputValue\n    ]);\n    useControlPropsValidator({\n        isInitialMount: isInitialMountRef.current,\n        props: props,\n        state: state\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (isInitialMountRef.current) {\n            return;\n        }\n        previousResultCountRef.current = items.length;\n    });\n    // Focus the toggle button on first render if required.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        var focusOnOpen = getInitialValue$1(props, \"isOpen\");\n        if (focusOnOpen && toggleButtonRef.current) {\n            toggleButtonRef.current.focus();\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // Add mouse/touch events to document.\n    var mouseAndTouchTrackersRef = useMouseAndTouchTracker(isOpen, [\n        menuRef,\n        toggleButtonRef\n    ], environment, function() {\n        dispatch({\n            type: ToggleButtonBlur\n        });\n    });\n    var setGetterPropCallInfo = useGetterPropsCalledChecker(\"getMenuProps\", \"getToggleButtonProps\");\n    // Make initial ref false.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        isInitialMountRef.current = false;\n        return function() {\n            isInitialMountRef.current = true;\n        };\n    }, []);\n    // Reset itemRefs on close.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (!isOpen) {\n            itemRefs.current = {};\n        }\n    }, [\n        isOpen\n    ]);\n    // Event handler functions.\n    var toggleButtonKeyDownHandlers = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function() {\n        return {\n            ArrowDown: function ArrowDown(event) {\n                event.preventDefault();\n                dispatch({\n                    type: ToggleButtonKeyDownArrowDown,\n                    altKey: event.altKey\n                });\n            },\n            ArrowUp: function ArrowUp(event) {\n                event.preventDefault();\n                dispatch({\n                    type: ToggleButtonKeyDownArrowUp,\n                    altKey: event.altKey\n                });\n            },\n            Home: function Home(event) {\n                event.preventDefault();\n                dispatch({\n                    type: ToggleButtonKeyDownHome\n                });\n            },\n            End: function End(event) {\n                event.preventDefault();\n                dispatch({\n                    type: ToggleButtonKeyDownEnd\n                });\n            },\n            Escape: function Escape() {\n                if (latest.current.state.isOpen) {\n                    dispatch({\n                        type: ToggleButtonKeyDownEscape\n                    });\n                }\n            },\n            Enter: function Enter(event) {\n                event.preventDefault();\n                dispatch({\n                    type: latest.current.state.isOpen ? ToggleButtonKeyDownEnter : ToggleButtonClick$1\n                });\n            },\n            PageUp: function PageUp(event) {\n                if (latest.current.state.isOpen) {\n                    event.preventDefault();\n                    dispatch({\n                        type: ToggleButtonKeyDownPageUp\n                    });\n                }\n            },\n            PageDown: function PageDown(event) {\n                if (latest.current.state.isOpen) {\n                    event.preventDefault();\n                    dispatch({\n                        type: ToggleButtonKeyDownPageDown\n                    });\n                }\n            },\n            \" \": function _(event) {\n                event.preventDefault();\n                var currentState = latest.current.state;\n                if (!currentState.isOpen) {\n                    dispatch({\n                        type: ToggleButtonClick$1\n                    });\n                    return;\n                }\n                if (currentState.inputValue) {\n                    dispatch({\n                        type: ToggleButtonKeyDownCharacter,\n                        key: \" \"\n                    });\n                } else {\n                    dispatch({\n                        type: ToggleButtonKeyDownSpaceButton\n                    });\n                }\n            }\n        };\n    }, [\n        dispatch,\n        latest\n    ]);\n    // Action functions.\n    var toggleMenu = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionToggleMenu$1\n        });\n    }, [\n        dispatch\n    ]);\n    var closeMenu = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionCloseMenu$1\n        });\n    }, [\n        dispatch\n    ]);\n    var openMenu = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionOpenMenu$1\n        });\n    }, [\n        dispatch\n    ]);\n    var setHighlightedIndex = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newHighlightedIndex) {\n        dispatch({\n            type: FunctionSetHighlightedIndex$1,\n            highlightedIndex: newHighlightedIndex\n        });\n    }, [\n        dispatch\n    ]);\n    var selectItem = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newSelectedItem) {\n        dispatch({\n            type: FunctionSelectItem$1,\n            selectedItem: newSelectedItem\n        });\n    }, [\n        dispatch\n    ]);\n    var reset = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionReset$2\n        });\n    }, [\n        dispatch\n    ]);\n    var setInputValue = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newInputValue) {\n        dispatch({\n            type: FunctionSetInputValue$1,\n            inputValue: newInputValue\n        });\n    }, [\n        dispatch\n    ]);\n    // Getter functions.\n    var getLabelProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(labelProps) {\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            id: elementIds.labelId,\n            htmlFor: elementIds.toggleButtonId\n        }, labelProps);\n    }, [\n        elementIds\n    ]);\n    var getMenuProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp, _temp2) {\n        var _extends2;\n        var _ref = _temp === void 0 ? {} : _temp, onMouseLeave = _ref.onMouseLeave, _ref$refKey = _ref.refKey, refKey = _ref$refKey === void 0 ? \"ref\" : _ref$refKey, ref = _ref.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded$2);\n        var _ref2 = _temp2 === void 0 ? {} : _temp2, _ref2$suppressRefErro = _ref2.suppressRefError, suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n        var menuHandleMouseLeave = function menuHandleMouseLeave() {\n            dispatch({\n                type: MenuMouseLeave$1\n            });\n        };\n        setGetterPropCallInfo(\"getMenuProps\", suppressRefError, refKey, menuRef);\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function(menuNode) {\n            menuRef.current = menuNode;\n        }), _extends2.id = elementIds.menuId, _extends2.role = \"listbox\", _extends2[\"aria-labelledby\"] = rest && rest[\"aria-label\"] ? undefined : \"\" + elementIds.labelId, _extends2.onMouseLeave = callAllEventHandlers(onMouseLeave, menuHandleMouseLeave), _extends2), rest);\n    }, [\n        dispatch,\n        setGetterPropCallInfo,\n        elementIds\n    ]);\n    var getToggleButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp3, _temp4) {\n        var _extends3;\n        var _ref3 = _temp3 === void 0 ? {} : _temp3, onBlur = _ref3.onBlur, onClick = _ref3.onClick;\n        _ref3.onPress;\n        var onKeyDown = _ref3.onKeyDown, _ref3$refKey = _ref3.refKey, refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey, ref = _ref3.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref3, _excluded2$2);\n        var _ref4 = _temp4 === void 0 ? {} : _temp4, _ref4$suppressRefErro = _ref4.suppressRefError, suppressRefError = _ref4$suppressRefErro === void 0 ? false : _ref4$suppressRefErro;\n        var latestState = latest.current.state;\n        var toggleButtonHandleClick = function toggleButtonHandleClick() {\n            dispatch({\n                type: ToggleButtonClick$1\n            });\n        };\n        var toggleButtonHandleBlur = function toggleButtonHandleBlur() {\n            if (latestState.isOpen && !mouseAndTouchTrackersRef.current.isMouseDown) {\n                dispatch({\n                    type: ToggleButtonBlur\n                });\n            }\n        };\n        var toggleButtonHandleKeyDown = function toggleButtonHandleKeyDown(event) {\n            var key = normalizeArrowKey(event);\n            if (key && toggleButtonKeyDownHandlers[key]) {\n                toggleButtonKeyDownHandlers[key](event);\n            } else if (isAcceptedCharacterKey(key)) {\n                dispatch({\n                    type: ToggleButtonKeyDownCharacter,\n                    key: key\n                });\n            }\n        };\n        var toggleProps = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function(toggleButtonNode) {\n            toggleButtonRef.current = toggleButtonNode;\n        }), _extends3[\"aria-activedescendant\"] = latestState.isOpen && latestState.highlightedIndex > -1 ? elementIds.getItemId(latestState.highlightedIndex) : \"\", _extends3[\"aria-controls\"] = elementIds.menuId, _extends3[\"aria-expanded\"] = latest.current.state.isOpen, _extends3[\"aria-haspopup\"] = \"listbox\", _extends3[\"aria-labelledby\"] = rest && rest[\"aria-label\"] ? undefined : \"\" + elementIds.labelId, _extends3.id = elementIds.toggleButtonId, _extends3.role = \"combobox\", _extends3.tabIndex = 0, _extends3.onBlur = callAllEventHandlers(onBlur, toggleButtonHandleBlur), _extends3), rest);\n        if (!rest.disabled) {\n            /* istanbul ignore if (react-native) */ {\n                toggleProps.onClick = callAllEventHandlers(onClick, toggleButtonHandleClick);\n                toggleProps.onKeyDown = callAllEventHandlers(onKeyDown, toggleButtonHandleKeyDown);\n            }\n        }\n        setGetterPropCallInfo(\"getToggleButtonProps\", suppressRefError, refKey, toggleButtonRef);\n        return toggleProps;\n    }, [\n        latest,\n        elementIds,\n        setGetterPropCallInfo,\n        dispatch,\n        mouseAndTouchTrackersRef,\n        toggleButtonKeyDownHandlers\n    ]);\n    var getItemProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp5) {\n        var _extends4;\n        var _ref5 = _temp5 === void 0 ? {} : _temp5, itemProp = _ref5.item, indexProp = _ref5.index, onMouseMove = _ref5.onMouseMove, onClick = _ref5.onClick, onMouseDown = _ref5.onMouseDown;\n        _ref5.onPress;\n        var _ref5$refKey = _ref5.refKey, refKey = _ref5$refKey === void 0 ? \"ref\" : _ref5$refKey, disabledProp = _ref5.disabled, ref = _ref5.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref5, _excluded3$1);\n        if (disabledProp !== undefined) {\n            console.warn('Passing \"disabled\" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');\n        }\n        var _latest$current = latest.current, latestState = _latest$current.state, latestProps = _latest$current.props;\n        var _getItemAndIndex = getItemAndIndex(itemProp, indexProp, latestProps.items, \"Pass either item or index to getItemProps!\"), item = _getItemAndIndex[0], index = _getItemAndIndex[1];\n        var disabled = latestProps.isItemDisabled(item, index);\n        var itemHandleMouseMove = function itemHandleMouseMove() {\n            if (index === latestState.highlightedIndex) {\n                return;\n            }\n            shouldScrollRef.current = false;\n            dispatch({\n                type: ItemMouseMove$1,\n                index: index,\n                disabled: disabled\n            });\n        };\n        var itemHandleClick = function itemHandleClick() {\n            dispatch({\n                type: ItemClick$1,\n                index: index\n            });\n        };\n        var itemHandleMouseDown = function itemHandleMouseDown(e) {\n            return e.preventDefault();\n        }; // keep focus on the toggle after item click select.\n        var itemProps = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function(itemNode) {\n            if (itemNode) {\n                itemRefs.current[elementIds.getItemId(index)] = itemNode;\n            }\n        }), _extends4[\"aria-disabled\"] = disabled, _extends4[\"aria-selected\"] = \"\" + (item === latestState.selectedItem), _extends4.id = elementIds.getItemId(index), _extends4.role = \"option\", _extends4), rest);\n        if (!disabled) {\n            /* istanbul ignore next (react-native) */ {\n                itemProps.onClick = callAllEventHandlers(onClick, itemHandleClick);\n            }\n        }\n        itemProps.onMouseMove = callAllEventHandlers(onMouseMove, itemHandleMouseMove);\n        itemProps.onMouseDown = callAllEventHandlers(onMouseDown, itemHandleMouseDown);\n        return itemProps;\n    }, [\n        latest,\n        elementIds,\n        shouldScrollRef,\n        dispatch\n    ]);\n    return {\n        // prop getters.\n        getToggleButtonProps: getToggleButtonProps,\n        getLabelProps: getLabelProps,\n        getMenuProps: getMenuProps,\n        getItemProps: getItemProps,\n        // actions.\n        toggleMenu: toggleMenu,\n        openMenu: openMenu,\n        closeMenu: closeMenu,\n        setHighlightedIndex: setHighlightedIndex,\n        selectItem: selectItem,\n        reset: reset,\n        setInputValue: setInputValue,\n        // state.\n        highlightedIndex: highlightedIndex,\n        isOpen: isOpen,\n        selectedItem: selectedItem,\n        inputValue: inputValue\n    };\n}\nvar InputKeyDownArrowDown =  true ? \"__input_keydown_arrow_down__\" : 0;\nvar InputKeyDownArrowUp =  true ? \"__input_keydown_arrow_up__\" : 0;\nvar InputKeyDownEscape =  true ? \"__input_keydown_escape__\" : 0;\nvar InputKeyDownHome =  true ? \"__input_keydown_home__\" : 0;\nvar InputKeyDownEnd =  true ? \"__input_keydown_end__\" : 0;\nvar InputKeyDownPageUp =  true ? \"__input_keydown_page_up__\" : 0;\nvar InputKeyDownPageDown =  true ? \"__input_keydown_page_down__\" : 0;\nvar InputKeyDownEnter =  true ? \"__input_keydown_enter__\" : 0;\nvar InputChange =  true ? \"__input_change__\" : 0;\nvar InputBlur =  true ? \"__input_blur__\" : 0;\nvar InputClick =  true ? \"__input_click__\" : 0;\nvar MenuMouseLeave =  true ? \"__menu_mouse_leave__\" : 0;\nvar ItemMouseMove =  true ? \"__item_mouse_move__\" : 0;\nvar ItemClick =  true ? \"__item_click__\" : 0;\nvar ToggleButtonClick =  true ? \"__togglebutton_click__\" : 0;\nvar FunctionToggleMenu =  true ? \"__function_toggle_menu__\" : 0;\nvar FunctionOpenMenu =  true ? \"__function_open_menu__\" : 0;\nvar FunctionCloseMenu =  true ? \"__function_close_menu__\" : 0;\nvar FunctionSetHighlightedIndex =  true ? \"__function_set_highlighted_index__\" : 0;\nvar FunctionSelectItem =  true ? \"__function_select_item__\" : 0;\nvar FunctionSetInputValue =  true ? \"__function_set_input_value__\" : 0;\nvar FunctionReset$1 =  true ? \"__function_reset__\" : 0;\nvar ControlledPropUpdatedSelectedItem =  true ? \"__controlled_prop_updated_selected_item__\" : 0;\nvar stateChangeTypes$1 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    InputKeyDownArrowDown: InputKeyDownArrowDown,\n    InputKeyDownArrowUp: InputKeyDownArrowUp,\n    InputKeyDownEscape: InputKeyDownEscape,\n    InputKeyDownHome: InputKeyDownHome,\n    InputKeyDownEnd: InputKeyDownEnd,\n    InputKeyDownPageUp: InputKeyDownPageUp,\n    InputKeyDownPageDown: InputKeyDownPageDown,\n    InputKeyDownEnter: InputKeyDownEnter,\n    InputChange: InputChange,\n    InputBlur: InputBlur,\n    InputClick: InputClick,\n    MenuMouseLeave: MenuMouseLeave,\n    ItemMouseMove: ItemMouseMove,\n    ItemClick: ItemClick,\n    ToggleButtonClick: ToggleButtonClick,\n    FunctionToggleMenu: FunctionToggleMenu,\n    FunctionOpenMenu: FunctionOpenMenu,\n    FunctionCloseMenu: FunctionCloseMenu,\n    FunctionSetHighlightedIndex: FunctionSetHighlightedIndex,\n    FunctionSelectItem: FunctionSelectItem,\n    FunctionSetInputValue: FunctionSetInputValue,\n    FunctionReset: FunctionReset$1,\n    ControlledPropUpdatedSelectedItem: ControlledPropUpdatedSelectedItem\n});\nfunction getInitialState$1(props) {\n    var initialState = getInitialState$2(props);\n    var selectedItem = initialState.selectedItem;\n    var inputValue = initialState.inputValue;\n    if (inputValue === \"\" && selectedItem && props.defaultInputValue === undefined && props.initialInputValue === undefined && props.inputValue === undefined) {\n        inputValue = props.itemToString(selectedItem);\n    }\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, initialState, {\n        inputValue: inputValue\n    });\n}\nvar propTypes$1 = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, commonDropdownPropTypes, {\n    items: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array).isRequired,\n    isItemDisabled: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    selectedItemChanged: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    getA11ySelectionMessage: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    inputValue: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    defaultInputValue: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    initialInputValue: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    inputId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    onInputValueChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n});\n/**\n * The useCombobox version of useControlledReducer, which also\n * checks if the controlled prop selectedItem changed between\n * renders. If so, it will also update inputValue with its\n * string equivalent. It uses the common useEnhancedReducer to\n * compute the rest of the state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @returns {Array} An array with the state and an action dispatcher.\n */ function useControlledReducer(reducer, props, createInitialState) {\n    var previousSelectedItemRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n    var _useEnhancedReducer = useEnhancedReducer(reducer, props, createInitialState), state = _useEnhancedReducer[0], dispatch = _useEnhancedReducer[1];\n    // ToDo: if needed, make same approach as selectedItemChanged from Downshift.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (!isControlledProp(props, \"selectedItem\")) {\n            return;\n        }\n        if (props.selectedItemChanged(previousSelectedItemRef.current, props.selectedItem)) {\n            dispatch({\n                type: ControlledPropUpdatedSelectedItem,\n                inputValue: props.itemToString(props.selectedItem)\n            });\n        }\n        previousSelectedItemRef.current = state.selectedItem === previousSelectedItemRef.current ? props.selectedItem : state.selectedItem;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        state.selectedItem,\n        props.selectedItem\n    ]);\n    return [\n        getState(state, props),\n        dispatch\n    ];\n}\n// eslint-disable-next-line import/no-mutable-exports\nvar validatePropTypes$1 = noop;\n/* istanbul ignore next */ if (true) {\n    validatePropTypes$1 = function validatePropTypes(options, caller) {\n        prop_types__WEBPACK_IMPORTED_MODULE_7___default().checkPropTypes(propTypes$1, options, \"prop\", caller.name);\n    };\n}\nvar defaultProps$1 = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, defaultProps$3, {\n    selectedItemChanged: function selectedItemChanged(prevItem, item) {\n        return prevItem !== item;\n    },\n    getA11yStatusMessage: getA11yStatusMessage$1,\n    isItemDisabled: function isItemDisabled() {\n        return false;\n    }\n});\n/* eslint-disable complexity */ function downshiftUseComboboxReducer(state, action) {\n    var _props$items;\n    var type = action.type, props = action.props, altKey = action.altKey;\n    var changes;\n    switch(type){\n        case ItemClick:\n            changes = {\n                isOpen: getDefaultValue$1(props, \"isOpen\"),\n                highlightedIndex: getDefaultValue$1(props, \"highlightedIndex\"),\n                selectedItem: props.items[action.index],\n                inputValue: props.itemToString(props.items[action.index])\n            };\n            break;\n        case InputKeyDownArrowDown:\n            if (state.isOpen) {\n                changes = {\n                    highlightedIndex: getHighlightedIndex(state.highlightedIndex, 1, props.items, props.isItemDisabled, true)\n                };\n            } else {\n                changes = {\n                    highlightedIndex: altKey && state.selectedItem == null ? -1 : getHighlightedIndexOnOpen(props, state, 1),\n                    isOpen: props.items.length >= 0\n                };\n            }\n            break;\n        case InputKeyDownArrowUp:\n            if (state.isOpen) {\n                if (altKey) {\n                    changes = getChangesOnSelection(props, state.highlightedIndex);\n                } else {\n                    changes = {\n                        highlightedIndex: getHighlightedIndex(state.highlightedIndex, -1, props.items, props.isItemDisabled, true)\n                    };\n                }\n            } else {\n                changes = {\n                    highlightedIndex: getHighlightedIndexOnOpen(props, state, -1),\n                    isOpen: props.items.length >= 0\n                };\n            }\n            break;\n        case InputKeyDownEnter:\n            changes = getChangesOnSelection(props, state.highlightedIndex);\n            break;\n        case InputKeyDownEscape:\n            changes = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                isOpen: false,\n                highlightedIndex: -1\n            }, !state.isOpen && {\n                selectedItem: null,\n                inputValue: \"\"\n            });\n            break;\n        case InputKeyDownPageUp:\n            changes = {\n                highlightedIndex: getHighlightedIndex(state.highlightedIndex, -10, props.items, props.isItemDisabled, true)\n            };\n            break;\n        case InputKeyDownPageDown:\n            changes = {\n                highlightedIndex: getHighlightedIndex(state.highlightedIndex, 10, props.items, props.isItemDisabled, true)\n            };\n            break;\n        case InputKeyDownHome:\n            changes = {\n                highlightedIndex: getNonDisabledIndex(0, false, props.items, props.isItemDisabled)\n            };\n            break;\n        case InputKeyDownEnd:\n            changes = {\n                highlightedIndex: getNonDisabledIndex(props.items.length - 1, true, props.items, props.isItemDisabled)\n            };\n            break;\n        case InputBlur:\n            changes = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                isOpen: false,\n                highlightedIndex: -1\n            }, state.highlightedIndex >= 0 && ((_props$items = props.items) == null ? void 0 : _props$items.length) && action.selectItem && {\n                selectedItem: props.items[state.highlightedIndex],\n                inputValue: props.itemToString(props.items[state.highlightedIndex])\n            });\n            break;\n        case InputChange:\n            changes = {\n                isOpen: true,\n                highlightedIndex: getDefaultValue$1(props, \"highlightedIndex\"),\n                inputValue: action.inputValue\n            };\n            break;\n        case InputClick:\n            changes = {\n                isOpen: !state.isOpen,\n                highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n            };\n            break;\n        case FunctionSelectItem:\n            changes = {\n                selectedItem: action.selectedItem,\n                inputValue: props.itemToString(action.selectedItem)\n            };\n            break;\n        case ControlledPropUpdatedSelectedItem:\n            changes = {\n                inputValue: action.inputValue\n            };\n            break;\n        default:\n            return downshiftCommonReducer(state, action, stateChangeTypes$1);\n    }\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, state, changes);\n}\n/* eslint-enable complexity */ var _excluded$1 = [\n    \"onMouseLeave\",\n    \"refKey\",\n    \"ref\"\n], _excluded2$1 = [\n    \"item\",\n    \"index\",\n    \"refKey\",\n    \"ref\",\n    \"onMouseMove\",\n    \"onMouseDown\",\n    \"onClick\",\n    \"onPress\",\n    \"disabled\"\n], _excluded3 = [\n    \"onClick\",\n    \"onPress\",\n    \"refKey\",\n    \"ref\"\n], _excluded4 = [\n    \"onKeyDown\",\n    \"onChange\",\n    \"onInput\",\n    \"onBlur\",\n    \"onChangeText\",\n    \"onClick\",\n    \"refKey\",\n    \"ref\"\n];\nuseCombobox.stateChangeTypes = stateChangeTypes$1;\nfunction useCombobox(userProps) {\n    if (userProps === void 0) {\n        userProps = {};\n    }\n    validatePropTypes$1(userProps, useCombobox);\n    // Props defaults and destructuring.\n    var props = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, defaultProps$1, userProps);\n    var items = props.items, scrollIntoView = props.scrollIntoView, environment = props.environment, getA11yStatusMessage = props.getA11yStatusMessage, getA11ySelectionMessage = props.getA11ySelectionMessage, itemToString = props.itemToString;\n    // Initial state depending on controlled props.\n    var _useControlledReducer = useControlledReducer(downshiftUseComboboxReducer, props, getInitialState$1), state = _useControlledReducer[0], dispatch = _useControlledReducer[1];\n    var isOpen = state.isOpen, highlightedIndex = state.highlightedIndex, selectedItem = state.selectedItem, inputValue = state.inputValue;\n    // Element refs.\n    var menuRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    var itemRefs = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({});\n    var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    var toggleButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    var isInitialMountRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(true);\n    // prevent id re-generation between renders.\n    var elementIds = useElementIds(props);\n    // used to keep track of how many items we had on previous cycle.\n    var previousResultCountRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n    // utility callback to get item element.\n    var latest = useLatestRef({\n        state: state,\n        props: props\n    });\n    var getItemNodeFromIndex = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(index) {\n        return itemRefs.current[elementIds.getItemId(index)];\n    }, [\n        elementIds\n    ]);\n    // Effects.\n    // Sets a11y status message on changes in state.\n    useA11yMessageSetter(getA11yStatusMessage, [\n        isOpen,\n        highlightedIndex,\n        inputValue,\n        items\n    ], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        isInitialMount: isInitialMountRef.current,\n        previousResultCount: previousResultCountRef.current,\n        items: items,\n        environment: environment,\n        itemToString: itemToString\n    }, state));\n    // Sets a11y status message on changes in selectedItem.\n    useA11yMessageSetter(getA11ySelectionMessage, [\n        selectedItem\n    ], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        isInitialMount: isInitialMountRef.current,\n        previousResultCount: previousResultCountRef.current,\n        items: items,\n        environment: environment,\n        itemToString: itemToString\n    }, state));\n    // Scroll on highlighted item if change comes from keyboard.\n    var shouldScrollRef = useScrollIntoView({\n        menuElement: menuRef.current,\n        highlightedIndex: highlightedIndex,\n        isOpen: isOpen,\n        itemRefs: itemRefs,\n        scrollIntoView: scrollIntoView,\n        getItemNodeFromIndex: getItemNodeFromIndex\n    });\n    useControlPropsValidator({\n        isInitialMount: isInitialMountRef.current,\n        props: props,\n        state: state\n    });\n    // Focus the input on first render if required.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        var focusOnOpen = getInitialValue$1(props, \"isOpen\");\n        if (focusOnOpen && inputRef.current) {\n            inputRef.current.focus();\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (isInitialMountRef.current) {\n            return;\n        }\n        previousResultCountRef.current = items.length;\n    });\n    // Add mouse/touch events to document.\n    var mouseAndTouchTrackersRef = useMouseAndTouchTracker(isOpen, [\n        inputRef,\n        menuRef,\n        toggleButtonRef\n    ], environment, function() {\n        dispatch({\n            type: InputBlur,\n            selectItem: false\n        });\n    });\n    var setGetterPropCallInfo = useGetterPropsCalledChecker(\"getInputProps\", \"getMenuProps\");\n    // Make initial ref false.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        isInitialMountRef.current = false;\n        return function() {\n            isInitialMountRef.current = true;\n        };\n    }, []);\n    // Reset itemRefs on close.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (!isOpen) {\n            itemRefs.current = {};\n        }\n    }, [\n        isOpen\n    ]);\n    // Reset itemRefs on close.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        var _inputRef$current;\n        if (!isOpen || !(environment != null && environment.document) || !(inputRef != null && (_inputRef$current = inputRef.current) != null && _inputRef$current.focus)) {\n            return;\n        }\n        if (environment.document.activeElement !== inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [\n        isOpen,\n        environment\n    ]);\n    /* Event handler functions */ var inputKeyDownHandlers = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function() {\n        return {\n            ArrowDown: function ArrowDown(event) {\n                event.preventDefault();\n                dispatch({\n                    type: InputKeyDownArrowDown,\n                    altKey: event.altKey\n                });\n            },\n            ArrowUp: function ArrowUp(event) {\n                event.preventDefault();\n                dispatch({\n                    type: InputKeyDownArrowUp,\n                    altKey: event.altKey\n                });\n            },\n            Home: function Home(event) {\n                if (!latest.current.state.isOpen) {\n                    return;\n                }\n                event.preventDefault();\n                dispatch({\n                    type: InputKeyDownHome\n                });\n            },\n            End: function End(event) {\n                if (!latest.current.state.isOpen) {\n                    return;\n                }\n                event.preventDefault();\n                dispatch({\n                    type: InputKeyDownEnd\n                });\n            },\n            Escape: function Escape(event) {\n                var latestState = latest.current.state;\n                if (latestState.isOpen || latestState.inputValue || latestState.selectedItem || latestState.highlightedIndex > -1) {\n                    event.preventDefault();\n                    dispatch({\n                        type: InputKeyDownEscape\n                    });\n                }\n            },\n            Enter: function Enter(event) {\n                var latestState = latest.current.state;\n                // if closed or no highlighted index, do nothing.\n                if (!latestState.isOpen || event.which === 229 // if IME composing, wait for next Enter keydown event.\n                ) {\n                    return;\n                }\n                event.preventDefault();\n                dispatch({\n                    type: InputKeyDownEnter\n                });\n            },\n            PageUp: function PageUp(event) {\n                if (latest.current.state.isOpen) {\n                    event.preventDefault();\n                    dispatch({\n                        type: InputKeyDownPageUp\n                    });\n                }\n            },\n            PageDown: function PageDown(event) {\n                if (latest.current.state.isOpen) {\n                    event.preventDefault();\n                    dispatch({\n                        type: InputKeyDownPageDown\n                    });\n                }\n            }\n        };\n    }, [\n        dispatch,\n        latest\n    ]);\n    // Getter props.\n    var getLabelProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(labelProps) {\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            id: elementIds.labelId,\n            htmlFor: elementIds.inputId\n        }, labelProps);\n    }, [\n        elementIds\n    ]);\n    var getMenuProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp, _temp2) {\n        var _extends2;\n        var _ref = _temp === void 0 ? {} : _temp, onMouseLeave = _ref.onMouseLeave, _ref$refKey = _ref.refKey, refKey = _ref$refKey === void 0 ? \"ref\" : _ref$refKey, ref = _ref.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded$1);\n        var _ref2 = _temp2 === void 0 ? {} : _temp2, _ref2$suppressRefErro = _ref2.suppressRefError, suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n        setGetterPropCallInfo(\"getMenuProps\", suppressRefError, refKey, menuRef);\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function(menuNode) {\n            menuRef.current = menuNode;\n        }), _extends2.id = elementIds.menuId, _extends2.role = \"listbox\", _extends2[\"aria-labelledby\"] = rest && rest[\"aria-label\"] ? undefined : \"\" + elementIds.labelId, _extends2.onMouseLeave = callAllEventHandlers(onMouseLeave, function() {\n            dispatch({\n                type: MenuMouseLeave\n            });\n        }), _extends2), rest);\n    }, [\n        dispatch,\n        setGetterPropCallInfo,\n        elementIds\n    ]);\n    var getItemProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp3) {\n        var _extends3, _ref4;\n        var _ref3 = _temp3 === void 0 ? {} : _temp3, itemProp = _ref3.item, indexProp = _ref3.index, _ref3$refKey = _ref3.refKey, refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey, ref = _ref3.ref, onMouseMove = _ref3.onMouseMove, onMouseDown = _ref3.onMouseDown, onClick = _ref3.onClick;\n        _ref3.onPress;\n        var disabledProp = _ref3.disabled, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref3, _excluded2$1);\n        if (disabledProp !== undefined) {\n            console.warn('Passing \"disabled\" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');\n        }\n        var _latest$current = latest.current, latestProps = _latest$current.props, latestState = _latest$current.state;\n        var _getItemAndIndex = getItemAndIndex(itemProp, indexProp, latestProps.items, \"Pass either item or index to getItemProps!\"), item = _getItemAndIndex[0], index = _getItemAndIndex[1];\n        var disabled = latestProps.isItemDisabled(item, index);\n        var onSelectKey = \"onClick\";\n        var customClickHandler = onClick;\n        var itemHandleMouseMove = function itemHandleMouseMove() {\n            if (index === latestState.highlightedIndex) {\n                return;\n            }\n            shouldScrollRef.current = false;\n            dispatch({\n                type: ItemMouseMove,\n                index: index,\n                disabled: disabled\n            });\n        };\n        var itemHandleClick = function itemHandleClick() {\n            dispatch({\n                type: ItemClick,\n                index: index\n            });\n        };\n        var itemHandleMouseDown = function itemHandleMouseDown(e) {\n            return e.preventDefault();\n        }; // keep focus on the input after item click select.\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function(itemNode) {\n            if (itemNode) {\n                itemRefs.current[elementIds.getItemId(index)] = itemNode;\n            }\n        }), _extends3[\"aria-disabled\"] = disabled, _extends3[\"aria-selected\"] = \"\" + (index === latestState.highlightedIndex), _extends3.id = elementIds.getItemId(index), _extends3.role = \"option\", _extends3), !disabled && (_ref4 = {}, _ref4[onSelectKey] = callAllEventHandlers(customClickHandler, itemHandleClick), _ref4), {\n            onMouseMove: callAllEventHandlers(onMouseMove, itemHandleMouseMove),\n            onMouseDown: callAllEventHandlers(onMouseDown, itemHandleMouseDown)\n        }, rest);\n    }, [\n        dispatch,\n        latest,\n        shouldScrollRef,\n        elementIds\n    ]);\n    var getToggleButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp4) {\n        var _extends4;\n        var _ref5 = _temp4 === void 0 ? {} : _temp4, onClick = _ref5.onClick;\n        _ref5.onPress;\n        var _ref5$refKey = _ref5.refKey, refKey = _ref5$refKey === void 0 ? \"ref\" : _ref5$refKey, ref = _ref5.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref5, _excluded3);\n        var latestState = latest.current.state;\n        var toggleButtonHandleClick = function toggleButtonHandleClick() {\n            dispatch({\n                type: ToggleButtonClick\n            });\n        };\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function(toggleButtonNode) {\n            toggleButtonRef.current = toggleButtonNode;\n        }), _extends4[\"aria-controls\"] = elementIds.menuId, _extends4[\"aria-expanded\"] = latestState.isOpen, _extends4.id = elementIds.toggleButtonId, _extends4.tabIndex = -1, _extends4), !rest.disabled && (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, {\n            onClick: callAllEventHandlers(onClick, toggleButtonHandleClick)\n        }), rest);\n    }, [\n        dispatch,\n        latest,\n        elementIds\n    ]);\n    var getInputProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp5, _temp6) {\n        var _extends5;\n        var _ref6 = _temp5 === void 0 ? {} : _temp5, onKeyDown = _ref6.onKeyDown, onChange = _ref6.onChange, onInput = _ref6.onInput, onBlur = _ref6.onBlur;\n        _ref6.onChangeText;\n        var onClick = _ref6.onClick, _ref6$refKey = _ref6.refKey, refKey = _ref6$refKey === void 0 ? \"ref\" : _ref6$refKey, ref = _ref6.ref, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref6, _excluded4);\n        var _ref7 = _temp6 === void 0 ? {} : _temp6, _ref7$suppressRefErro = _ref7.suppressRefError, suppressRefError = _ref7$suppressRefErro === void 0 ? false : _ref7$suppressRefErro;\n        setGetterPropCallInfo(\"getInputProps\", suppressRefError, refKey, inputRef);\n        var latestState = latest.current.state;\n        var inputHandleKeyDown = function inputHandleKeyDown(event) {\n            var key = normalizeArrowKey(event);\n            if (key && inputKeyDownHandlers[key]) {\n                inputKeyDownHandlers[key](event);\n            }\n        };\n        var inputHandleChange = function inputHandleChange(event) {\n            dispatch({\n                type: InputChange,\n                inputValue: event.target.value\n            });\n        };\n        var inputHandleBlur = function inputHandleBlur(event) {\n            /* istanbul ignore else */ if (environment != null && environment.document && latestState.isOpen && !mouseAndTouchTrackersRef.current.isMouseDown) {\n                var isBlurByTabChange = event.relatedTarget === null && environment.document.activeElement !== environment.document.body;\n                dispatch({\n                    type: InputBlur,\n                    selectItem: !isBlurByTabChange\n                });\n            }\n        };\n        var inputHandleClick = function inputHandleClick() {\n            dispatch({\n                type: InputClick\n            });\n        };\n        /* istanbul ignore next (preact) */ var onChangeKey = \"onChange\";\n        var eventHandlers = {};\n        if (!rest.disabled) {\n            var _eventHandlers;\n            eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, inputHandleBlur), _eventHandlers.onClick = callAllEventHandlers(onClick, inputHandleClick), _eventHandlers);\n        }\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends5 = {}, _extends5[refKey] = handleRefs(ref, function(inputNode) {\n            inputRef.current = inputNode;\n        }), _extends5[\"aria-activedescendant\"] = latestState.isOpen && latestState.highlightedIndex > -1 ? elementIds.getItemId(latestState.highlightedIndex) : \"\", _extends5[\"aria-autocomplete\"] = \"list\", _extends5[\"aria-controls\"] = elementIds.menuId, _extends5[\"aria-expanded\"] = latestState.isOpen, _extends5[\"aria-labelledby\"] = rest && rest[\"aria-label\"] ? undefined : elementIds.labelId, _extends5.autoComplete = \"off\", _extends5.id = elementIds.inputId, _extends5.role = \"combobox\", _extends5.value = latestState.inputValue, _extends5), eventHandlers, rest);\n    }, [\n        setGetterPropCallInfo,\n        latest,\n        elementIds,\n        inputKeyDownHandlers,\n        dispatch,\n        mouseAndTouchTrackersRef,\n        environment\n    ]);\n    // returns\n    var toggleMenu = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionToggleMenu\n        });\n    }, [\n        dispatch\n    ]);\n    var closeMenu = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionCloseMenu\n        });\n    }, [\n        dispatch\n    ]);\n    var openMenu = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionOpenMenu\n        });\n    }, [\n        dispatch\n    ]);\n    var setHighlightedIndex = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newHighlightedIndex) {\n        dispatch({\n            type: FunctionSetHighlightedIndex,\n            highlightedIndex: newHighlightedIndex\n        });\n    }, [\n        dispatch\n    ]);\n    var selectItem = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newSelectedItem) {\n        dispatch({\n            type: FunctionSelectItem,\n            selectedItem: newSelectedItem\n        });\n    }, [\n        dispatch\n    ]);\n    var setInputValue = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newInputValue) {\n        dispatch({\n            type: FunctionSetInputValue,\n            inputValue: newInputValue\n        });\n    }, [\n        dispatch\n    ]);\n    var reset = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionReset$1\n        });\n    }, [\n        dispatch\n    ]);\n    return {\n        // prop getters.\n        getItemProps: getItemProps,\n        getLabelProps: getLabelProps,\n        getMenuProps: getMenuProps,\n        getInputProps: getInputProps,\n        getToggleButtonProps: getToggleButtonProps,\n        // actions.\n        toggleMenu: toggleMenu,\n        openMenu: openMenu,\n        closeMenu: closeMenu,\n        setHighlightedIndex: setHighlightedIndex,\n        setInputValue: setInputValue,\n        selectItem: selectItem,\n        reset: reset,\n        // state.\n        highlightedIndex: highlightedIndex,\n        isOpen: isOpen,\n        selectedItem: selectedItem,\n        inputValue: inputValue\n    };\n}\nvar defaultStateValues = {\n    activeIndex: -1,\n    selectedItems: []\n};\n/**\n * Returns the initial value for a state key in the following order:\n * 1. controlled prop, 2. initial prop, 3. default prop, 4. default\n * value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */ function getInitialValue(props, propKey) {\n    return getInitialValue$1(props, propKey, defaultStateValues);\n}\n/**\n * Returns the default value for a state key in the following order:\n * 1. controlled prop, 2. default prop, 3. default value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */ function getDefaultValue(props, propKey) {\n    return getDefaultValue$1(props, propKey, defaultStateValues);\n}\n/**\n * Gets the initial state based on the provided props. It uses initial, default\n * and controlled props related to state in order to compute the initial value.\n *\n * @param {Object} props Props passed to the hook.\n * @returns {Object} The initial state.\n */ function getInitialState(props) {\n    var activeIndex = getInitialValue(props, \"activeIndex\");\n    var selectedItems = getInitialValue(props, \"selectedItems\");\n    return {\n        activeIndex: activeIndex,\n        selectedItems: selectedItems\n    };\n}\n/**\n * Returns true if dropdown keydown operation is permitted. Should not be\n * allowed on keydown with modifier keys (ctrl, alt, shift, meta), on\n * input element with text content that is either highlighted or selection\n * cursor is not at the starting position.\n *\n * @param {KeyboardEvent} event The event from keydown.\n * @returns {boolean} Whether the operation is allowed.\n */ function isKeyDownOperationPermitted(event) {\n    if (event.shiftKey || event.metaKey || event.ctrlKey || event.altKey) {\n        return false;\n    }\n    var element = event.target;\n    if (element instanceof HTMLInputElement && // if element is a text input\n    element.value !== \"\" && // and we have text in it\n    // and cursor is either not at the start or is currently highlighting text.\n    (element.selectionStart !== 0 || element.selectionEnd !== 0)) {\n        return false;\n    }\n    return true;\n}\n/**\n * Returns a message to be added to aria-live region when item is removed.\n *\n * @param {Object} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */ function getA11yRemovalMessage(selectionParameters) {\n    var removedSelectedItem = selectionParameters.removedSelectedItem, itemToStringLocal = selectionParameters.itemToString;\n    return itemToStringLocal(removedSelectedItem) + \" has been removed.\";\n}\nvar propTypes = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, commonPropTypes, {\n    selectedItems: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n    initialSelectedItems: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n    defaultSelectedItems: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n    getA11yRemovalMessage: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    activeIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    initialActiveIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    defaultActiveIndex: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n    onActiveIndexChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    onSelectedItemsChange: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n    keyNavigationNext: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    keyNavigationPrevious: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string)\n});\nvar defaultProps = {\n    itemToString: defaultProps$3.itemToString,\n    stateReducer: defaultProps$3.stateReducer,\n    environment: defaultProps$3.environment,\n    getA11yRemovalMessage: getA11yRemovalMessage,\n    keyNavigationNext: \"ArrowRight\",\n    keyNavigationPrevious: \"ArrowLeft\"\n};\n// eslint-disable-next-line import/no-mutable-exports\nvar validatePropTypes = noop;\n/* istanbul ignore next */ if (true) {\n    validatePropTypes = function validatePropTypes(options, caller) {\n        prop_types__WEBPACK_IMPORTED_MODULE_7___default().checkPropTypes(propTypes, options, \"prop\", caller.name);\n    };\n}\nvar SelectedItemClick =  true ? \"__selected_item_click__\" : 0;\nvar SelectedItemKeyDownDelete =  true ? \"__selected_item_keydown_delete__\" : 0;\nvar SelectedItemKeyDownBackspace =  true ? \"__selected_item_keydown_backspace__\" : 0;\nvar SelectedItemKeyDownNavigationNext =  true ? \"__selected_item_keydown_navigation_next__\" : 0;\nvar SelectedItemKeyDownNavigationPrevious =  true ? \"__selected_item_keydown_navigation_previous__\" : 0;\nvar DropdownKeyDownNavigationPrevious =  true ? \"__dropdown_keydown_navigation_previous__\" : 0;\nvar DropdownKeyDownBackspace =  true ? \"__dropdown_keydown_backspace__\" : 0;\nvar DropdownClick =  true ? \"__dropdown_click__\" : 0;\nvar FunctionAddSelectedItem =  true ? \"__function_add_selected_item__\" : 0;\nvar FunctionRemoveSelectedItem =  true ? \"__function_remove_selected_item__\" : 0;\nvar FunctionSetSelectedItems =  true ? \"__function_set_selected_items__\" : 0;\nvar FunctionSetActiveIndex =  true ? \"__function_set_active_index__\" : 0;\nvar FunctionReset =  true ? \"__function_reset__\" : 0;\nvar stateChangeTypes = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    SelectedItemClick: SelectedItemClick,\n    SelectedItemKeyDownDelete: SelectedItemKeyDownDelete,\n    SelectedItemKeyDownBackspace: SelectedItemKeyDownBackspace,\n    SelectedItemKeyDownNavigationNext: SelectedItemKeyDownNavigationNext,\n    SelectedItemKeyDownNavigationPrevious: SelectedItemKeyDownNavigationPrevious,\n    DropdownKeyDownNavigationPrevious: DropdownKeyDownNavigationPrevious,\n    DropdownKeyDownBackspace: DropdownKeyDownBackspace,\n    DropdownClick: DropdownClick,\n    FunctionAddSelectedItem: FunctionAddSelectedItem,\n    FunctionRemoveSelectedItem: FunctionRemoveSelectedItem,\n    FunctionSetSelectedItems: FunctionSetSelectedItems,\n    FunctionSetActiveIndex: FunctionSetActiveIndex,\n    FunctionReset: FunctionReset\n});\n/* eslint-disable complexity */ function downshiftMultipleSelectionReducer(state, action) {\n    var type = action.type, index = action.index, props = action.props, selectedItem = action.selectedItem;\n    var activeIndex = state.activeIndex, selectedItems = state.selectedItems;\n    var changes;\n    switch(type){\n        case SelectedItemClick:\n            changes = {\n                activeIndex: index\n            };\n            break;\n        case SelectedItemKeyDownNavigationPrevious:\n            changes = {\n                activeIndex: activeIndex - 1 < 0 ? 0 : activeIndex - 1\n            };\n            break;\n        case SelectedItemKeyDownNavigationNext:\n            changes = {\n                activeIndex: activeIndex + 1 >= selectedItems.length ? -1 : activeIndex + 1\n            };\n            break;\n        case SelectedItemKeyDownBackspace:\n        case SelectedItemKeyDownDelete:\n            {\n                if (activeIndex < 0) {\n                    break;\n                }\n                var newActiveIndex = activeIndex;\n                if (selectedItems.length === 1) {\n                    newActiveIndex = -1;\n                } else if (activeIndex === selectedItems.length - 1) {\n                    newActiveIndex = selectedItems.length - 2;\n                }\n                changes = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    selectedItems: [].concat(selectedItems.slice(0, activeIndex), selectedItems.slice(activeIndex + 1))\n                }, {\n                    activeIndex: newActiveIndex\n                });\n                break;\n            }\n        case DropdownKeyDownNavigationPrevious:\n            changes = {\n                activeIndex: selectedItems.length - 1\n            };\n            break;\n        case DropdownKeyDownBackspace:\n            changes = {\n                selectedItems: selectedItems.slice(0, selectedItems.length - 1)\n            };\n            break;\n        case FunctionAddSelectedItem:\n            changes = {\n                selectedItems: [].concat(selectedItems, [\n                    selectedItem\n                ])\n            };\n            break;\n        case DropdownClick:\n            changes = {\n                activeIndex: -1\n            };\n            break;\n        case FunctionRemoveSelectedItem:\n            {\n                var _newActiveIndex = activeIndex;\n                var selectedItemIndex = selectedItems.indexOf(selectedItem);\n                if (selectedItemIndex < 0) {\n                    break;\n                }\n                if (selectedItems.length === 1) {\n                    _newActiveIndex = -1;\n                } else if (selectedItemIndex === selectedItems.length - 1) {\n                    _newActiveIndex = selectedItems.length - 2;\n                }\n                changes = {\n                    selectedItems: [].concat(selectedItems.slice(0, selectedItemIndex), selectedItems.slice(selectedItemIndex + 1)),\n                    activeIndex: _newActiveIndex\n                };\n                break;\n            }\n        case FunctionSetSelectedItems:\n            {\n                var newSelectedItems = action.selectedItems;\n                changes = {\n                    selectedItems: newSelectedItems\n                };\n                break;\n            }\n        case FunctionSetActiveIndex:\n            {\n                var _newActiveIndex2 = action.activeIndex;\n                changes = {\n                    activeIndex: _newActiveIndex2\n                };\n                break;\n            }\n        case FunctionReset:\n            changes = {\n                activeIndex: getDefaultValue(props, \"activeIndex\"),\n                selectedItems: getDefaultValue(props, \"selectedItems\")\n            };\n            break;\n        default:\n            throw new Error(\"Reducer called without proper action type.\");\n    }\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, state, changes);\n}\nvar _excluded = [\n    \"refKey\",\n    \"ref\",\n    \"onClick\",\n    \"onKeyDown\",\n    \"selectedItem\",\n    \"index\"\n], _excluded2 = [\n    \"refKey\",\n    \"ref\",\n    \"onKeyDown\",\n    \"onClick\",\n    \"preventKeyAction\"\n];\nuseMultipleSelection.stateChangeTypes = stateChangeTypes;\nfunction useMultipleSelection(userProps) {\n    if (userProps === void 0) {\n        userProps = {};\n    }\n    validatePropTypes(userProps, useMultipleSelection);\n    // Props defaults and destructuring.\n    var props = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, defaultProps, userProps);\n    var getA11yRemovalMessage = props.getA11yRemovalMessage, itemToString = props.itemToString, environment = props.environment, keyNavigationNext = props.keyNavigationNext, keyNavigationPrevious = props.keyNavigationPrevious;\n    // Reducer init.\n    var _useControlledReducer = useControlledReducer$1(downshiftMultipleSelectionReducer, props, getInitialState), state = _useControlledReducer[0], dispatch = _useControlledReducer[1];\n    var activeIndex = state.activeIndex, selectedItems = state.selectedItems;\n    // Refs.\n    var isInitialMountRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(true);\n    var dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    var previousSelectedItemsRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(selectedItems);\n    var selectedItemRefs = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n    selectedItemRefs.current = [];\n    var latest = useLatestRef({\n        state: state,\n        props: props\n    });\n    // Effects.\n    /* Sets a11y status message on changes in selectedItem. */ (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (isInitialMountRef.current || false || !(environment != null && environment.document)) {\n            return;\n        }\n        if (selectedItems.length < previousSelectedItemsRef.current.length) {\n            var removedSelectedItem = previousSelectedItemsRef.current.find(function(item) {\n                return selectedItems.indexOf(item) < 0;\n            });\n            setStatus(getA11yRemovalMessage({\n                itemToString: itemToString,\n                resultCount: selectedItems.length,\n                removedSelectedItem: removedSelectedItem,\n                activeIndex: activeIndex,\n                activeSelectedItem: selectedItems[activeIndex]\n            }), environment.document);\n        }\n        previousSelectedItemsRef.current = selectedItems;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        selectedItems.length\n    ]);\n    // Sets focus on active item.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        if (isInitialMountRef.current) {\n            return;\n        }\n        if (activeIndex === -1 && dropdownRef.current) {\n            dropdownRef.current.focus();\n        } else if (selectedItemRefs.current[activeIndex]) {\n            selectedItemRefs.current[activeIndex].focus();\n        }\n    }, [\n        activeIndex\n    ]);\n    useControlPropsValidator({\n        isInitialMount: isInitialMountRef.current,\n        props: props,\n        state: state\n    });\n    var setGetterPropCallInfo = useGetterPropsCalledChecker(\"getDropdownProps\");\n    // Make initial ref false.\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function() {\n        isInitialMountRef.current = false;\n        return function() {\n            isInitialMountRef.current = true;\n        };\n    }, []);\n    // Event handler functions.\n    var selectedItemKeyDownHandlers = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function() {\n        var _ref;\n        return _ref = {}, _ref[keyNavigationPrevious] = function() {\n            dispatch({\n                type: SelectedItemKeyDownNavigationPrevious\n            });\n        }, _ref[keyNavigationNext] = function() {\n            dispatch({\n                type: SelectedItemKeyDownNavigationNext\n            });\n        }, _ref.Delete = function Delete() {\n            dispatch({\n                type: SelectedItemKeyDownDelete\n            });\n        }, _ref.Backspace = function Backspace() {\n            dispatch({\n                type: SelectedItemKeyDownBackspace\n            });\n        }, _ref;\n    }, [\n        dispatch,\n        keyNavigationNext,\n        keyNavigationPrevious\n    ]);\n    var dropdownKeyDownHandlers = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function() {\n        var _ref2;\n        return _ref2 = {}, _ref2[keyNavigationPrevious] = function(event) {\n            if (isKeyDownOperationPermitted(event)) {\n                dispatch({\n                    type: DropdownKeyDownNavigationPrevious\n                });\n            }\n        }, _ref2.Backspace = function Backspace(event) {\n            if (isKeyDownOperationPermitted(event)) {\n                dispatch({\n                    type: DropdownKeyDownBackspace\n                });\n            }\n        }, _ref2;\n    }, [\n        dispatch,\n        keyNavigationPrevious\n    ]);\n    // Getter props.\n    var getSelectedItemProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp) {\n        var _extends2;\n        var _ref3 = _temp === void 0 ? {} : _temp, _ref3$refKey = _ref3.refKey, refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey, ref = _ref3.ref, onClick = _ref3.onClick, onKeyDown = _ref3.onKeyDown, selectedItemProp = _ref3.selectedItem, indexProp = _ref3.index, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref3, _excluded);\n        var latestState = latest.current.state;\n        var _getItemAndIndex = getItemAndIndex(selectedItemProp, indexProp, latestState.selectedItems, \"Pass either item or index to getSelectedItemProps!\"), index = _getItemAndIndex[1];\n        var isFocusable = index > -1 && index === latestState.activeIndex;\n        var selectedItemHandleClick = function selectedItemHandleClick() {\n            dispatch({\n                type: SelectedItemClick,\n                index: index\n            });\n        };\n        var selectedItemHandleKeyDown = function selectedItemHandleKeyDown(event) {\n            var key = normalizeArrowKey(event);\n            if (key && selectedItemKeyDownHandlers[key]) {\n                selectedItemKeyDownHandlers[key](event);\n            }\n        };\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function(selectedItemNode) {\n            if (selectedItemNode) {\n                selectedItemRefs.current.push(selectedItemNode);\n            }\n        }), _extends2.tabIndex = isFocusable ? 0 : -1, _extends2.onClick = callAllEventHandlers(onClick, selectedItemHandleClick), _extends2.onKeyDown = callAllEventHandlers(onKeyDown, selectedItemHandleKeyDown), _extends2), rest);\n    }, [\n        dispatch,\n        latest,\n        selectedItemKeyDownHandlers\n    ]);\n    var getDropdownProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(_temp2, _temp3) {\n        var _extends3;\n        var _ref4 = _temp2 === void 0 ? {} : _temp2, _ref4$refKey = _ref4.refKey, refKey = _ref4$refKey === void 0 ? \"ref\" : _ref4$refKey, ref = _ref4.ref, onKeyDown = _ref4.onKeyDown, onClick = _ref4.onClick, _ref4$preventKeyActio = _ref4.preventKeyAction, preventKeyAction = _ref4$preventKeyActio === void 0 ? false : _ref4$preventKeyActio, rest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref4, _excluded2);\n        var _ref5 = _temp3 === void 0 ? {} : _temp3, _ref5$suppressRefErro = _ref5.suppressRefError, suppressRefError = _ref5$suppressRefErro === void 0 ? false : _ref5$suppressRefErro;\n        setGetterPropCallInfo(\"getDropdownProps\", suppressRefError, refKey, dropdownRef);\n        var dropdownHandleKeyDown = function dropdownHandleKeyDown(event) {\n            var key = normalizeArrowKey(event);\n            if (key && dropdownKeyDownHandlers[key]) {\n                dropdownKeyDownHandlers[key](event);\n            }\n        };\n        var dropdownHandleClick = function dropdownHandleClick() {\n            dispatch({\n                type: DropdownClick\n            });\n        };\n        return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function(dropdownNode) {\n            if (dropdownNode) {\n                dropdownRef.current = dropdownNode;\n            }\n        }), _extends3), !preventKeyAction && {\n            onKeyDown: callAllEventHandlers(onKeyDown, dropdownHandleKeyDown),\n            onClick: callAllEventHandlers(onClick, dropdownHandleClick)\n        }, rest);\n    }, [\n        dispatch,\n        dropdownKeyDownHandlers,\n        setGetterPropCallInfo\n    ]);\n    // returns\n    var addSelectedItem = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(selectedItem) {\n        dispatch({\n            type: FunctionAddSelectedItem,\n            selectedItem: selectedItem\n        });\n    }, [\n        dispatch\n    ]);\n    var removeSelectedItem = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(selectedItem) {\n        dispatch({\n            type: FunctionRemoveSelectedItem,\n            selectedItem: selectedItem\n        });\n    }, [\n        dispatch\n    ]);\n    var setSelectedItems = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newSelectedItems) {\n        dispatch({\n            type: FunctionSetSelectedItems,\n            selectedItems: newSelectedItems\n        });\n    }, [\n        dispatch\n    ]);\n    var setActiveIndex = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function(newActiveIndex) {\n        dispatch({\n            type: FunctionSetActiveIndex,\n            activeIndex: newActiveIndex\n        });\n    }, [\n        dispatch\n    ]);\n    var reset = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function() {\n        dispatch({\n            type: FunctionReset\n        });\n    }, [\n        dispatch\n    ]);\n    return {\n        getSelectedItemProps: getSelectedItemProps,\n        getDropdownProps: getDropdownProps,\n        addSelectedItem: addSelectedItem,\n        removeSelectedItem: removeSelectedItem,\n        setSelectedItems: setSelectedItems,\n        setActiveIndex: setActiveIndex,\n        reset: reset,\n        selectedItems: selectedItems,\n        activeIndex: activeIndex\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZG93bnNoaWZ0L2Rpc3QvZG93bnNoaWZ0LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9HO0FBQzFDO0FBQzRCO0FBQ2hCO0FBQ25DO0FBQzBGO0FBQ3JGO0FBQ1c7QUFDbEI7QUFFakMsSUFBSWlCLFlBQVk7QUFFaEI7Ozs7Ozs7Q0FPQyxHQUNELFNBQVNDLE9BQU9DLEVBQUU7SUFDaEIsT0FBTyxPQUFPQSxPQUFPLGFBQWFBLEtBQUtDO0FBQ3pDO0FBQ0EsU0FBU0EsUUFBUTtBQUVqQjs7OztDQUlDLEdBQ0QsU0FBU0MsZUFBZUMsSUFBSSxFQUFFQyxRQUFRO0lBQ3BDLElBQUksQ0FBQ0QsTUFBTTtRQUNUO0lBQ0Y7SUFDQSxJQUFJRSxVQUFVVCxpRUFBT0EsQ0FBQ08sTUFBTTtRQUMxQkcsVUFBVUY7UUFDVkcsT0FBTztRQUNQQyxZQUFZO0lBQ2Q7SUFDQUgsUUFBUUksT0FBTyxDQUFDLFNBQVVDLElBQUk7UUFDNUIsSUFBSUMsS0FBS0QsS0FBS0MsRUFBRSxFQUNkQyxNQUFNRixLQUFLRSxHQUFHLEVBQ2RDLE9BQU9ILEtBQUtHLElBQUk7UUFDbEJGLEdBQUdHLFNBQVMsR0FBR0Y7UUFDZkQsR0FBR0ksVUFBVSxHQUFHRjtJQUNsQjtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDRCxTQUFTRyxpQkFBaUJDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxXQUFXO0lBQ2xELElBQUlDLFNBQVNILFdBQVdDLFNBQVNBLGlCQUFpQkMsWUFBWUUsSUFBSSxJQUFJSixPQUFPSyxRQUFRLElBQUlMLE9BQU9LLFFBQVEsQ0FBQ0o7SUFDekcsT0FBT0U7QUFDVDtBQUVBOzs7Ozs7O0NBT0MsR0FDRCxTQUFTRyxTQUFTQyxFQUFFLEVBQUVDLElBQUk7SUFDeEIsSUFBSUM7SUFDSixTQUFTQztRQUNQLElBQUlELFdBQVc7WUFDYkUsYUFBYUY7UUFDZjtJQUNGO0lBQ0EsU0FBU0c7UUFDUCxJQUFLLElBQUlDLE9BQU9D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QVdBLENBQUMsU0FBVWdOLFlBQVk7UUFDdERrUCxTQUFTO1lBQ1BqWCxNQUFNZ2tCO1lBQ05qYyxjQUFjQTtRQUNoQjtJQUNGLEdBQUc7UUFBQ2tQO0tBQVM7SUFDYixJQUFJb1AscUJBQXFCdHJCLGtEQUFXQSxDQUFDLFNBQVVnTixZQUFZO1FBQ3pEa1AsU0FBUztZQUNQalgsTUFBTWlrQjtZQUNObGMsY0FBY0E7UUFDaEI7SUFDRixHQUFHO1FBQUNrUDtLQUFTO0lBQ2IsSUFBSXFQLG1CQUFtQnZyQixrREFBV0EsQ0FBQyxTQUFVeXBCLGdCQUFnQjtRQUMzRHZOLFNBQVM7WUFDUGpYLE1BQU1ra0I7WUFDTjlCLGVBQWVvQztRQUNqQjtJQUNGLEdBQUc7UUFBQ3ZOO0tBQVM7SUFDYixJQUFJc1AsaUJBQWlCeHJCLGtEQUFXQSxDQUFDLFNBQVVzcEIsY0FBYztRQUN2RHBOLFNBQVM7WUFDUGpYLE1BQU1ta0I7WUFDTmhDLGFBQWFrQztRQUNmO0lBQ0YsR0FBRztRQUFDcE47S0FBUztJQUNiLElBQUl4TCxRQUFRMVEsa0RBQVdBLENBQUM7UUFDdEJrYyxTQUFTO1lBQ1BqWCxNQUFNc2E7UUFDUjtJQUNGLEdBQUc7UUFBQ3JEO0tBQVM7SUFDYixPQUFPO1FBQ0xxTyxzQkFBc0JBO1FBQ3RCTSxrQkFBa0JBO1FBQ2xCUSxpQkFBaUJBO1FBQ2pCQyxvQkFBb0JBO1FBQ3BCQyxrQkFBa0JBO1FBQ2xCQyxnQkFBZ0JBO1FBQ2hCOWEsT0FBT0E7UUFDUDJXLGVBQWVBO1FBQ2ZELGFBQWFBO0lBQ2Y7QUFDRjtBQUVnRyIsInNvdXJjZXMiOlsid2VicGFjazovL2libS1hZC1uZXh0LXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvZG93bnNoaWZ0L2Rpc3QvZG93bnNoaWZ0LmVzbS5qcz9hZGZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZCc7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgQ29tcG9uZW50LCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlUmVkdWNlciwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0LWlzJztcbmltcG9ydCB7IGNvbXB1dGUgfSBmcm9tICdjb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcnO1xuaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5cbnZhciBpZENvdW50ZXIgPSAwO1xuXG4vKipcbiAqIEFjY2VwdHMgYSBwYXJhbWV0ZXIgYW5kIHJldHVybnMgaXQgaWYgaXQncyBhIGZ1bmN0aW9uXG4gKiBvciBhIG5vb3AgZnVuY3Rpb24gaWYgaXQncyBub3QuIFRoaXMgYWxsb3dzIHVzIHRvXG4gKiBhY2NlcHQgYSBjYWxsYmFjaywgYnV0IG5vdCB3b3JyeSBhYm91dCBpdCBpZiBpdCdzIG5vdFxuICogcGFzc2VkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgdGhlIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYSBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBjYlRvQ2IoY2IpIHtcbiAgcmV0dXJuIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJyA/IGNiIDogbm9vcDtcbn1cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vKipcbiAqIFNjcm9sbCBub2RlIGludG8gdmlldyBpZiBuZWNlc3NhcnlcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgdGhlIGVsZW1lbnQgdGhhdCBzaG91bGQgc2Nyb2xsIGludG8gdmlld1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbWVudU5vZGUgdGhlIG1lbnUgZWxlbWVudCBvZiB0aGUgY29tcG9uZW50XG4gKi9cbmZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KG5vZGUsIG1lbnVOb2RlKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgYWN0aW9ucyA9IGNvbXB1dGUobm9kZSwge1xuICAgIGJvdW5kYXJ5OiBtZW51Tm9kZSxcbiAgICBibG9jazogJ25lYXJlc3QnLFxuICAgIHNjcm9sbE1vZGU6ICdpZi1uZWVkZWQnXG4gIH0pO1xuICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWwgPSBfcmVmLmVsLFxuICAgICAgdG9wID0gX3JlZi50b3AsXG4gICAgICBsZWZ0ID0gX3JlZi5sZWZ0O1xuICAgIGVsLnNjcm9sbFRvcCA9IHRvcDtcbiAgICBlbC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgbm9kZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2hpbGQgdGhlIGNoaWxkIG5vZGVcbiAqIEBwYXJhbSB7V2luZG93fSBlbnZpcm9ubWVudCBUaGUgd2luZG93IGNvbnRleHQgd2hlcmUgZG93bnNoaWZ0IHJlbmRlcnMuXG4gKiBAcmV0dXJuIHtCb29sZWFufSB3aGV0aGVyIHRoZSBwYXJlbnQgaXMgdGhlIGNoaWxkIG9yIHRoZSBjaGlsZCBpcyBpbiB0aGUgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGlzT3JDb250YWluc05vZGUocGFyZW50LCBjaGlsZCwgZW52aXJvbm1lbnQpIHtcbiAgdmFyIHJlc3VsdCA9IHBhcmVudCA9PT0gY2hpbGQgfHwgY2hpbGQgaW5zdGFuY2VvZiBlbnZpcm9ubWVudC5Ob2RlICYmIHBhcmVudC5jb250YWlucyAmJiBwYXJlbnQuY29udGFpbnMoY2hpbGQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFNpbXBsZSBkZWJvdW5jZSBpbXBsZW1lbnRhdGlvbi4gV2lsbCBjYWxsIHRoZSBnaXZlblxuICogZnVuY3Rpb24gb25jZSBhZnRlciB0aGUgdGltZSBnaXZlbiBoYXMgcGFzc2VkIHNpbmNlXG4gKiBpdCB3YXMgbGFzdCBjYWxsZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiB0aGUgZnVuY3Rpb24gdG8gY2FsbCBhZnRlciB0aGUgdGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgdGhlIHRpbWUgdG8gd2FpdFxuICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRpbWUpIHtcbiAgdmFyIHRpbWVvdXRJZDtcbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgY2FuY2VsKCk7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgZm4uYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICB9LCB0aW1lKTtcbiAgfVxuICB3cmFwcGVyLmNhbmNlbCA9IGNhbmNlbDtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbi8qKlxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHRvIGNvbXBvc2UgZXZlbnQgaGFuZGxlcnMuXG4gKiBUaGV5IGFyZSBleGVjdXRlZCBpbiBvcmRlciB1bnRpbCBvbmUgb2YgdGhlbSBzZXRzXG4gKiBgZXZlbnQucHJldmVudERvd25zaGlmdERlZmF1bHQgPSB0cnVlYC5cbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZucyB0aGUgZXZlbnQgaGFuZGxlciBmdW5jdGlvbnNcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgZXZlbnQgaGFuZGxlciB0byBhZGQgdG8gYW4gZWxlbWVudFxuICovXG5mdW5jdGlvbiBjYWxsQWxsRXZlbnRIYW5kbGVycygpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBmbnMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBmbnNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuICAgIHJldHVybiBmbnMuc29tZShmdW5jdGlvbiAoZm4pIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICBmbi5hcHBseSh2b2lkIDAsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RG93bnNoaWZ0RGVmYXVsdCB8fCBldmVudC5oYXNPd25Qcm9wZXJ0eSgnbmF0aXZlRXZlbnQnKSAmJiBldmVudC5uYXRpdmVFdmVudC5wcmV2ZW50RG93bnNoaWZ0RGVmYXVsdDtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVJlZnMoKSB7XG4gIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgcmVmcyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgIHJlZnNbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZWZzLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVmKG5vZGUpO1xuICAgICAgfSBlbHNlIGlmIChyZWYpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZ2VuZXJhdGVzIGEgdW5pcXVlIElEIGZvciBhbiBpbnN0YW5jZSBvZiBEb3duc2hpZnRcbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIHVuaXF1ZSBJRFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKCkge1xuICByZXR1cm4gU3RyaW5nKGlkQ291bnRlcisrKTtcbn1cblxuLyoqXG4gKiBSZXNldHMgaWRDb3VudGVyIHRvIDAuIFVzZWQgZm9yIFNTUi5cbiAqL1xuZnVuY3Rpb24gcmVzZXRJZENvdW50ZXIoKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gIGlmICgndXNlSWQnIGluIFJlYWN0KSB7XG4gICAgY29uc29sZS53YXJuKFwiSXQgaXMgbm90IG5lY2Vzc2FyeSB0byBjYWxsIHJlc2V0SWRDb3VudGVyIHdoZW4gdXNpbmcgUmVhY3QgMTgrXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZENvdW50ZXIgPSAwO1xufVxuXG4vKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIHN0YXR1cyBtZXNzYWdlLiBPbmx5IGFkZGVkIHdoZW4gbWVudSBpcyBvcGVuLlxuICogV2lsbCBzcGVjaWZ5IGlmIHRoZXJlIGFyZSByZXN1bHRzIGluIHRoZSBsaXN0LCBhbmQgaWYgc28sIGhvdyBtYW55LFxuICogYW5kIHdoYXQga2V5cyBhcmUgcmVsZXZhbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIHRoZSBkb3duc2hpZnQgc3RhdGUgYW5kIG90aGVyIHJlbGV2YW50IHByb3BlcnRpZXNcbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGExMXkgc3RhdHVzIG1lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gZ2V0QTExeVN0YXR1c01lc3NhZ2UkMShfcmVmMikge1xuICB2YXIgaXNPcGVuID0gX3JlZjIuaXNPcGVuLFxuICAgIHJlc3VsdENvdW50ID0gX3JlZjIucmVzdWx0Q291bnQsXG4gICAgcHJldmlvdXNSZXN1bHRDb3VudCA9IF9yZWYyLnByZXZpb3VzUmVzdWx0Q291bnQ7XG4gIGlmICghaXNPcGVuKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGlmICghcmVzdWx0Q291bnQpIHtcbiAgICByZXR1cm4gJ05vIHJlc3VsdHMgYXJlIGF2YWlsYWJsZS4nO1xuICB9XG4gIGlmIChyZXN1bHRDb3VudCAhPT0gcHJldmlvdXNSZXN1bHRDb3VudCkge1xuICAgIHJldHVybiByZXN1bHRDb3VudCArIFwiIHJlc3VsdFwiICsgKHJlc3VsdENvdW50ID09PSAxID8gJyBpcycgOiAncyBhcmUnKSArIFwiIGF2YWlsYWJsZSwgdXNlIHVwIGFuZCBkb3duIGFycm93IGtleXMgdG8gbmF2aWdhdGUuIFByZXNzIEVudGVyIGtleSB0byBzZWxlY3QuXCI7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFRha2VzIGFuIGFyZ3VtZW50IGFuZCBpZiBpdCdzIGFuIGFycmF5LCByZXR1cm5zIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheVxuICogb3RoZXJ3aXNlIHJldHVybnMgdGhlIGFyZ3VtZW50XG4gKiBAcGFyYW0geyp9IGFyZyB0aGUgbWF5YmUtYXJyYXlcbiAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlIHRoZSB2YWx1ZSBpZiBhcmcgaXMgZmFsc2V5IG5vdCBkZWZpbmVkXG4gKiBAcmV0dXJuIHsqfSB0aGUgYXJnIG9yIGl0J3MgZmlyc3QgaXRlbVxuICovXG5mdW5jdGlvbiB1bndyYXBBcnJheShhcmcsIGRlZmF1bHRWYWx1ZSkge1xuICBhcmcgPSBBcnJheS5pc0FycmF5KGFyZykgPyAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAocHJlYWN0KSAqL2FyZ1swXSA6IGFyZztcbiAgaWYgKCFhcmcgJiYgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJnO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgKFApcmVhY3QgZWxlbWVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciBpdCdzIGEgRE9NIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gaXNET01FbGVtZW50KGVsZW1lbnQpIHtcblxuICAvLyB0aGVuIHdlIGFzc3VtZSB0aGlzIGlzIHJlYWN0XG4gIHJldHVybiB0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAoUClyZWFjdCBlbGVtZW50XG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBwcm9wc1xuICovXG5mdW5jdGlvbiBnZXRFbGVtZW50UHJvcHMoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5wcm9wcztcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBoZWxwZnVsIGVycm9yIG1lc3NhZ2UgZm9yIHJlcXVpcmVkIHByb3BlcnRpZXMuIFVzZWZ1bFxuICogdG8gYmUgdXNlZCBhcyBhIGRlZmF1bHQgaW4gZGVzdHJ1Y3R1cmluZyBvciBvYmplY3QgcGFyYW1zLlxuICogQHBhcmFtIHtTdHJpbmd9IGZuTmFtZSB0aGUgZnVuY3Rpb24gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lIHRoZSBwcm9wIG5hbWVcbiAqL1xuZnVuY3Rpb24gcmVxdWlyZWRQcm9wKGZuTmFtZSwgcHJvcE5hbWUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS5lcnJvcihcIlRoZSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wTmFtZSArIFwiXFxcIiBpcyByZXF1aXJlZCBpbiBcXFwiXCIgKyBmbk5hbWUgKyBcIlxcXCJcIik7XG59XG52YXIgc3RhdGVLZXlzID0gWydoaWdobGlnaHRlZEluZGV4JywgJ2lucHV0VmFsdWUnLCAnaXNPcGVuJywgJ3NlbGVjdGVkSXRlbScsICd0eXBlJ107XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSB0aGUgc3RhdGUgb2JqZWN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHN0YXRlIHRoYXQgaXMgcmVsZXZhbnQgdG8gZG93bnNoaWZ0XG4gKi9cbmZ1bmN0aW9uIHBpY2tTdGF0ZShzdGF0ZSkge1xuICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgIHN0YXRlID0ge307XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBzdGF0ZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGlmIChzdGF0ZS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgcmVzdWx0W2tdID0gc3RhdGVba107XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGlzIHdpbGwgcGVyZm9ybSBhIHNoYWxsb3cgbWVyZ2Ugb2YgdGhlIGdpdmVuIHN0YXRlIG9iamVjdFxuICogd2l0aCB0aGUgc3RhdGUgY29taW5nIGZyb20gcHJvcHNcbiAqIChmb3IgdGhlIGNvbnRyb2xsZWQgY29tcG9uZW50IHNjZW5hcmlvKVxuICogVGhpcyBpcyB1c2VkIGluIHN0YXRlIHVwZGF0ZXIgZnVuY3Rpb25zIHNvIHRoZXkncmUgcmVmZXJlbmNpbmdcbiAqIHRoZSByaWdodCBzdGF0ZSByZWdhcmRsZXNzIG9mIHdoZXJlIGl0IGNvbWVzIGZyb20uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZSBvZiB0aGUgY29tcG9uZW50L2hvb2suXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgVGhlIHByb3BzIHRoYXQgbWF5IGNvbnRhaW4gY29udHJvbGxlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbWVyZ2VkIGNvbnRyb2xsZWQgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIGdldFN0YXRlKHN0YXRlLCBwcm9wcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUpLnJlZHVjZShmdW5jdGlvbiAocHJldlN0YXRlLCBrZXkpIHtcbiAgICBwcmV2U3RhdGVba2V5XSA9IGlzQ29udHJvbGxlZFByb3AocHJvcHMsIGtleSkgPyBwcm9wc1trZXldIDogc3RhdGVba2V5XTtcbiAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9LCB7fSk7XG59XG5cbi8qKlxuICogVGhpcyBkZXRlcm1pbmVzIHdoZXRoZXIgYSBwcm9wIGlzIGEgXCJjb250cm9sbGVkIHByb3BcIiBtZWFuaW5nIGl0IGlzXG4gKiBzdGF0ZSB3aGljaCBpcyBjb250cm9sbGVkIGJ5IHRoZSBvdXRzaWRlIG9mIHRoaXMgY29tcG9uZW50IHJhdGhlclxuICogdGhhbiB3aXRoaW4gdGhpcyBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFRoZSBwcm9wcyB0aGF0IG1heSBjb250YWluIGNvbnRyb2xsZWQgdmFsdWVzLlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSB0aGUga2V5IHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtCb29sZWFufSB3aGV0aGVyIGl0IGlzIGEgY29udHJvbGxlZCBjb250cm9sbGVkIHByb3BcbiAqL1xuZnVuY3Rpb24gaXNDb250cm9sbGVkUHJvcChwcm9wcywga2V5KSB7XG4gIHJldHVybiBwcm9wc1trZXldICE9PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogTm9ybWFsaXplcyB0aGUgJ2tleScgcHJvcGVydHkgb2YgYSBLZXlib2FyZEV2ZW50IGluIElFL0VkZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBhIGtleWJvYXJkRXZlbnQgb2JqZWN0XG4gKiBAcmV0dXJuIHtTdHJpbmd9IGtleWJvYXJkIGtleVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVBcnJvd0tleShldmVudCkge1xuICB2YXIga2V5ID0gZXZlbnQua2V5LFxuICAgIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAoaWUpICovXG4gIGlmIChrZXlDb2RlID49IDM3ICYmIGtleUNvZGUgPD0gNDAgJiYga2V5LmluZGV4T2YoJ0Fycm93JykgIT09IDApIHtcbiAgICByZXR1cm4gXCJBcnJvd1wiICsga2V5O1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbi8qKlxuICogU2ltcGxlIGNoZWNrIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb2JqZWN0IGxpdGVyYWxcbiAqIEBwYXJhbSB7Kn0gb2JqIGFueSB0aGluZ3NcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgaXQncyBvYmplY3QgbGl0ZXJhbFxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG5leHQgbm9uLWRpc2FibGVkIGhpZ2hsaWdodGVkSW5kZXggdmFsdWUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBjdXJyZW50IGhpZ2hsaWdodGVkSW5kZXguXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBvZmZzZXQgZnJvbSB0aGUgY3VycmVudCBoaWdobGlnaHRlZEluZGV4IHRvIHN0YXJ0IHNlYXJjaGluZy5cbiAqIEBwYXJhbSB7dW5rbm93bltdfSBpdGVtcyBUaGUgaXRlbXMgYXJyYXkuXG4gKiBAcGFyYW0geyhpdGVtOiB1bmtub3duLCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFufSBpc0l0ZW1EaXNhYmxlZCBGdW5jdGlvbiB0aGF0IHRlbGxzIGlmIGFuIGl0ZW0gaXMgZGlzYWJsZWQgb3Igbm90LlxuICogQHBhcmFtIHtib29sZWFuP30gY2lyY3VsYXIgSWYgdGhlIHNlYXJjaCByZWFjaGVzIHRoZSBlbmQsIGlmIGl0IGNhbiBzZWFyY2ggYWdhaW4gc3RhcnRpbmcgZnJvbSB0aGUgb3RoZXIgZW5kLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIG5leHQgaGlnaGxpZ2h0ZWRJbmRleC5cbiAqL1xuZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0ZWRJbmRleChzdGFydCwgb2Zmc2V0LCBpdGVtcywgaXNJdGVtRGlzYWJsZWQsIGNpcmN1bGFyKSB7XG4gIGlmIChjaXJjdWxhciA9PT0gdm9pZCAwKSB7XG4gICAgY2lyY3VsYXIgPSBmYWxzZTtcbiAgfVxuICB2YXIgY291bnQgPSBpdGVtcy5sZW5ndGg7XG4gIGlmIChjb3VudCA9PT0gMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICB2YXIgaXRlbXNMYXN0SW5kZXggPSBjb3VudCAtIDE7XG4gIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInIHx8IHN0YXJ0IDwgMCB8fCBzdGFydCA+IGl0ZW1zTGFzdEluZGV4KSB7XG4gICAgc3RhcnQgPSBvZmZzZXQgPiAwID8gLTEgOiBpdGVtc0xhc3RJbmRleCArIDE7XG4gIH1cbiAgdmFyIGN1cnJlbnQgPSBzdGFydCArIG9mZnNldDtcbiAgaWYgKGN1cnJlbnQgPCAwKSB7XG4gICAgY3VycmVudCA9IGNpcmN1bGFyID8gaXRlbXNMYXN0SW5kZXggOiAwO1xuICB9IGVsc2UgaWYgKGN1cnJlbnQgPiBpdGVtc0xhc3RJbmRleCkge1xuICAgIGN1cnJlbnQgPSBjaXJjdWxhciA/IDAgOiBpdGVtc0xhc3RJbmRleDtcbiAgfVxuICB2YXIgaGlnaGxpZ2h0ZWRJbmRleCA9IGdldE5vbkRpc2FibGVkSW5kZXgoY3VycmVudCwgb2Zmc2V0IDwgMCwgaXRlbXMsIGlzSXRlbURpc2FibGVkLCBjaXJjdWxhcik7XG4gIGlmIChoaWdobGlnaHRlZEluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiBzdGFydCA+PSBjb3VudCA/IC0xIDogc3RhcnQ7XG4gIH1cbiAgcmV0dXJuIGhpZ2hsaWdodGVkSW5kZXg7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbmV4dCBub24tZGlzYWJsZWQgaGlnaGxpZ2h0ZWRJbmRleCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIGN1cnJlbnQgaGlnaGxpZ2h0ZWRJbmRleC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYmFja3dhcmRzIElmIHRydWUsIGl0IHdpbGwgc2VhcmNoIGJhY2t3YXJkcyBmcm9tIHRoZSBzdGFydC5cbiAqIEBwYXJhbSB7dW5rbm93bltdfSBpdGVtcyBUaGUgaXRlbXMgYXJyYXkuXG4gKiBAcGFyYW0geyhpdGVtOiB1bmtub3duLCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFufSBpc0l0ZW1EaXNhYmxlZCBGdW5jdGlvbiB0aGF0IHRlbGxzIGlmIGFuIGl0ZW0gaXMgZGlzYWJsZWQgb3Igbm90LlxuICogQHBhcmFtIHtib29sZWFufSBjaXJjdWxhciBJZiB0aGUgc2VhcmNoIHJlYWNoZXMgdGhlIGVuZCwgaWYgaXQgY2FuIHNlYXJjaCBhZ2FpbiBzdGFydGluZyBmcm9tIHRoZSBvdGhlciBlbmQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbmV4dCBub24tZGlzYWJsZWQgaW5kZXguXG4gKi9cbmZ1bmN0aW9uIGdldE5vbkRpc2FibGVkSW5kZXgoc3RhcnQsIGJhY2t3YXJkcywgaXRlbXMsIGlzSXRlbURpc2FibGVkLCBjaXJjdWxhcikge1xuICBpZiAoY2lyY3VsYXIgPT09IHZvaWQgMCkge1xuICAgIGNpcmN1bGFyID0gZmFsc2U7XG4gIH1cbiAgdmFyIGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBpZiAoYmFja3dhcmRzKSB7XG4gICAgZm9yICh2YXIgaW5kZXggPSBzdGFydDsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgaWYgKCFpc0l0ZW1EaXNhYmxlZChpdGVtc1tpbmRleF0sIGluZGV4KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIF9pbmRleCA9IHN0YXJ0OyBfaW5kZXggPCBjb3VudDsgX2luZGV4KyspIHtcbiAgICAgIGlmICghaXNJdGVtRGlzYWJsZWQoaXRlbXNbX2luZGV4XSwgX2luZGV4KSkge1xuICAgICAgICByZXR1cm4gX2luZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoY2lyY3VsYXIpIHtcbiAgICByZXR1cm4gZ2V0Tm9uRGlzYWJsZWRJbmRleChiYWNrd2FyZHMgPyBjb3VudCAtIDEgOiAwLCBiYWNrd2FyZHMsIGl0ZW1zLCBpc0l0ZW1EaXNhYmxlZCk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBldmVudCB0YXJnZXQgaXMgd2l0aGluIHRoZSBkb3duc2hpZnQgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0IFRhcmdldCB0byBjaGVjay5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnRbXX0gZG93bnNoaWZ0RWxlbWVudHMgVGhlIGVsZW1lbnRzIHRoYXQgZm9ybSBkb3duc2hpZnQgKGxpc3QsIHRvZ2dsZSBidXR0b24gZXRjKS5cbiAqIEBwYXJhbSB7V2luZG93fSBlbnZpcm9ubWVudCBUaGUgd2luZG93IGNvbnRleHQgd2hlcmUgZG93bnNoaWZ0IHJlbmRlcnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrQWN0aXZlRWxlbWVudCBXaGV0aGVyIHRvIGFsc28gY2hlY2sgYWN0aXZlRWxlbWVudC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHRhcmdldCBpcyB3aXRoaW4gZG93bnNoaWZ0IGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiB0YXJnZXRXaXRoaW5Eb3duc2hpZnQodGFyZ2V0LCBkb3duc2hpZnRFbGVtZW50cywgZW52aXJvbm1lbnQsIGNoZWNrQWN0aXZlRWxlbWVudCkge1xuICBpZiAoY2hlY2tBY3RpdmVFbGVtZW50ID09PSB2b2lkIDApIHtcbiAgICBjaGVja0FjdGl2ZUVsZW1lbnQgPSB0cnVlO1xuICB9XG4gIHJldHVybiBlbnZpcm9ubWVudCAmJiBkb3duc2hpZnRFbGVtZW50cy5zb21lKGZ1bmN0aW9uIChjb250ZXh0Tm9kZSkge1xuICAgIHJldHVybiBjb250ZXh0Tm9kZSAmJiAoaXNPckNvbnRhaW5zTm9kZShjb250ZXh0Tm9kZSwgdGFyZ2V0LCBlbnZpcm9ubWVudCkgfHwgY2hlY2tBY3RpdmVFbGVtZW50ICYmIGlzT3JDb250YWluc05vZGUoY29udGV4dE5vZGUsIGVudmlyb25tZW50LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsIGVudmlyb25tZW50KSk7XG4gIH0pO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW11dGFibGUtZXhwb3J0c1xudmFyIHZhbGlkYXRlQ29udHJvbGxlZFVuY2hhbmdlZCA9IG5vb3A7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVDb250cm9sbGVkVW5jaGFuZ2VkID0gZnVuY3Rpb24gdmFsaWRhdGVDb250cm9sbGVkVW5jaGFuZ2VkKHN0YXRlLCBwcmV2UHJvcHMsIG5leHRQcm9wcykge1xuICAgIHZhciB3YXJuaW5nRGVzY3JpcHRpb24gPSBcIlRoaXMgcHJvcCBzaG91bGQgbm90IHN3aXRjaCBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBEb3duc2hpZnQgZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9naXRodWIuY29tL2Rvd25zaGlmdC1qcy9kb3duc2hpZnQjY29udHJvbC1wcm9wc1wiO1xuICAgIE9iamVjdC5rZXlzKHN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wS2V5KSB7XG4gICAgICBpZiAocHJldlByb3BzW3Byb3BLZXldICE9PSB1bmRlZmluZWQgJiYgbmV4dFByb3BzW3Byb3BLZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5lcnJvcihcImRvd25zaGlmdDogQSBjb21wb25lbnQgaGFzIGNoYW5nZWQgdGhlIGNvbnRyb2xsZWQgcHJvcCBcXFwiXCIgKyBwcm9wS2V5ICsgXCJcXFwiIHRvIGJlIHVuY29udHJvbGxlZC4gXCIgKyB3YXJuaW5nRGVzY3JpcHRpb24pO1xuICAgICAgfSBlbHNlIGlmIChwcmV2UHJvcHNbcHJvcEtleV0gPT09IHVuZGVmaW5lZCAmJiBuZXh0UHJvcHNbcHJvcEtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKFwiZG93bnNoaWZ0OiBBIGNvbXBvbmVudCBoYXMgY2hhbmdlZCB0aGUgdW5jb250cm9sbGVkIHByb3AgXFxcIlwiICsgcHJvcEtleSArIFwiXFxcIiB0byBiZSBjb250cm9sbGVkLiBcIiArIHdhcm5pbmdEZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbnZhciBjbGVhbnVwU3RhdHVzID0gZGVib3VuY2UoZnVuY3Rpb24gKGRvY3VtZW50UHJvcCkge1xuICBnZXRTdGF0dXNEaXYoZG9jdW1lbnRQcm9wKS50ZXh0Q29udGVudCA9ICcnO1xufSwgNTAwKTtcblxuLyoqXG4gKiBHZXQgdGhlIHN0YXR1cyBub2RlIG9yIGNyZWF0ZSBpdCBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LlxuICogQHBhcmFtIHtPYmplY3R9IGRvY3VtZW50UHJvcCBkb2N1bWVudCBwYXNzZWQgYnkgdGhlIHVzZXIuXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gdGhlIHN0YXR1cyBub2RlLlxuICovXG5mdW5jdGlvbiBnZXRTdGF0dXNEaXYoZG9jdW1lbnRQcm9wKSB7XG4gIHZhciBzdGF0dXNEaXYgPSBkb2N1bWVudFByb3AuZ2V0RWxlbWVudEJ5SWQoJ2ExMXktc3RhdHVzLW1lc3NhZ2UnKTtcbiAgaWYgKHN0YXR1c0Rpdikge1xuICAgIHJldHVybiBzdGF0dXNEaXY7XG4gIH1cbiAgc3RhdHVzRGl2ID0gZG9jdW1lbnRQcm9wLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzdGF0dXNEaXYuc2V0QXR0cmlidXRlKCdpZCcsICdhMTF5LXN0YXR1cy1tZXNzYWdlJyk7XG4gIHN0YXR1c0Rpdi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnc3RhdHVzJyk7XG4gIHN0YXR1c0Rpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgc3RhdHVzRGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMgdGV4dCcpO1xuICBPYmplY3QuYXNzaWduKHN0YXR1c0Rpdi5zdHlsZSwge1xuICAgIGJvcmRlcjogJzAnLFxuICAgIGNsaXA6ICdyZWN0KDAgMCAwIDApJyxcbiAgICBoZWlnaHQ6ICcxcHgnLFxuICAgIG1hcmdpbjogJy0xcHgnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBwYWRkaW5nOiAnMCcsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgd2lkdGg6ICcxcHgnXG4gIH0pO1xuICBkb2N1bWVudFByb3AuYm9keS5hcHBlbmRDaGlsZChzdGF0dXNEaXYpO1xuICByZXR1cm4gc3RhdHVzRGl2O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0dXMgdGhlIHN0YXR1cyBtZXNzYWdlXG4gKiBAcGFyYW0ge09iamVjdH0gZG9jdW1lbnRQcm9wIGRvY3VtZW50IHBhc3NlZCBieSB0aGUgdXNlci5cbiAqL1xuZnVuY3Rpb24gc2V0U3RhdHVzKHN0YXR1cywgZG9jdW1lbnRQcm9wKSB7XG4gIGlmICghc3RhdHVzIHx8ICFkb2N1bWVudFByb3ApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGRpdiA9IGdldFN0YXR1c0Rpdihkb2N1bWVudFByb3ApO1xuICBkaXYudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gIGNsZWFudXBTdGF0dXMoZG9jdW1lbnRQcm9wKTtcbn1cblxudmFyIHVua25vd24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19hdXRvY29tcGxldGVfdW5rbm93bl9fJyA6IDA7XG52YXIgbW91c2VVcCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2F1dG9jb21wbGV0ZV9tb3VzZXVwX18nIDogMTtcbnZhciBpdGVtTW91c2VFbnRlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2F1dG9jb21wbGV0ZV9pdGVtX21vdXNlZW50ZXJfXycgOiAyO1xudmFyIGtleURvd25BcnJvd1VwID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fYXV0b2NvbXBsZXRlX2tleWRvd25fYXJyb3dfdXBfXycgOiAzO1xudmFyIGtleURvd25BcnJvd0Rvd24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19hdXRvY29tcGxldGVfa2V5ZG93bl9hcnJvd19kb3duX18nIDogNDtcbnZhciBrZXlEb3duRXNjYXBlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fYXV0b2NvbXBsZXRlX2tleWRvd25fZXNjYXBlX18nIDogNTtcbnZhciBrZXlEb3duRW50ZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19hdXRvY29tcGxldGVfa2V5ZG93bl9lbnRlcl9fJyA6IDY7XG52YXIga2V5RG93bkhvbWUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19hdXRvY29tcGxldGVfa2V5ZG93bl9ob21lX18nIDogNztcbnZhciBrZXlEb3duRW5kID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fYXV0b2NvbXBsZXRlX2tleWRvd25fZW5kX18nIDogODtcbnZhciBjbGlja0l0ZW0gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19hdXRvY29tcGxldGVfY2xpY2tfaXRlbV9fJyA6IDk7XG52YXIgYmx1cklucHV0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fYXV0b2NvbXBsZXRlX2JsdXJfaW5wdXRfXycgOiAxMDtcbnZhciBjaGFuZ2VJbnB1dCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2F1dG9jb21wbGV0ZV9jaGFuZ2VfaW5wdXRfXycgOiAxMTtcbnZhciBrZXlEb3duU3BhY2VCdXR0b24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19hdXRvY29tcGxldGVfa2V5ZG93bl9zcGFjZV9idXR0b25fXycgOiAxMjtcbnZhciBjbGlja0J1dHRvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2F1dG9jb21wbGV0ZV9jbGlja19idXR0b25fXycgOiAxMztcbnZhciBibHVyQnV0dG9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fYXV0b2NvbXBsZXRlX2JsdXJfYnV0dG9uX18nIDogMTQ7XG52YXIgY29udHJvbGxlZFByb3BVcGRhdGVkU2VsZWN0ZWRJdGVtID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fYXV0b2NvbXBsZXRlX2NvbnRyb2xsZWRfcHJvcF91cGRhdGVkX3NlbGVjdGVkX2l0ZW1fXycgOiAxNTtcbnZhciB0b3VjaEVuZCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2F1dG9jb21wbGV0ZV90b3VjaGVuZF9fJyA6IDE2O1xuXG52YXIgc3RhdGVDaGFuZ2VUeXBlcyQzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIHVua25vd246IHVua25vd24sXG4gIG1vdXNlVXA6IG1vdXNlVXAsXG4gIGl0ZW1Nb3VzZUVudGVyOiBpdGVtTW91c2VFbnRlcixcbiAga2V5RG93bkFycm93VXA6IGtleURvd25BcnJvd1VwLFxuICBrZXlEb3duQXJyb3dEb3duOiBrZXlEb3duQXJyb3dEb3duLFxuICBrZXlEb3duRXNjYXBlOiBrZXlEb3duRXNjYXBlLFxuICBrZXlEb3duRW50ZXI6IGtleURvd25FbnRlcixcbiAga2V5RG93bkhvbWU6IGtleURvd25Ib21lLFxuICBrZXlEb3duRW5kOiBrZXlEb3duRW5kLFxuICBjbGlja0l0ZW06IGNsaWNrSXRlbSxcbiAgYmx1cklucHV0OiBibHVySW5wdXQsXG4gIGNoYW5nZUlucHV0OiBjaGFuZ2VJbnB1dCxcbiAga2V5RG93blNwYWNlQnV0dG9uOiBrZXlEb3duU3BhY2VCdXR0b24sXG4gIGNsaWNrQnV0dG9uOiBjbGlja0J1dHRvbixcbiAgYmx1ckJ1dHRvbjogYmx1ckJ1dHRvbixcbiAgY29udHJvbGxlZFByb3BVcGRhdGVkU2VsZWN0ZWRJdGVtOiBjb250cm9sbGVkUHJvcFVwZGF0ZWRTZWxlY3RlZEl0ZW0sXG4gIHRvdWNoRW5kOiB0b3VjaEVuZFxufSk7XG5cbnZhciBfZXhjbHVkZWQkNCA9IFtcInJlZktleVwiLCBcInJlZlwiXSxcbiAgX2V4Y2x1ZGVkMiQzID0gW1wib25DbGlja1wiLCBcIm9uUHJlc3NcIiwgXCJvbktleURvd25cIiwgXCJvbktleVVwXCIsIFwib25CbHVyXCJdLFxuICBfZXhjbHVkZWQzJDIgPSBbXCJvbktleURvd25cIiwgXCJvbkJsdXJcIiwgXCJvbkNoYW5nZVwiLCBcIm9uSW5wdXRcIiwgXCJvbkNoYW5nZVRleHRcIl0sXG4gIF9leGNsdWRlZDQkMSA9IFtcInJlZktleVwiLCBcInJlZlwiXSxcbiAgX2V4Y2x1ZGVkNSA9IFtcIm9uTW91c2VNb3ZlXCIsIFwib25Nb3VzZURvd25cIiwgXCJvbkNsaWNrXCIsIFwib25QcmVzc1wiLCBcImluZGV4XCIsIFwiaXRlbVwiXTtcbnZhciBEb3duc2hpZnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgRG93bnNoaWZ0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoRG93bnNoaWZ0LCBfQ29tcG9uZW50KTtcbiAgICBmdW5jdGlvbiBEb3duc2hpZnQoX3Byb3BzKSB7XG4gICAgICB2YXIgX3RoaXM7XG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBfcHJvcHMpIHx8IHRoaXM7XG4gICAgICAvLyBmYW5jeSBkZXN0cnVjdHVyaW5nICsgZGVmYXVsdHMgKyBhbGlhc2VzXG4gICAgICAvLyB0aGlzIGJhc2ljYWxseSBzYXlzIGVhY2ggdmFsdWUgb2Ygc3RhdGUgc2hvdWxkIGVpdGhlciBiZSBzZXQgdG9cbiAgICAgIC8vIHRoZSBpbml0aWFsIHZhbHVlIG9yIHRoZSBkZWZhdWx0IHZhbHVlIGlmIHRoZSBpbml0aWFsIHZhbHVlIGlzIG5vdCBwcm92aWRlZFxuICAgICAgX3RoaXMuaWQgPSBfdGhpcy5wcm9wcy5pZCB8fCBcImRvd25zaGlmdC1cIiArIGdlbmVyYXRlSWQoKTtcbiAgICAgIF90aGlzLm1lbnVJZCA9IF90aGlzLnByb3BzLm1lbnVJZCB8fCBfdGhpcy5pZCArIFwiLW1lbnVcIjtcbiAgICAgIF90aGlzLmxhYmVsSWQgPSBfdGhpcy5wcm9wcy5sYWJlbElkIHx8IF90aGlzLmlkICsgXCItbGFiZWxcIjtcbiAgICAgIF90aGlzLmlucHV0SWQgPSBfdGhpcy5wcm9wcy5pbnB1dElkIHx8IF90aGlzLmlkICsgXCItaW5wdXRcIjtcbiAgICAgIF90aGlzLmdldEl0ZW1JZCA9IF90aGlzLnByb3BzLmdldEl0ZW1JZCB8fCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmlkICsgXCItaXRlbS1cIiArIGluZGV4O1xuICAgICAgfTtcbiAgICAgIF90aGlzLml0ZW1zID0gW107XG4gICAgICAvLyBpdGVtQ291bnQgY2FuIGJlIGNoYW5nZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGZyb20gd2l0aGluIGRvd25zaGlmdCAoc28gaXQgY2FuJ3QgY29tZSBmcm9tIGEgcHJvcClcbiAgICAgIC8vIHRoaXMgaXMgd2h5IHdlIHN0b3JlIGl0IGFzIGFuIGluc3RhbmNlIGFuZCB1c2VcbiAgICAgIC8vIGdldEl0ZW1Db3VudCByYXRoZXIgdGhhbiBqdXN0IHVzZSBpdGVtcy5sZW5ndGhcbiAgICAgIC8vICh0byBzdXBwb3J0IHdpbmRvd2luZyArIGFzeW5jKVxuICAgICAgX3RoaXMuaXRlbUNvdW50ID0gbnVsbDtcbiAgICAgIF90aGlzLnByZXZpb3VzUmVzdWx0Q291bnQgPSAwO1xuICAgICAgX3RoaXMudGltZW91dElkcyA9IFtdO1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiB0aGUgZnVuY3Rpb24gdG8gY2FsbCBhZnRlciB0aGUgdGltZVxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgdGhlIHRpbWUgdG8gd2FpdFxuICAgICAgICovXG4gICAgICBfdGhpcy5pbnRlcm5hbFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcbiAgICAgICAgdmFyIGlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMudGltZW91dElkcyA9IF90aGlzLnRpbWVvdXRJZHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAhPT0gaWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm4oKTtcbiAgICAgICAgfSwgdGltZSk7XG4gICAgICAgIF90aGlzLnRpbWVvdXRJZHMucHVzaChpZCk7XG4gICAgICB9O1xuICAgICAgX3RoaXMuc2V0SXRlbUNvdW50ID0gZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICAgIF90aGlzLml0ZW1Db3VudCA9IGNvdW50O1xuICAgICAgfTtcbiAgICAgIF90aGlzLnVuc2V0SXRlbUNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5pdGVtQ291bnQgPSBudWxsO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmlzSXRlbURpc2FibGVkID0gZnVuY3Rpb24gKF9pdGVtLCBpbmRleCkge1xuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnROb2RlID0gX3RoaXMuZ2V0SXRlbU5vZGVGcm9tSW5kZXgoaW5kZXgpO1xuICAgICAgICByZXR1cm4gY3VycmVudEVsZW1lbnROb2RlICYmIGN1cnJlbnRFbGVtZW50Tm9kZS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB9O1xuICAgICAgX3RoaXMuc2V0SGlnaGxpZ2h0ZWRJbmRleCA9IGZ1bmN0aW9uIChoaWdobGlnaHRlZEluZGV4LCBvdGhlclN0YXRlVG9TZXQpIHtcbiAgICAgICAgaWYgKGhpZ2hsaWdodGVkSW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXggPSBfdGhpcy5wcm9wcy5kZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXJTdGF0ZVRvU2V0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICBvdGhlclN0YXRlVG9TZXQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlclN0YXRlVG9TZXQgPSBwaWNrU3RhdGUob3RoZXJTdGF0ZVRvU2V0KTtcbiAgICAgICAgX3RoaXMuaW50ZXJuYWxTZXRTdGF0ZShfZXh0ZW5kcyh7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogaGlnaGxpZ2h0ZWRJbmRleFxuICAgICAgICB9LCBvdGhlclN0YXRlVG9TZXQpKTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICBfdGhpcy5pbnRlcm5hbFNldFN0YXRlKHtcbiAgICAgICAgICBzZWxlY3RlZEl0ZW06IG51bGwsXG4gICAgICAgICAgaW5wdXRWYWx1ZTogJycsXG4gICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogX3RoaXMucHJvcHMuZGVmYXVsdEhpZ2hsaWdodGVkSW5kZXgsXG4gICAgICAgICAgaXNPcGVuOiBfdGhpcy5wcm9wcy5kZWZhdWx0SXNPcGVuXG4gICAgICAgIH0sIGNiKTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGl0ZW0sIG90aGVyU3RhdGVUb1NldCwgY2IpIHtcbiAgICAgICAgb3RoZXJTdGF0ZVRvU2V0ID0gcGlja1N0YXRlKG90aGVyU3RhdGVUb1NldCk7XG4gICAgICAgIF90aGlzLmludGVybmFsU2V0U3RhdGUoX2V4dGVuZHMoe1xuICAgICAgICAgIGlzT3BlbjogX3RoaXMucHJvcHMuZGVmYXVsdElzT3BlbixcbiAgICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBfdGhpcy5wcm9wcy5kZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleCxcbiAgICAgICAgICBzZWxlY3RlZEl0ZW06IGl0ZW0sXG4gICAgICAgICAgaW5wdXRWYWx1ZTogX3RoaXMucHJvcHMuaXRlbVRvU3RyaW5nKGl0ZW0pXG4gICAgICAgIH0sIG90aGVyU3RhdGVUb1NldCksIGNiKTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5zZWxlY3RJdGVtQXRJbmRleCA9IGZ1bmN0aW9uIChpdGVtSW5kZXgsIG90aGVyU3RhdGVUb1NldCwgY2IpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfdGhpcy5pdGVtc1tpdGVtSW5kZXhdO1xuICAgICAgICBpZiAoaXRlbSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNlbGVjdEl0ZW0oaXRlbSwgb3RoZXJTdGF0ZVRvU2V0LCBjYik7XG4gICAgICB9O1xuICAgICAgX3RoaXMuc2VsZWN0SGlnaGxpZ2h0ZWRJdGVtID0gZnVuY3Rpb24gKG90aGVyU3RhdGVUb1NldCwgY2IpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnNlbGVjdEl0ZW1BdEluZGV4KF90aGlzLmdldFN0YXRlKCkuaGlnaGxpZ2h0ZWRJbmRleCwgb3RoZXJTdGF0ZVRvU2V0LCBjYik7XG4gICAgICB9O1xuICAgICAgLy8gYW55IHBpZWNlIG9mIG91ciBzdGF0ZSBjYW4gbGl2ZSBpbiB0d28gcGxhY2VzOlxuICAgICAgLy8gMS4gVW5jb250cm9sbGVkOiBpdCdzIGludGVybmFsICh0aGlzLnN0YXRlKVxuICAgICAgLy8gICAgV2Ugd2lsbCBjYWxsIHRoaXMuc2V0U3RhdGUgdG8gdXBkYXRlIHRoYXQgc3RhdGVcbiAgICAgIC8vIDIuIENvbnRyb2xsZWQ6IGl0J3MgZXh0ZXJuYWwgKHRoaXMucHJvcHMpXG4gICAgICAvLyAgICBXZSB3aWxsIGNhbGwgdGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlIHRvIHVwZGF0ZSB0aGF0IHN0YXRlXG4gICAgICAvL1xuICAgICAgLy8gSW4gYWRkaXRpb24sIHdlJ2xsIGNhbGwgdGhpcy5wcm9wcy5vbkNoYW5nZSBpZiB0aGVcbiAgICAgIC8vIHNlbGVjdGVkSXRlbSBpcyBjaGFuZ2VkLlxuICAgICAgX3RoaXMuaW50ZXJuYWxTZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZVRvU2V0LCBjYikge1xuICAgICAgICB2YXIgaXNJdGVtU2VsZWN0ZWQsIG9uQ2hhbmdlQXJnO1xuICAgICAgICB2YXIgb25TdGF0ZUNoYW5nZUFyZyA9IHt9O1xuICAgICAgICB2YXIgaXNTdGF0ZVRvU2V0RnVuY3Rpb24gPSB0eXBlb2Ygc3RhdGVUb1NldCA9PT0gJ2Z1bmN0aW9uJztcblxuICAgICAgICAvLyB3ZSB3YW50IHRvIGNhbGwgYG9uSW5wdXRWYWx1ZUNoYW5nZWAgYmVmb3JlIHRoZSBgc2V0U3RhdGVgIGNhbGxcbiAgICAgICAgLy8gc28gc29tZW9uZSBjb250cm9sbGluZyB0aGUgYGlucHV0VmFsdWVgIHN0YXRlIGdldHMgbm90aWZpZWQgb2ZcbiAgICAgICAgLy8gdGhlIGlucHV0IGNoYW5nZSBhcyBzb29uIGFzIHBvc3NpYmxlLiBUaGlzIGF2b2lkcyBpc3N1ZXMgd2l0aFxuICAgICAgICAvLyBwcmVzZXJ2aW5nIHRoZSBjdXJzb3IgcG9zaXRpb24uXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZG93bnNoaWZ0LWpzL2Rvd25zaGlmdC9pc3N1ZXMvMjE3IGZvciBtb3JlIGluZm8uXG4gICAgICAgIGlmICghaXNTdGF0ZVRvU2V0RnVuY3Rpb24gJiYgc3RhdGVUb1NldC5oYXNPd25Qcm9wZXJ0eSgnaW5wdXRWYWx1ZScpKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25JbnB1dFZhbHVlQ2hhbmdlKHN0YXRlVG9TZXQuaW5wdXRWYWx1ZSwgX2V4dGVuZHMoe30sIF90aGlzLmdldFN0YXRlQW5kSGVscGVycygpLCBzdGF0ZVRvU2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBfbmV3U3RhdGVUb1NldDtcbiAgICAgICAgICBzdGF0ZSA9IF90aGlzLmdldFN0YXRlKHN0YXRlKTtcbiAgICAgICAgICB2YXIgbmV3U3RhdGVUb1NldCA9IGlzU3RhdGVUb1NldEZ1bmN0aW9uID8gc3RhdGVUb1NldChzdGF0ZSkgOiBzdGF0ZVRvU2V0O1xuXG4gICAgICAgICAgLy8gWW91ciBvd24gZnVuY3Rpb24gdGhhdCBjb3VsZCBtb2RpZnkgdGhlIHN0YXRlIHRoYXQgd2lsbCBiZSBzZXQuXG4gICAgICAgICAgbmV3U3RhdGVUb1NldCA9IF90aGlzLnByb3BzLnN0YXRlUmVkdWNlcihzdGF0ZSwgbmV3U3RhdGVUb1NldCk7XG5cbiAgICAgICAgICAvLyBjaGVja3MgaWYgYW4gaXRlbSBpcyBzZWxlY3RlZCwgcmVnYXJkbGVzcyBvZiBpZiBpdCdzIGRpZmZlcmVudCBmcm9tXG4gICAgICAgICAgLy8gd2hhdCB3YXMgc2VsZWN0ZWQgYmVmb3JlXG4gICAgICAgICAgLy8gdXNlZCB0byBkZXRlcm1pbmUgaWYgb25TZWxlY3QgYW5kIG9uQ2hhbmdlIGNhbGxiYWNrcyBzaG91bGQgYmUgY2FsbGVkXG4gICAgICAgICAgaXNJdGVtU2VsZWN0ZWQgPSBuZXdTdGF0ZVRvU2V0Lmhhc093blByb3BlcnR5KCdzZWxlY3RlZEl0ZW0nKTtcbiAgICAgICAgICAvLyB0aGlzIGtlZXBzIHRyYWNrIG9mIHRoZSBvYmplY3Qgd2Ugd2FudCB0byBjYWxsIHdpdGggc2V0U3RhdGVcbiAgICAgICAgICB2YXIgbmV4dFN0YXRlID0ge307XG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBjYWxsIG9uIGNoYW5nZSBpZiB0aGUgb3V0c2lkZSB3b3JsZCBpcyBjb250cm9sbGluZyBhbnkgb2Ygb3VyIHN0YXRlXG4gICAgICAgICAgLy8gYW5kIHdlJ3JlIHRyeWluZyB0byB1cGRhdGUgdGhhdCBzdGF0ZS4gT1IgaWYgdGhlIHNlbGVjdGlvbiBoYXMgY2hhbmdlZCBhbmQgd2UncmVcbiAgICAgICAgICAvLyB0cnlpbmcgdG8gdXBkYXRlIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICBpZiAoaXNJdGVtU2VsZWN0ZWQgJiYgbmV3U3RhdGVUb1NldC5zZWxlY3RlZEl0ZW0gIT09IHN0YXRlLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgb25DaGFuZ2VBcmcgPSBuZXdTdGF0ZVRvU2V0LnNlbGVjdGVkSXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKF9uZXdTdGF0ZVRvU2V0ID0gbmV3U3RhdGVUb1NldCkudHlwZSB8fCAoX25ld1N0YXRlVG9TZXQudHlwZSA9IHVua25vd24pO1xuICAgICAgICAgIE9iamVjdC5rZXlzKG5ld1N0YXRlVG9TZXQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gb25TdGF0ZUNoYW5nZUFyZyBzaG91bGQgb25seSBoYXZlIHRoZSBzdGF0ZSB0aGF0IGlzXG4gICAgICAgICAgICAvLyBhY3R1YWxseSBjaGFuZ2luZ1xuICAgICAgICAgICAgaWYgKHN0YXRlW2tleV0gIT09IG5ld1N0YXRlVG9TZXRba2V5XSkge1xuICAgICAgICAgICAgICBvblN0YXRlQ2hhbmdlQXJnW2tleV0gPSBuZXdTdGF0ZVRvU2V0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aGUgdHlwZSBpcyB1c2VmdWwgZm9yIHRoZSBvblN0YXRlQ2hhbmdlQXJnXG4gICAgICAgICAgICAvLyBidXQgd2UgZG9uJ3QgYWN0dWFsbHkgd2FudCB0byBzZXQgaXQgaW4gaW50ZXJuYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBmZWF0dXJlIGZvciBub3cuLi4gTm90IGFsbCBpbnRlcm5hbFNldFN0YXRlXG4gICAgICAgICAgICAvLyBjYWxscyBzdXBwb3J0IGl0IGFuZCBJJ20gbm90IGNlcnRhaW4gd2Ugd2FudCB0aGVtIHRvIHlldC5cbiAgICAgICAgICAgIC8vIEJ1dCBpdCBlbmFibGVzIHVzZXJzIGNvbnRyb2xsaW5nIHRoZSBpc09wZW4gc3RhdGUgdG8ga25vdyB3aGVuXG4gICAgICAgICAgICAvLyB0aGUgaXNPcGVuIHN0YXRlIGNoYW5nZXMgZHVlIHRvIG1vdXNldXAgZXZlbnRzIHdoaWNoIGlzIHF1aXRlIGhhbmR5LlxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3R5cGUnKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1N0YXRlVG9TZXRba2V5XTtcbiAgICAgICAgICAgIC8vIGlmIGl0J3MgY29taW5nIGZyb20gcHJvcHMsIHRoZW4gd2UgZG9uJ3QgY2FyZSB0byBzZXQgaXQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKCFpc0NvbnRyb2xsZWRQcm9wKF90aGlzLnByb3BzLCBrZXkpKSB7XG4gICAgICAgICAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV3U3RhdGVUb1NldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gaWYgc3RhdGVUb1NldCBpcyBhIGZ1bmN0aW9uLCB0aGVuIHdlIHdlcmVuJ3QgYWJsZSB0byBjYWxsIG9uSW5wdXRWYWx1ZUNoYW5nZVxuICAgICAgICAgIC8vIGVhcmxpZXIsIHNvIHdlJ2xsIGNhbGwgaXQgbm93IHRoYXQgd2Uga25vdyB3aGF0IHRoZSBpbnB1dFZhbHVlIHN0YXRlIHdpbGwgYmUuXG4gICAgICAgICAgaWYgKGlzU3RhdGVUb1NldEZ1bmN0aW9uICYmIG5ld1N0YXRlVG9TZXQuaGFzT3duUHJvcGVydHkoJ2lucHV0VmFsdWUnKSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25JbnB1dFZhbHVlQ2hhbmdlKG5ld1N0YXRlVG9TZXQuaW5wdXRWYWx1ZSwgX2V4dGVuZHMoe30sIF90aGlzLmdldFN0YXRlQW5kSGVscGVycygpLCBuZXdTdGF0ZVRvU2V0KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBjYWxsIHRoZSBwcm92aWRlZCBjYWxsYmFjayBpZiBpdCdzIGEgZnVuY3Rpb25cbiAgICAgICAgICBjYlRvQ2IoY2IpKCk7XG5cbiAgICAgICAgICAvLyBvbmx5IGNhbGwgdGhlIG9uU3RhdGVDaGFuZ2UgYW5kIG9uQ2hhbmdlIGNhbGxiYWNrcyBpZlxuICAgICAgICAgIC8vIHdlIGhhdmUgcmVsZXZhbnQgaW5mb3JtYXRpb24gdG8gcGFzcyB0aGVtLlxuICAgICAgICAgIHZhciBoYXNNb3JlU3RhdGVUaGFuVHlwZSA9IE9iamVjdC5rZXlzKG9uU3RhdGVDaGFuZ2VBcmcpLmxlbmd0aCA+IDE7XG4gICAgICAgICAgaWYgKGhhc01vcmVTdGF0ZVRoYW5UeXBlKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlKG9uU3RhdGVDaGFuZ2VBcmcsIF90aGlzLmdldFN0YXRlQW5kSGVscGVycygpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzSXRlbVNlbGVjdGVkKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdChzdGF0ZVRvU2V0LnNlbGVjdGVkSXRlbSwgX3RoaXMuZ2V0U3RhdGVBbmRIZWxwZXJzKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob25DaGFuZ2VBcmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uob25DaGFuZ2VBcmcsIF90aGlzLmdldFN0YXRlQW5kSGVscGVycygpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gdGhpcyBpcyBjdXJyZW50bHkgdW5kb2N1bWVudGVkIGFuZCB0aGVyZWZvcmUgc3ViamVjdCB0byBjaGFuZ2VcbiAgICAgICAgICAvLyBXZSdsbCB0cnkgdG8gbm90IGJyZWFrIGl0LCBidXQganVzdCBiZSB3YXJuZWQuXG4gICAgICAgICAgX3RoaXMucHJvcHMub25Vc2VyQWN0aW9uKG9uU3RhdGVDaGFuZ2VBcmcsIF90aGlzLmdldFN0YXRlQW5kSGVscGVycygpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBST09UXG4gICAgICBfdGhpcy5yb290UmVmID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9yb290Tm9kZSA9IG5vZGU7XG4gICAgICB9O1xuICAgICAgX3RoaXMuZ2V0Um9vdFByb3BzID0gZnVuY3Rpb24gKF90ZW1wLCBfdGVtcDIpIHtcbiAgICAgICAgdmFyIF9leHRlbmRzMjtcbiAgICAgICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgICAgICBfcmVmJHJlZktleSA9IF9yZWYucmVmS2V5LFxuICAgICAgICAgIHJlZktleSA9IF9yZWYkcmVmS2V5ID09PSB2b2lkIDAgPyAncmVmJyA6IF9yZWYkcmVmS2V5LFxuICAgICAgICAgIHJlZiA9IF9yZWYucmVmLFxuICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQkNCk7XG4gICAgICAgIHZhciBfcmVmMiA9IF90ZW1wMiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDIsXG4gICAgICAgICAgX3JlZjIkc3VwcHJlc3NSZWZFcnJvID0gX3JlZjIuc3VwcHJlc3NSZWZFcnJvcixcbiAgICAgICAgICBzdXBwcmVzc1JlZkVycm9yID0gX3JlZjIkc3VwcHJlc3NSZWZFcnJvID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJHN1cHByZXNzUmVmRXJybztcbiAgICAgICAgLy8gdGhpcyBpcyB1c2VkIGluIHRoZSByZW5kZXIgdG8ga25vdyB3aGV0aGVyIHRoZSB1c2VyIGhhcyBjYWxsZWQgZ2V0Um9vdFByb3BzLlxuICAgICAgICAvLyBJdCB1c2VzIHRoYXQgdG8ga25vdyB3aGV0aGVyIHRvIGFwcGx5IHRoZSBwcm9wcyBhdXRvbWF0aWNhbGx5XG4gICAgICAgIF90aGlzLmdldFJvb3RQcm9wcy5jYWxsZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5nZXRSb290UHJvcHMucmVmS2V5ID0gcmVmS2V5O1xuICAgICAgICBfdGhpcy5nZXRSb290UHJvcHMuc3VwcHJlc3NSZWZFcnJvciA9IHN1cHByZXNzUmVmRXJyb3I7XG4gICAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZSA9IF90aGlzLmdldFN0YXRlKCksXG4gICAgICAgICAgaXNPcGVuID0gX3RoaXMkZ2V0U3RhdGUuaXNPcGVuO1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbcmVmS2V5XSA9IGhhbmRsZVJlZnMocmVmLCBfdGhpcy5yb290UmVmKSwgX2V4dGVuZHMyLnJvbGUgPSAnY29tYm9ib3gnLCBfZXh0ZW5kczJbJ2FyaWEtZXhwYW5kZWQnXSA9IGlzT3BlbiwgX2V4dGVuZHMyWydhcmlhLWhhc3BvcHVwJ10gPSAnbGlzdGJveCcsIF9leHRlbmRzMlsnYXJpYS1vd25zJ10gPSBpc09wZW4gPyBfdGhpcy5tZW51SWQgOiB1bmRlZmluZWQsIF9leHRlbmRzMlsnYXJpYS1sYWJlbGxlZGJ5J10gPSBfdGhpcy5sYWJlbElkLCBfZXh0ZW5kczIpLCByZXN0KTtcbiAgICAgIH07XG4gICAgICAvL1xcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFwgUk9PVFxuICAgICAgX3RoaXMua2V5RG93bkhhbmRsZXJzID0ge1xuICAgICAgICBBcnJvd0Rvd246IGZ1bmN0aW9uIEFycm93RG93bihldmVudCkge1xuICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKHRoaXMuZ2V0U3RhdGUoKS5pc09wZW4pIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBldmVudC5zaGlmdEtleSA/IDUgOiAxO1xuICAgICAgICAgICAgdGhpcy5tb3ZlSGlnaGxpZ2h0ZWRJbmRleChhbW91bnQsIHtcbiAgICAgICAgICAgICAgdHlwZToga2V5RG93bkFycm93RG93blxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzT3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdHlwZToga2V5RG93bkFycm93RG93blxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgaXRlbUNvdW50ID0gX3RoaXMyLmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgICAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIkZ2V0U3RhdGUgPSBfdGhpczIuZ2V0U3RhdGUoKSxcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXggPSBfdGhpczIkZ2V0U3RhdGUuaGlnaGxpZ2h0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dEhpZ2hsaWdodGVkSW5kZXggPSBnZXRIaWdobGlnaHRlZEluZGV4KGhpZ2hsaWdodGVkSW5kZXgsIDEsIHtcbiAgICAgICAgICAgICAgICAgIGxlbmd0aDogaXRlbUNvdW50XG4gICAgICAgICAgICAgICAgfSwgX3RoaXMyLmlzSXRlbURpc2FibGVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0SGlnaGxpZ2h0ZWRJbmRleChuZXh0SGlnaGxpZ2h0ZWRJbmRleCwge1xuICAgICAgICAgICAgICAgICAgdHlwZToga2V5RG93bkFycm93RG93blxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEFycm93VXA6IGZ1bmN0aW9uIEFycm93VXAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmICh0aGlzLmdldFN0YXRlKCkuaXNPcGVuKSB7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gZXZlbnQuc2hpZnRLZXkgPyAtNSA6IC0xO1xuICAgICAgICAgICAgdGhpcy5tb3ZlSGlnaGxpZ2h0ZWRJbmRleChhbW91bnQsIHtcbiAgICAgICAgICAgICAgdHlwZToga2V5RG93bkFycm93VXBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsU2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgICAgICAgIHR5cGU6IGtleURvd25BcnJvd1VwXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBpdGVtQ291bnQgPSBfdGhpczMuZ2V0SXRlbUNvdW50KCk7XG4gICAgICAgICAgICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyRnZXRTdGF0ZSA9IF90aGlzMy5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleCA9IF90aGlzMyRnZXRTdGF0ZS5oaWdobGlnaHRlZEluZGV4O1xuICAgICAgICAgICAgICAgIHZhciBuZXh0SGlnaGxpZ2h0ZWRJbmRleCA9IGdldEhpZ2hsaWdodGVkSW5kZXgoaGlnaGxpZ2h0ZWRJbmRleCwgLTEsIHtcbiAgICAgICAgICAgICAgICAgIGxlbmd0aDogaXRlbUNvdW50XG4gICAgICAgICAgICAgICAgfSwgX3RoaXMzLmlzSXRlbURpc2FibGVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0SGlnaGxpZ2h0ZWRJbmRleChuZXh0SGlnaGxpZ2h0ZWRJbmRleCwge1xuICAgICAgICAgICAgICAgICAgdHlwZToga2V5RG93bkFycm93VXBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBFbnRlcjogZnVuY3Rpb24gRW50ZXIoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDIyOSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgX3RoaXMkZ2V0U3RhdGUyID0gdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgaXNPcGVuID0gX3RoaXMkZ2V0U3RhdGUyLmlzT3BlbixcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXggPSBfdGhpcyRnZXRTdGF0ZTIuaGlnaGxpZ2h0ZWRJbmRleDtcbiAgICAgICAgICBpZiAoaXNPcGVuICYmIGhpZ2hsaWdodGVkSW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1toaWdobGlnaHRlZEluZGV4XTtcbiAgICAgICAgICAgIHZhciBpdGVtTm9kZSA9IHRoaXMuZ2V0SXRlbU5vZGVGcm9tSW5kZXgoaGlnaGxpZ2h0ZWRJbmRleCk7XG4gICAgICAgICAgICBpZiAoaXRlbSA9PSBudWxsIHx8IGl0ZW1Ob2RlICYmIGl0ZW1Ob2RlLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdEhpZ2hsaWdodGVkSXRlbSh7XG4gICAgICAgICAgICAgIHR5cGU6IGtleURvd25FbnRlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBFc2NhcGU6IGZ1bmN0aW9uIEVzY2FwZShldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5yZXNldChfZXh0ZW5kcyh7XG4gICAgICAgICAgICB0eXBlOiBrZXlEb3duRXNjYXBlXG4gICAgICAgICAgfSwgIXRoaXMuc3RhdGUuaXNPcGVuICYmIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbTogbnVsbCxcbiAgICAgICAgICAgIGlucHV0VmFsdWU6ICcnXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBCVVRUT05cbiAgICAgIF90aGlzLmJ1dHRvbktleURvd25IYW5kbGVycyA9IF9leHRlbmRzKHt9LCBfdGhpcy5rZXlEb3duSGFuZGxlcnMsIHtcbiAgICAgICAgJyAnOiBmdW5jdGlvbiBfKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLnRvZ2dsZU1lbnUoe1xuICAgICAgICAgICAgdHlwZToga2V5RG93blNwYWNlQnV0dG9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgX3RoaXMuaW5wdXRLZXlEb3duSGFuZGxlcnMgPSBfZXh0ZW5kcyh7fSwgX3RoaXMua2V5RG93bkhhbmRsZXJzLCB7XG4gICAgICAgIEhvbWU6IGZ1bmN0aW9uIEhvbWUoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgX3RoaXMkZ2V0U3RhdGUzID0gdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgaXNPcGVuID0gX3RoaXMkZ2V0U3RhdGUzLmlzT3BlbjtcbiAgICAgICAgICBpZiAoIWlzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBpdGVtQ291bnQgPSB0aGlzLmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgIGlmIChpdGVtQ291bnQgPD0gMCB8fCAhaXNPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZ2V0IG5leHQgbm9uLWRpc2FibGVkIHN0YXJ0aW5nIGRvd253YXJkcyBmcm9tIDAgaWYgdGhhdCdzIGRpc2FibGVkLlxuICAgICAgICAgIHZhciBuZXdIaWdobGlnaHRlZEluZGV4ID0gZ2V0Tm9uRGlzYWJsZWRJbmRleCgwLCBmYWxzZSwge1xuICAgICAgICAgICAgbGVuZ3RoOiBpdGVtQ291bnRcbiAgICAgICAgICB9LCB0aGlzLmlzSXRlbURpc2FibGVkKTtcbiAgICAgICAgICB0aGlzLnNldEhpZ2hsaWdodGVkSW5kZXgobmV3SGlnaGxpZ2h0ZWRJbmRleCwge1xuICAgICAgICAgICAgdHlwZToga2V5RG93bkhvbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgRW5kOiBmdW5jdGlvbiBFbmQoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgX3RoaXMkZ2V0U3RhdGU0ID0gdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgaXNPcGVuID0gX3RoaXMkZ2V0U3RhdGU0LmlzT3BlbjtcbiAgICAgICAgICBpZiAoIWlzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBpdGVtQ291bnQgPSB0aGlzLmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgIGlmIChpdGVtQ291bnQgPD0gMCB8fCAhaXNPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZ2V0IG5leHQgbm9uLWRpc2FibGVkIHN0YXJ0aW5nIHVwd2FyZHMgZnJvbSBsYXN0IGluZGV4IGlmIHRoYXQncyBkaXNhYmxlZC5cbiAgICAgICAgICB2YXIgbmV3SGlnaGxpZ2h0ZWRJbmRleCA9IGdldE5vbkRpc2FibGVkSW5kZXgoaXRlbUNvdW50IC0gMSwgdHJ1ZSwge1xuICAgICAgICAgICAgbGVuZ3RoOiBpdGVtQ291bnRcbiAgICAgICAgICB9LCB0aGlzLmlzSXRlbURpc2FibGVkKTtcbiAgICAgICAgICB0aGlzLnNldEhpZ2hsaWdodGVkSW5kZXgobmV3SGlnaGxpZ2h0ZWRJbmRleCwge1xuICAgICAgICAgICAgdHlwZToga2V5RG93bkVuZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIF90aGlzLmdldFRvZ2dsZUJ1dHRvblByb3BzID0gZnVuY3Rpb24gKF90ZW1wMykge1xuICAgICAgICB2YXIgX3JlZjMgPSBfdGVtcDMgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAzLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfcmVmMy5vbkNsaWNrO1xuICAgICAgICAgIF9yZWYzLm9uUHJlc3M7XG4gICAgICAgICAgdmFyIG9uS2V5RG93biA9IF9yZWYzLm9uS2V5RG93bixcbiAgICAgICAgICBvbktleVVwID0gX3JlZjMub25LZXlVcCxcbiAgICAgICAgICBvbkJsdXIgPSBfcmVmMy5vbkJsdXIsXG4gICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYzLCBfZXhjbHVkZWQyJDMpO1xuICAgICAgICB2YXIgX3RoaXMkZ2V0U3RhdGU1ID0gX3RoaXMuZ2V0U3RhdGUoKSxcbiAgICAgICAgICBpc09wZW4gPSBfdGhpcyRnZXRTdGF0ZTUuaXNPcGVuO1xuICAgICAgICB2YXIgZW5hYmxlZEV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgICAgb25DbGljazogY2FsbEFsbEV2ZW50SGFuZGxlcnMob25DbGljaywgX3RoaXMuYnV0dG9uSGFuZGxlQ2xpY2spLFxuICAgICAgICAgIG9uS2V5RG93bjogY2FsbEFsbEV2ZW50SGFuZGxlcnMob25LZXlEb3duLCBfdGhpcy5idXR0b25IYW5kbGVLZXlEb3duKSxcbiAgICAgICAgICBvbktleVVwOiBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbktleVVwLCBfdGhpcy5idXR0b25IYW5kbGVLZXlVcCksXG4gICAgICAgICAgb25CbHVyOiBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbkJsdXIsIF90aGlzLmJ1dHRvbkhhbmRsZUJsdXIpXG4gICAgICAgIH07XG4gICAgICAgIHZhciBldmVudEhhbmRsZXJzID0gcmVzdC5kaXNhYmxlZCA/IHt9IDogZW5hYmxlZEV2ZW50SGFuZGxlcnM7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBpc09wZW4gPyAnY2xvc2UgbWVudScgOiAnb3BlbiBtZW51JyxcbiAgICAgICAgICAnYXJpYS1oYXNwb3B1cCc6IHRydWUsXG4gICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogdHJ1ZVxuICAgICAgICB9LCBldmVudEhhbmRsZXJzLCByZXN0KTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5idXR0b25IYW5kbGVLZXlVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBQcmV2ZW50IGNsaWNrIGV2ZW50IGZyb20gZW1pdHRpbmcgaW4gRmlyZWZveFxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmJ1dHRvbkhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleSA9IG5vcm1hbGl6ZUFycm93S2V5KGV2ZW50KTtcbiAgICAgICAgaWYgKF90aGlzLmJ1dHRvbktleURvd25IYW5kbGVyc1trZXldKSB7XG4gICAgICAgICAgX3RoaXMuYnV0dG9uS2V5RG93bkhhbmRsZXJzW2tleV0uY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgX3RoaXMuYnV0dG9uSGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gaGFuZGxlIG9kZCBjYXNlIGZvciBTYWZhcmkgYW5kIEZpcmVmb3ggd2hpY2hcbiAgICAgICAgLy8gZG9uJ3QgZ2l2ZSB0aGUgYnV0dG9uIHRoZSBmb2N1cyBwcm9wZXJseS5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIChjYW4ndCByZWFzb25hYmx5IHRlc3QgdGhpcykgKi9cbiAgICAgICAgaWYgKF90aGlzLnByb3BzLmVudmlyb25tZW50KSB7XG4gICAgICAgICAgdmFyIF90aGlzJHByb3BzJGVudmlyb25tZSA9IF90aGlzLnByb3BzLmVudmlyb25tZW50LmRvY3VtZW50LFxuICAgICAgICAgICAgYm9keSA9IF90aGlzJHByb3BzJGVudmlyb25tZS5ib2R5LFxuICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IF90aGlzJHByb3BzJGVudmlyb25tZS5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgIGlmIChib2R5ICYmIGJvZHkgPT09IGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0byBzaW1wbGlmeSB0ZXN0aW5nIGNvbXBvbmVudHMgdGhhdCB1c2UgZG93bnNoaWZ0LCB3ZSdsbCBub3Qgd3JhcCB0aGlzIGluIGEgc2V0VGltZW91dFxuICAgICAgICAvLyBpZiB0aGUgTk9ERV9FTlYgaXMgdGVzdC4gV2l0aCB0aGUgcHJvcGVyIGJ1aWxkIHN5c3RlbSwgdGhpcyBzaG91bGQgYmUgZGVhZCBjb2RlIGVsaW1pbmF0ZWRcbiAgICAgICAgLy8gd2hlbiBidWlsZGluZyBmb3IgcHJvZHVjdGlvbiBhbmQgc2hvdWxkIHRoZXJlZm9yZSBoYXZlIG5vIGltcGFjdCBvbiBwcm9kdWN0aW9uIGNvZGUuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgX3RoaXMudG9nZ2xlTWVudSh7XG4gICAgICAgICAgICB0eXBlOiBjbGlja0J1dHRvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHRvZ2dsZSBvZiBtZW51IG9jY3VycyBhZnRlciB0aGUgcG90ZW50aWFsIGJsdXIgZXZlbnQgaW4gaU9TXG4gICAgICAgICAgX3RoaXMuaW50ZXJuYWxTZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50b2dnbGVNZW51KHtcbiAgICAgICAgICAgICAgdHlwZTogY2xpY2tCdXR0b25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgX3RoaXMuYnV0dG9uSGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgYmx1clRhcmdldCA9IGV2ZW50LnRhcmdldDsgLy8gU2F2ZSBibHVyIHRhcmdldCBmb3IgY29tcGFyaXNvbiB3aXRoIGFjdGl2ZUVsZW1lbnQgbGF0ZXJcbiAgICAgICAgLy8gTmVlZCBzZXRUaW1lb3V0LCBzbyB0aGF0IHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBUYWIsIHRoZSBhY3RpdmVFbGVtZW50IGlzIHRoZSBuZXh0IGZvY3VzZWQgZWxlbWVudCwgbm90IGJvZHkgZWxlbWVudFxuICAgICAgICBfdGhpcy5pbnRlcm5hbFNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5pc01vdXNlRG93biB8fCAhX3RoaXMucHJvcHMuZW52aXJvbm1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBfdGhpcy5wcm9wcy5lbnZpcm9ubWVudC5kb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgIGlmICgoYWN0aXZlRWxlbWVudCA9PSBudWxsIHx8IGFjdGl2ZUVsZW1lbnQuaWQgIT09IF90aGlzLmlucHV0SWQpICYmIGFjdGl2ZUVsZW1lbnQgIT09IGJsdXJUYXJnZXQgLy8gRG8gbm90aGluZyBpZiB3ZSByZWZvY3VzIHRoZSBzYW1lIGVsZW1lbnQgYWdhaW4gKHRvIHNvbHZlIGlzc3VlIGluIFNhZmFyaSBvbiBpT1MpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXNldCh7XG4gICAgICAgICAgICAgIHR5cGU6IGJsdXJCdXR0b25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgLy9cXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcIEJVVFRPTlxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBMQUJFTFxuICAgICAgX3RoaXMuZ2V0TGFiZWxQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgIGh0bWxGb3I6IF90aGlzLmlucHV0SWQsXG4gICAgICAgICAgaWQ6IF90aGlzLmxhYmVsSWRcbiAgICAgICAgfSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICAgIC8vXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXCBMQUJFTFxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBJTlBVVFxuICAgICAgX3RoaXMuZ2V0SW5wdXRQcm9wcyA9IGZ1bmN0aW9uIChfdGVtcDQpIHtcbiAgICAgICAgdmFyIF9yZWY0ID0gX3RlbXA0ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNCxcbiAgICAgICAgICBvbktleURvd24gPSBfcmVmNC5vbktleURvd24sXG4gICAgICAgICAgb25CbHVyID0gX3JlZjQub25CbHVyLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX3JlZjQub25DaGFuZ2UsXG4gICAgICAgICAgb25JbnB1dCA9IF9yZWY0Lm9uSW5wdXQ7XG4gICAgICAgICAgX3JlZjQub25DaGFuZ2VUZXh0O1xuICAgICAgICAgIHZhciByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjQsIF9leGNsdWRlZDMkMik7XG4gICAgICAgIHZhciBvbkNoYW5nZUtleTtcbiAgICAgICAgdmFyIGV2ZW50SGFuZGxlcnMgPSB7fTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAocHJlYWN0KSAqL1xuICAgICAgICB7XG4gICAgICAgICAgb25DaGFuZ2VLZXkgPSAnb25DaGFuZ2UnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZTYgPSBfdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICAgIGlucHV0VmFsdWUgPSBfdGhpcyRnZXRTdGF0ZTYuaW5wdXRWYWx1ZSxcbiAgICAgICAgICBpc09wZW4gPSBfdGhpcyRnZXRTdGF0ZTYuaXNPcGVuLFxuICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXggPSBfdGhpcyRnZXRTdGF0ZTYuaGlnaGxpZ2h0ZWRJbmRleDtcbiAgICAgICAgaWYgKCFyZXN0LmRpc2FibGVkKSB7XG4gICAgICAgICAgdmFyIF9ldmVudEhhbmRsZXJzO1xuICAgICAgICAgIGV2ZW50SGFuZGxlcnMgPSAoX2V2ZW50SGFuZGxlcnMgPSB7fSwgX2V2ZW50SGFuZGxlcnNbb25DaGFuZ2VLZXldID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25DaGFuZ2UsIG9uSW5wdXQsIF90aGlzLmlucHV0SGFuZGxlQ2hhbmdlKSwgX2V2ZW50SGFuZGxlcnMub25LZXlEb3duID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25LZXlEb3duLCBfdGhpcy5pbnB1dEhhbmRsZUtleURvd24pLCBfZXZlbnRIYW5kbGVycy5vbkJsdXIgPSBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbkJsdXIsIF90aGlzLmlucHV0SGFuZGxlQmx1ciksIF9ldmVudEhhbmRsZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgICdhcmlhLWF1dG9jb21wbGV0ZSc6ICdsaXN0JyxcbiAgICAgICAgICAnYXJpYS1hY3RpdmVkZXNjZW5kYW50JzogaXNPcGVuICYmIHR5cGVvZiBoaWdobGlnaHRlZEluZGV4ID09PSAnbnVtYmVyJyAmJiBoaWdobGlnaHRlZEluZGV4ID49IDAgPyBfdGhpcy5nZXRJdGVtSWQoaGlnaGxpZ2h0ZWRJbmRleCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgJ2FyaWEtY29udHJvbHMnOiBpc09wZW4gPyBfdGhpcy5tZW51SWQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IHJlc3QgJiYgcmVzdFsnYXJpYS1sYWJlbCddID8gdW5kZWZpbmVkIDogX3RoaXMubGFiZWxJZCxcbiAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TZWN1cml0eS9TZWN1cmluZ195b3VyX3NpdGUvVHVybmluZ19vZmZfZm9ybV9hdXRvY29tcGxldGlvblxuICAgICAgICAgIC8vIHJldmVydCBiYWNrIHNpbmNlIGF1dG9jb21wbGV0ZT1cIm5vcGVcIiBpcyBpZ25vcmVkIG9uIGxhdGVzdCBDaHJvbWUgYW5kIE9wZXJhXG4gICAgICAgICAgYXV0b0NvbXBsZXRlOiAnb2ZmJyxcbiAgICAgICAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgICAgICBpZDogX3RoaXMuaW5wdXRJZFxuICAgICAgICB9LCBldmVudEhhbmRsZXJzLCByZXN0KTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5pbnB1dEhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleSA9IG5vcm1hbGl6ZUFycm93S2V5KGV2ZW50KTtcbiAgICAgICAgaWYgKGtleSAmJiBfdGhpcy5pbnB1dEtleURvd25IYW5kbGVyc1trZXldKSB7XG4gICAgICAgICAgX3RoaXMuaW5wdXRLZXlEb3duSGFuZGxlcnNba2V5XS5jYWxsKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBfdGhpcy5pbnB1dEhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBfdGhpcy5pbnRlcm5hbFNldFN0YXRlKHtcbiAgICAgICAgICB0eXBlOiBjaGFuZ2VJbnB1dCxcbiAgICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgICAgaW5wdXRWYWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IF90aGlzLnByb3BzLmRlZmF1bHRIaWdobGlnaHRlZEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmlucHV0SGFuZGxlQmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gTmVlZCBzZXRUaW1lb3V0LCBzbyB0aGF0IHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBUYWIsIHRoZSBhY3RpdmVFbGVtZW50IGlzIHRoZSBuZXh0IGZvY3VzZWQgZWxlbWVudCwgbm90IHRoZSBib2R5IGVsZW1lbnRcbiAgICAgICAgX3RoaXMuaW50ZXJuYWxTZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX2FjdGl2ZUVsZW1lbnQkZGF0YXNlO1xuICAgICAgICAgIGlmIChfdGhpcy5pc01vdXNlRG93biB8fCAhX3RoaXMucHJvcHMuZW52aXJvbm1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBfdGhpcy5wcm9wcy5lbnZpcm9ubWVudC5kb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgIHZhciBkb3duc2hpZnRCdXR0b25Jc0FjdGl2ZSA9IChhY3RpdmVFbGVtZW50ID09IG51bGwgfHwgKF9hY3RpdmVFbGVtZW50JGRhdGFzZSA9IGFjdGl2ZUVsZW1lbnQuZGF0YXNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hY3RpdmVFbGVtZW50JGRhdGFzZS50b2dnbGUpICYmIF90aGlzLl9yb290Tm9kZSAmJiBfdGhpcy5fcm9vdE5vZGUuY29udGFpbnMoYWN0aXZlRWxlbWVudCk7XG4gICAgICAgICAgaWYgKCFkb3duc2hpZnRCdXR0b25Jc0FjdGl2ZSkge1xuICAgICAgICAgICAgX3RoaXMucmVzZXQoe1xuICAgICAgICAgICAgICB0eXBlOiBibHVySW5wdXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgLy9cXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcIElOUFVUXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIE1FTlVcbiAgICAgIF90aGlzLm1lbnVSZWYgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBfdGhpcy5fbWVudU5vZGUgPSBub2RlO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmdldE1lbnVQcm9wcyA9IGZ1bmN0aW9uIChfdGVtcDUsIF90ZW1wNikge1xuICAgICAgICB2YXIgX2V4dGVuZHMzO1xuICAgICAgICB2YXIgX3JlZjUgPSBfdGVtcDUgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA1LFxuICAgICAgICAgIF9yZWY1JHJlZktleSA9IF9yZWY1LnJlZktleSxcbiAgICAgICAgICByZWZLZXkgPSBfcmVmNSRyZWZLZXkgPT09IHZvaWQgMCA/ICdyZWYnIDogX3JlZjUkcmVmS2V5LFxuICAgICAgICAgIHJlZiA9IF9yZWY1LnJlZixcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY1LCBfZXhjbHVkZWQ0JDEpO1xuICAgICAgICB2YXIgX3JlZjYgPSBfdGVtcDYgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA2LFxuICAgICAgICAgIF9yZWY2JHN1cHByZXNzUmVmRXJybyA9IF9yZWY2LnN1cHByZXNzUmVmRXJyb3IsXG4gICAgICAgICAgc3VwcHJlc3NSZWZFcnJvciA9IF9yZWY2JHN1cHByZXNzUmVmRXJybyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRzdXBwcmVzc1JlZkVycm87XG4gICAgICAgIF90aGlzLmdldE1lbnVQcm9wcy5jYWxsZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5nZXRNZW51UHJvcHMucmVmS2V5ID0gcmVmS2V5O1xuICAgICAgICBfdGhpcy5nZXRNZW51UHJvcHMuc3VwcHJlc3NSZWZFcnJvciA9IHN1cHByZXNzUmVmRXJyb3I7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcygoX2V4dGVuZHMzID0ge30sIF9leHRlbmRzM1tyZWZLZXldID0gaGFuZGxlUmVmcyhyZWYsIF90aGlzLm1lbnVSZWYpLCBfZXh0ZW5kczMucm9sZSA9ICdsaXN0Ym94JywgX2V4dGVuZHMzWydhcmlhLWxhYmVsbGVkYnknXSA9IHByb3BzICYmIHByb3BzWydhcmlhLWxhYmVsJ10gPyB1bmRlZmluZWQgOiBfdGhpcy5sYWJlbElkLCBfZXh0ZW5kczMuaWQgPSBfdGhpcy5tZW51SWQsIF9leHRlbmRzMyksIHByb3BzKTtcbiAgICAgIH07XG4gICAgICAvL1xcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFwgTUVOVVxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBJVEVNXG4gICAgICBfdGhpcy5nZXRJdGVtUHJvcHMgPSBmdW5jdGlvbiAoX3RlbXA3KSB7XG4gICAgICAgIHZhciBfZW5hYmxlZEV2ZW50SGFuZGxlcnM7XG4gICAgICAgIHZhciBfcmVmNyA9IF90ZW1wNyA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDcsXG4gICAgICAgICAgb25Nb3VzZU1vdmUgPSBfcmVmNy5vbk1vdXNlTW92ZSxcbiAgICAgICAgICBvbk1vdXNlRG93biA9IF9yZWY3Lm9uTW91c2VEb3duLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfcmVmNy5vbkNsaWNrO1xuICAgICAgICAgIF9yZWY3Lm9uUHJlc3M7XG4gICAgICAgICAgdmFyIGluZGV4ID0gX3JlZjcuaW5kZXgsXG4gICAgICAgICAgX3JlZjckaXRlbSA9IF9yZWY3Lml0ZW0sXG4gICAgICAgICAgaXRlbSA9IF9yZWY3JGl0ZW0gPT09IHZvaWQgMCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL3VuZGVmaW5lZCA6IHJlcXVpcmVkUHJvcCgnZ2V0SXRlbVByb3BzJywgJ2l0ZW0nKSA6IF9yZWY3JGl0ZW0sXG4gICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY3LCBfZXhjbHVkZWQ1KTtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBfdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgIGluZGV4ID0gX3RoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5pdGVtc1tpbmRleF0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvblNlbGVjdEtleSA9ICdvbkNsaWNrJztcbiAgICAgICAgdmFyIGN1c3RvbUNsaWNrSGFuZGxlciA9IG9uQ2xpY2s7XG4gICAgICAgIHZhciBlbmFibGVkRXZlbnRIYW5kbGVycyA9IChfZW5hYmxlZEV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgICAgLy8gb25Nb3VzZU1vdmUgaXMgdXNlZCBvdmVyIG9uTW91c2VFbnRlciBoZXJlLiBvbk1vdXNlTW92ZVxuICAgICAgICAgIC8vIGlzIG9ubHkgdHJpZ2dlcmVkIG9uIGFjdHVhbCBtb3VzZSBtb3ZlbWVudCB3aGlsZSBvbk1vdXNlRW50ZXJcbiAgICAgICAgICAvLyBjYW4gZmlyZSBvbiBET00gY2hhbmdlcywgaW50ZXJydXB0aW5nIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICAgICAgICBvbk1vdXNlTW92ZTogY2FsbEFsbEV2ZW50SGFuZGxlcnMob25Nb3VzZU1vdmUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gX3RoaXMuZ2V0U3RhdGUoKS5oaWdobGlnaHRlZEluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldEhpZ2hsaWdodGVkSW5kZXgoaW5kZXgsIHtcbiAgICAgICAgICAgICAgdHlwZTogaXRlbU1vdXNlRW50ZXJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBXZSBuZXZlciB3YW50IHRvIG1hbnVhbGx5IHNjcm9sbCB3aGVuIGNoYW5naW5nIHN0YXRlIGJhc2VkXG4gICAgICAgICAgICAvLyBvbiBgb25Nb3VzZU1vdmVgIGJlY2F1c2Ugd2Ugd2lsbCBiZSBtb3ZpbmcgdGhlIGVsZW1lbnQgb3V0XG4gICAgICAgICAgICAvLyBmcm9tIHVuZGVyIHRoZSB1c2VyIHdoaWNoIGlzIGN1cnJlbnRseSBzY3JvbGxpbmcvbW92aW5nIHRoZVxuICAgICAgICAgICAgLy8gY3Vyc29yXG4gICAgICAgICAgICBfdGhpcy5hdm9pZFNjcm9sbGluZyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5pbnRlcm5hbFNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXZvaWRTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDI1MCk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgb25Nb3VzZURvd246IGNhbGxBbGxFdmVudEhhbmRsZXJzKG9uTW91c2VEb3duLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgdGhlIGFjdGl2ZUVsZW1lbnQgZnJvbSBiZWluZyBjaGFuZ2VkXG4gICAgICAgICAgICAvLyB0byB0aGUgaXRlbSBzbyBpdCBjYW4gcmVtYWluIHdpdGggdGhlIGN1cnJlbnQgYWN0aXZlRWxlbWVudFxuICAgICAgICAgICAgLy8gd2hpY2ggaXMgYSBtb3JlIGNvbW1vbiB1c2UgY2FzZS5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgX2VuYWJsZWRFdmVudEhhbmRsZXJzW29uU2VsZWN0S2V5XSA9IGNhbGxBbGxFdmVudEhhbmRsZXJzKGN1c3RvbUNsaWNrSGFuZGxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW1BdEluZGV4KGluZGV4LCB7XG4gICAgICAgICAgICB0eXBlOiBjbGlja0l0ZW1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksIF9lbmFibGVkRXZlbnRIYW5kbGVycyk7XG5cbiAgICAgICAgLy8gUGFzc2luZyBkb3duIHRoZSBvbk1vdXNlRG93biBoYW5kbGVyIHRvIHByZXZlbnQgcmVkaXJlY3RcbiAgICAgICAgLy8gb2YgdGhlIGFjdGl2ZUVsZW1lbnQgaWYgY2xpY2tpbmcgb24gZGlzYWJsZWQgaXRlbXNcbiAgICAgICAgdmFyIGV2ZW50SGFuZGxlcnMgPSByZXN0LmRpc2FibGVkID8ge1xuICAgICAgICAgIG9uTW91c2VEb3duOiBlbmFibGVkRXZlbnRIYW5kbGVycy5vbk1vdXNlRG93blxuICAgICAgICB9IDogZW5hYmxlZEV2ZW50SGFuZGxlcnM7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICAgICAgaWQ6IF90aGlzLmdldEl0ZW1JZChpbmRleCksXG4gICAgICAgICAgcm9sZTogJ29wdGlvbicsXG4gICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBfdGhpcy5nZXRTdGF0ZSgpLmhpZ2hsaWdodGVkSW5kZXggPT09IGluZGV4XG4gICAgICAgIH0sIGV2ZW50SGFuZGxlcnMsIHJlc3QpO1xuICAgICAgfTtcbiAgICAgIC8vXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXCBJVEVNXG4gICAgICBfdGhpcy5jbGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgfTtcbiAgICAgIF90aGlzLnJlc2V0ID0gZnVuY3Rpb24gKG90aGVyU3RhdGVUb1NldCwgY2IpIHtcbiAgICAgICAgaWYgKG90aGVyU3RhdGVUb1NldCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgb3RoZXJTdGF0ZVRvU2V0ID0ge307XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJTdGF0ZVRvU2V0ID0gcGlja1N0YXRlKG90aGVyU3RhdGVUb1NldCk7XG4gICAgICAgIF90aGlzLmludGVybmFsU2V0U3RhdGUoZnVuY3Rpb24gKF9yZWY4KSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbSA9IF9yZWY4LnNlbGVjdGVkSXRlbTtcbiAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgICAgaXNPcGVuOiBfdGhpcy5wcm9wcy5kZWZhdWx0SXNPcGVuLFxuICAgICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogX3RoaXMucHJvcHMuZGVmYXVsdEhpZ2hsaWdodGVkSW5kZXgsXG4gICAgICAgICAgICBpbnB1dFZhbHVlOiBfdGhpcy5wcm9wcy5pdGVtVG9TdHJpbmcoc2VsZWN0ZWRJdGVtKVxuICAgICAgICAgIH0sIG90aGVyU3RhdGVUb1NldCk7XG4gICAgICAgIH0sIGNiKTtcbiAgICAgIH07XG4gICAgICBfdGhpcy50b2dnbGVNZW51ID0gZnVuY3Rpb24gKG90aGVyU3RhdGVUb1NldCwgY2IpIHtcbiAgICAgICAgaWYgKG90aGVyU3RhdGVUb1NldCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgb3RoZXJTdGF0ZVRvU2V0ID0ge307XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJTdGF0ZVRvU2V0ID0gcGlja1N0YXRlKG90aGVyU3RhdGVUb1NldCk7XG4gICAgICAgIF90aGlzLmludGVybmFsU2V0U3RhdGUoZnVuY3Rpb24gKF9yZWY5KSB7XG4gICAgICAgICAgdmFyIGlzT3BlbiA9IF9yZWY5LmlzT3BlbjtcbiAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgICAgaXNPcGVuOiAhaXNPcGVuXG4gICAgICAgICAgfSwgaXNPcGVuICYmIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IF90aGlzLnByb3BzLmRlZmF1bHRIaWdobGlnaHRlZEluZGV4XG4gICAgICAgICAgfSwgb3RoZXJTdGF0ZVRvU2V0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZTcgPSBfdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgaXNPcGVuID0gX3RoaXMkZ2V0U3RhdGU3LmlzT3BlbixcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXggPSBfdGhpcyRnZXRTdGF0ZTcuaGlnaGxpZ2h0ZWRJbmRleDtcbiAgICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZ2V0SXRlbUNvdW50KCkgPiAwICYmIHR5cGVvZiBoaWdobGlnaHRlZEluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICBfdGhpcy5zZXRIaWdobGlnaHRlZEluZGV4KGhpZ2hsaWdodGVkSW5kZXgsIG90aGVyU3RhdGVUb1NldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNiVG9DYihjYikoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgX3RoaXMub3Blbk1lbnUgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgX3RoaXMuaW50ZXJuYWxTZXRTdGF0ZSh7XG4gICAgICAgICAgaXNPcGVuOiB0cnVlXG4gICAgICAgIH0sIGNiKTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5jbG9zZU1lbnUgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgX3RoaXMuaW50ZXJuYWxTZXRTdGF0ZSh7XG4gICAgICAgICAgaXNPcGVuOiBmYWxzZVxuICAgICAgICB9LCBjYik7XG4gICAgICB9O1xuICAgICAgX3RoaXMudXBkYXRlU3RhdHVzID0gZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHM7XG4gICAgICAgIGlmICghKChfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzKSAhPSBudWxsICYmIChfdGhpcyRwcm9wcyA9IF90aGlzJHByb3BzLmVudmlyb25tZW50KSAhPSBudWxsICYmIF90aGlzJHByb3BzLmRvY3VtZW50KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGUgPSBfdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgICB2YXIgaXRlbSA9IF90aGlzLml0ZW1zW3N0YXRlLmhpZ2hsaWdodGVkSW5kZXhdO1xuICAgICAgICB2YXIgcmVzdWx0Q291bnQgPSBfdGhpcy5nZXRJdGVtQ291bnQoKTtcbiAgICAgICAgdmFyIHN0YXR1cyA9IF90aGlzLnByb3BzLmdldEExMXlTdGF0dXNNZXNzYWdlKF9leHRlbmRzKHtcbiAgICAgICAgICBpdGVtVG9TdHJpbmc6IF90aGlzLnByb3BzLml0ZW1Ub1N0cmluZyxcbiAgICAgICAgICBwcmV2aW91c1Jlc3VsdENvdW50OiBfdGhpcy5wcmV2aW91c1Jlc3VsdENvdW50LFxuICAgICAgICAgIHJlc3VsdENvdW50OiByZXN1bHRDb3VudCxcbiAgICAgICAgICBoaWdobGlnaHRlZEl0ZW06IGl0ZW1cbiAgICAgICAgfSwgc3RhdGUpKTtcbiAgICAgICAgX3RoaXMucHJldmlvdXNSZXN1bHRDb3VudCA9IHJlc3VsdENvdW50O1xuICAgICAgICBzZXRTdGF0dXMoc3RhdHVzLCBfdGhpcy5wcm9wcy5lbnZpcm9ubWVudC5kb2N1bWVudCk7XG4gICAgICB9LCAyMDApO1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICBkZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleCA9IF90aGlzJHByb3BzMi5kZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleCxcbiAgICAgICAgX3RoaXMkcHJvcHMyJGluaXRpYWxIID0gX3RoaXMkcHJvcHMyLmluaXRpYWxIaWdobGlnaHRlZEluZGV4LFxuICAgICAgICBfaGlnaGxpZ2h0ZWRJbmRleCA9IF90aGlzJHByb3BzMiRpbml0aWFsSCA9PT0gdm9pZCAwID8gZGVmYXVsdEhpZ2hsaWdodGVkSW5kZXggOiBfdGhpcyRwcm9wczIkaW5pdGlhbEgsXG4gICAgICAgIGRlZmF1bHRJc09wZW4gPSBfdGhpcyRwcm9wczIuZGVmYXVsdElzT3BlbixcbiAgICAgICAgX3RoaXMkcHJvcHMyJGluaXRpYWxJID0gX3RoaXMkcHJvcHMyLmluaXRpYWxJc09wZW4sXG4gICAgICAgIF9pc09wZW4gPSBfdGhpcyRwcm9wczIkaW5pdGlhbEkgPT09IHZvaWQgMCA/IGRlZmF1bHRJc09wZW4gOiBfdGhpcyRwcm9wczIkaW5pdGlhbEksXG4gICAgICAgIF90aGlzJHByb3BzMiRpbml0aWFsSTIgPSBfdGhpcyRwcm9wczIuaW5pdGlhbElucHV0VmFsdWUsXG4gICAgICAgIF9pbnB1dFZhbHVlID0gX3RoaXMkcHJvcHMyJGluaXRpYWxJMiA9PT0gdm9pZCAwID8gJycgOiBfdGhpcyRwcm9wczIkaW5pdGlhbEkyLFxuICAgICAgICBfdGhpcyRwcm9wczIkaW5pdGlhbFMgPSBfdGhpcyRwcm9wczIuaW5pdGlhbFNlbGVjdGVkSXRlbSxcbiAgICAgICAgX3NlbGVjdGVkSXRlbSA9IF90aGlzJHByb3BzMiRpbml0aWFsUyA9PT0gdm9pZCAwID8gbnVsbCA6IF90aGlzJHByb3BzMiRpbml0aWFsUztcbiAgICAgIHZhciBfc3RhdGUgPSBfdGhpcy5nZXRTdGF0ZSh7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IF9oaWdobGlnaHRlZEluZGV4LFxuICAgICAgICBpc09wZW46IF9pc09wZW4sXG4gICAgICAgIGlucHV0VmFsdWU6IF9pbnB1dFZhbHVlLFxuICAgICAgICBzZWxlY3RlZEl0ZW06IF9zZWxlY3RlZEl0ZW1cbiAgICAgIH0pO1xuICAgICAgaWYgKF9zdGF0ZS5zZWxlY3RlZEl0ZW0gIT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5pbml0aWFsSW5wdXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9zdGF0ZS5pbnB1dFZhbHVlID0gX3RoaXMucHJvcHMuaXRlbVRvU3RyaW5nKF9zdGF0ZS5zZWxlY3RlZEl0ZW0pO1xuICAgICAgfVxuICAgICAgX3RoaXMuc3RhdGUgPSBfc3RhdGU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHZhciBfcHJvdG8gPSBEb3duc2hpZnQucHJvdG90eXBlO1xuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBydW5uaW5nIHRpbWVvdXRzXG4gICAgICovXG4gICAgX3Byb3RvLmludGVybmFsQ2xlYXJUaW1lb3V0cyA9IGZ1bmN0aW9uIGludGVybmFsQ2xlYXJUaW1lb3V0cygpIHtcbiAgICAgIHRoaXMudGltZW91dElkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnRpbWVvdXRJZHMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZSBiYXNlZCBvbiBpbnRlcm5hbCBzdGF0ZSBvciBwcm9wc1xuICAgICAqIElmIGEgc3RhdGUgdmFsdWUgaXMgcGFzc2VkIHZpYSBwcm9wcywgdGhlbiB0aGF0XG4gICAgICogaXMgdGhlIHZhbHVlIGdpdmVuLCBvdGhlcndpc2UgaXQncyByZXRyaWV2ZWQgZnJvbVxuICAgICAqIHN0YXRlVG9NZXJnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlVG9NZXJnZSBkZWZhdWx0cyB0byB0aGlzLnN0YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgc3RhdGVcbiAgICAgKi87XG4gICAgX3Byb3RvLmdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUkMShzdGF0ZVRvTWVyZ2UpIHtcbiAgICAgIGlmIChzdGF0ZVRvTWVyZ2UgPT09IHZvaWQgMCkge1xuICAgICAgICBzdGF0ZVRvTWVyZ2UgPSB0aGlzLnN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldFN0YXRlKHN0YXRlVG9NZXJnZSwgdGhpcy5wcm9wcyk7XG4gICAgfTtcbiAgICBfcHJvdG8uZ2V0SXRlbUNvdW50ID0gZnVuY3Rpb24gZ2V0SXRlbUNvdW50KCkge1xuICAgICAgLy8gdGhpbmdzIHJlYWQgYmV0dGVyIHRoaXMgd2F5LiBUaGV5J3JlIGluIHByaW9yaXR5IG9yZGVyOlxuICAgICAgLy8gMS4gYHRoaXMuaXRlbUNvdW50YFxuICAgICAgLy8gMi4gYHRoaXMucHJvcHMuaXRlbUNvdW50YFxuICAgICAgLy8gMy4gYHRoaXMuaXRlbXMubGVuZ3RoYFxuICAgICAgdmFyIGl0ZW1Db3VudCA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgaWYgKHRoaXMuaXRlbUNvdW50ICE9IG51bGwpIHtcbiAgICAgICAgaXRlbUNvdW50ID0gdGhpcy5pdGVtQ291bnQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaXRlbUNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5pdGVtQ291bnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlbUNvdW50O1xuICAgIH07XG4gICAgX3Byb3RvLmdldEl0ZW1Ob2RlRnJvbUluZGV4ID0gZnVuY3Rpb24gZ2V0SXRlbU5vZGVGcm9tSW5kZXgoaW5kZXgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmVudmlyb25tZW50ID8gdGhpcy5wcm9wcy5lbnZpcm9ubWVudC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdldEl0ZW1JZChpbmRleCkpIDogbnVsbDtcbiAgICB9O1xuICAgIF9wcm90by5zY3JvbGxIaWdobGlnaHRlZEl0ZW1JbnRvVmlldyA9IGZ1bmN0aW9uIHNjcm9sbEhpZ2hsaWdodGVkSXRlbUludG9WaWV3KCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKHJlYWN0LW5hdGl2ZSkgKi9cbiAgICAgIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmdldEl0ZW1Ob2RlRnJvbUluZGV4KHRoaXMuZ2V0U3RhdGUoKS5oaWdobGlnaHRlZEluZGV4KTtcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxJbnRvVmlldyhub2RlLCB0aGlzLl9tZW51Tm9kZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfcHJvdG8ubW92ZUhpZ2hsaWdodGVkSW5kZXggPSBmdW5jdGlvbiBtb3ZlSGlnaGxpZ2h0ZWRJbmRleChhbW91bnQsIG90aGVyU3RhdGVUb1NldCkge1xuICAgICAgdmFyIGl0ZW1Db3VudCA9IHRoaXMuZ2V0SXRlbUNvdW50KCk7XG4gICAgICB2YXIgX3RoaXMkZ2V0U3RhdGU4ID0gdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICBoaWdobGlnaHRlZEluZGV4ID0gX3RoaXMkZ2V0U3RhdGU4LmhpZ2hsaWdodGVkSW5kZXg7XG4gICAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgICB2YXIgbmV4dEhpZ2hsaWdodGVkSW5kZXggPSBnZXRIaWdobGlnaHRlZEluZGV4KGhpZ2hsaWdodGVkSW5kZXgsIGFtb3VudCwge1xuICAgICAgICAgIGxlbmd0aDogaXRlbUNvdW50XG4gICAgICAgIH0sIHRoaXMuaXNJdGVtRGlzYWJsZWQsIHRydWUpO1xuICAgICAgICB0aGlzLnNldEhpZ2hsaWdodGVkSW5kZXgobmV4dEhpZ2hsaWdodGVkSW5kZXgsIG90aGVyU3RhdGVUb1NldCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfcHJvdG8uZ2V0U3RhdGVBbmRIZWxwZXJzID0gZnVuY3Rpb24gZ2V0U3RhdGVBbmRIZWxwZXJzKCkge1xuICAgICAgdmFyIF90aGlzJGdldFN0YXRlOSA9IHRoaXMuZ2V0U3RhdGUoKSxcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleCA9IF90aGlzJGdldFN0YXRlOS5oaWdobGlnaHRlZEluZGV4LFxuICAgICAgICBpbnB1dFZhbHVlID0gX3RoaXMkZ2V0U3RhdGU5LmlucHV0VmFsdWUsXG4gICAgICAgIHNlbGVjdGVkSXRlbSA9IF90aGlzJGdldFN0YXRlOS5zZWxlY3RlZEl0ZW0sXG4gICAgICAgIGlzT3BlbiA9IF90aGlzJGdldFN0YXRlOS5pc09wZW47XG4gICAgICB2YXIgaXRlbVRvU3RyaW5nID0gdGhpcy5wcm9wcy5pdGVtVG9TdHJpbmc7XG4gICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgdmFyIGdldFJvb3RQcm9wcyA9IHRoaXMuZ2V0Um9vdFByb3BzLFxuICAgICAgICBnZXRUb2dnbGVCdXR0b25Qcm9wcyA9IHRoaXMuZ2V0VG9nZ2xlQnV0dG9uUHJvcHMsXG4gICAgICAgIGdldExhYmVsUHJvcHMgPSB0aGlzLmdldExhYmVsUHJvcHMsXG4gICAgICAgIGdldE1lbnVQcm9wcyA9IHRoaXMuZ2V0TWVudVByb3BzLFxuICAgICAgICBnZXRJbnB1dFByb3BzID0gdGhpcy5nZXRJbnB1dFByb3BzLFxuICAgICAgICBnZXRJdGVtUHJvcHMgPSB0aGlzLmdldEl0ZW1Qcm9wcyxcbiAgICAgICAgb3Blbk1lbnUgPSB0aGlzLm9wZW5NZW51LFxuICAgICAgICBjbG9zZU1lbnUgPSB0aGlzLmNsb3NlTWVudSxcbiAgICAgICAgdG9nZ2xlTWVudSA9IHRoaXMudG9nZ2xlTWVudSxcbiAgICAgICAgc2VsZWN0SXRlbSA9IHRoaXMuc2VsZWN0SXRlbSxcbiAgICAgICAgc2VsZWN0SXRlbUF0SW5kZXggPSB0aGlzLnNlbGVjdEl0ZW1BdEluZGV4LFxuICAgICAgICBzZWxlY3RIaWdobGlnaHRlZEl0ZW0gPSB0aGlzLnNlbGVjdEhpZ2hsaWdodGVkSXRlbSxcbiAgICAgICAgc2V0SGlnaGxpZ2h0ZWRJbmRleCA9IHRoaXMuc2V0SGlnaGxpZ2h0ZWRJbmRleCxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb24gPSB0aGlzLmNsZWFyU2VsZWN0aW9uLFxuICAgICAgICBjbGVhckl0ZW1zID0gdGhpcy5jbGVhckl0ZW1zLFxuICAgICAgICByZXNldCA9IHRoaXMucmVzZXQsXG4gICAgICAgIHNldEl0ZW1Db3VudCA9IHRoaXMuc2V0SXRlbUNvdW50LFxuICAgICAgICB1bnNldEl0ZW1Db3VudCA9IHRoaXMudW5zZXRJdGVtQ291bnQsXG4gICAgICAgIHNldFN0YXRlID0gdGhpcy5pbnRlcm5hbFNldFN0YXRlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gcHJvcCBnZXR0ZXJzXG4gICAgICAgIGdldFJvb3RQcm9wczogZ2V0Um9vdFByb3BzLFxuICAgICAgICBnZXRUb2dnbGVCdXR0b25Qcm9wczogZ2V0VG9nZ2xlQnV0dG9uUHJvcHMsXG4gICAgICAgIGdldExhYmVsUHJvcHM6IGdldExhYmVsUHJvcHMsXG4gICAgICAgIGdldE1lbnVQcm9wczogZ2V0TWVudVByb3BzLFxuICAgICAgICBnZXRJbnB1dFByb3BzOiBnZXRJbnB1dFByb3BzLFxuICAgICAgICBnZXRJdGVtUHJvcHM6IGdldEl0ZW1Qcm9wcyxcbiAgICAgICAgLy8gYWN0aW9uc1xuICAgICAgICByZXNldDogcmVzZXQsXG4gICAgICAgIG9wZW5NZW51OiBvcGVuTWVudSxcbiAgICAgICAgY2xvc2VNZW51OiBjbG9zZU1lbnUsXG4gICAgICAgIHRvZ2dsZU1lbnU6IHRvZ2dsZU1lbnUsXG4gICAgICAgIHNlbGVjdEl0ZW06IHNlbGVjdEl0ZW0sXG4gICAgICAgIHNlbGVjdEl0ZW1BdEluZGV4OiBzZWxlY3RJdGVtQXRJbmRleCxcbiAgICAgICAgc2VsZWN0SGlnaGxpZ2h0ZWRJdGVtOiBzZWxlY3RIaWdobGlnaHRlZEl0ZW0sXG4gICAgICAgIHNldEhpZ2hsaWdodGVkSW5kZXg6IHNldEhpZ2hsaWdodGVkSW5kZXgsXG4gICAgICAgIGNsZWFyU2VsZWN0aW9uOiBjbGVhclNlbGVjdGlvbixcbiAgICAgICAgY2xlYXJJdGVtczogY2xlYXJJdGVtcyxcbiAgICAgICAgc2V0SXRlbUNvdW50OiBzZXRJdGVtQ291bnQsXG4gICAgICAgIHVuc2V0SXRlbUNvdW50OiB1bnNldEl0ZW1Db3VudCxcbiAgICAgICAgc2V0U3RhdGU6IHNldFN0YXRlLFxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICBpdGVtVG9TdHJpbmc6IGl0ZW1Ub1N0cmluZyxcbiAgICAgICAgLy8gZGVyaXZlZFxuICAgICAgICBpZDogaWQsXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGhpZ2hsaWdodGVkSW5kZXgsXG4gICAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgIGlzT3BlbjogaXNPcGVuLFxuICAgICAgICBzZWxlY3RlZEl0ZW06IHNlbGVjdGVkSXRlbVxuICAgICAgfTtcbiAgICB9O1xuICAgIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKHJlYWN0LW5hdGl2ZSkgKi9cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFmYWxzZSAmJiB0aGlzLmdldE1lbnVQcm9wcy5jYWxsZWQgJiYgIXRoaXMuZ2V0TWVudVByb3BzLnN1cHByZXNzUmVmRXJyb3IpIHtcbiAgICAgICAgdmFsaWRhdGVHZXRNZW51UHJvcHNDYWxsZWRDb3JyZWN0bHkodGhpcy5fbWVudU5vZGUsIHRoaXMuZ2V0TWVudVByb3BzKTtcbiAgICAgIH1cblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIChyZWFjdC1uYXRpdmUgb3IgU1NSKSAqL1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmVudmlyb25tZW50KSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczQuaW50ZXJuYWxDbGVhclRpbWVvdXRzKCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzLmlzTW91c2VEb3duIGhlbHBzIHVzIHRyYWNrIHdoZXRoZXIgdGhlIG1vdXNlIGlzIGN1cnJlbnRseSBoZWxkIGRvd24uXG4gICAgICAgIC8vIFRoaXMgaXMgdXNlZnVsIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIGFuIGl0ZW0gaW4gdGhlIGxpc3QsIGJ1dCBob2xkcyB0aGUgbW91c2VcbiAgICAgICAgLy8gZG93biBsb25nIGVub3VnaCBmb3IgdGhlIGxpc3QgdG8gZGlzYXBwZWFyIChiZWNhdXNlIHRoZSBibHVyIGV2ZW50IGZpcmVzIG9uIHRoZSBpbnB1dClcbiAgICAgICAgLy8gdGhpcy5pc01vdXNlRG93biBpcyB1c2VkIGluIHRoZSBibHVyIGhhbmRsZXIgb24gdGhlIGlucHV0IHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBibHVyIGV2ZW50IHNob3VsZFxuICAgICAgICAvLyB0cmlnZ2VyIGhpZGluZyB0aGUgbWVudS5cbiAgICAgICAgdmFyIG9uTW91c2VEb3duID0gZnVuY3Rpb24gb25Nb3VzZURvd24oKSB7XG4gICAgICAgICAgX3RoaXM0LmlzTW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uTW91c2VVcCA9IGZ1bmN0aW9uIG9uTW91c2VVcChldmVudCkge1xuICAgICAgICAgIF90aGlzNC5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgIC8vIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBvciB0aGUgYWN0aXZlRWxlbWVudCBpcyB3aXRoaW4gYSBkb3duc2hpZnQgbm9kZVxuICAgICAgICAgIC8vIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byByZXNldCBkb3duc2hpZnRcbiAgICAgICAgICB2YXIgY29udGV4dFdpdGhpbkRvd25zaGlmdCA9IHRhcmdldFdpdGhpbkRvd25zaGlmdChldmVudC50YXJnZXQsIFtfdGhpczQuX3Jvb3ROb2RlLCBfdGhpczQuX21lbnVOb2RlXSwgX3RoaXM0LnByb3BzLmVudmlyb25tZW50KTtcbiAgICAgICAgICBpZiAoIWNvbnRleHRXaXRoaW5Eb3duc2hpZnQgJiYgX3RoaXM0LmdldFN0YXRlKCkuaXNPcGVuKSB7XG4gICAgICAgICAgICBfdGhpczQucmVzZXQoe1xuICAgICAgICAgICAgICB0eXBlOiBtb3VzZVVwXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpczQucHJvcHMub25PdXRlckNsaWNrKF90aGlzNC5nZXRTdGF0ZUFuZEhlbHBlcnMoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRvdWNoaW5nIGFuIGVsZW1lbnQgaW4gaU9TIGdpdmVzIGZvY3VzIGFuZCBob3ZlciBzdGF0ZXMsIGJ1dCB0b3VjaGluZyBvdXQgb2ZcbiAgICAgICAgLy8gdGhlIGVsZW1lbnQgd2lsbCByZW1vdmUgaG92ZXIsIGFuZCBwZXJzaXN0IHRoZSBmb2N1cyBzdGF0ZSwgcmVzdWx0aW5nIGluIHRoZVxuICAgICAgICAvLyBibHVyIGV2ZW50IG5vdCBiZWluZyB0cmlnZ2VyZWQuXG4gICAgICAgIC8vIHRoaXMuaXNUb3VjaE1vdmUgaGVscHMgdXMgdHJhY2sgd2hldGhlciB0aGUgdXNlciBpcyB0YXBwaW5nIG9yIHN3aXBpbmcgb24gYSB0b3VjaCBzY3JlZW4uXG4gICAgICAgIC8vIElmIHRoZSB1c2VyIHRhcHMgb3V0c2lkZSBvZiBEb3duc2hpZnQsIHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHJlc2V0LFxuICAgICAgICAvLyBidXQgbm90IGlmIHRoZSB1c2VyIGlzIHN3aXBpbmdcbiAgICAgICAgdmFyIG9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uIG9uVG91Y2hTdGFydCgpIHtcbiAgICAgICAgICBfdGhpczQuaXNUb3VjaE1vdmUgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uVG91Y2hNb3ZlID0gZnVuY3Rpb24gb25Ub3VjaE1vdmUoKSB7XG4gICAgICAgICAgX3RoaXM0LmlzVG91Y2hNb3ZlID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGNvbnRleHRXaXRoaW5Eb3duc2hpZnQgPSB0YXJnZXRXaXRoaW5Eb3duc2hpZnQoZXZlbnQudGFyZ2V0LCBbX3RoaXM0Ll9yb290Tm9kZSwgX3RoaXM0Ll9tZW51Tm9kZV0sIF90aGlzNC5wcm9wcy5lbnZpcm9ubWVudCwgZmFsc2UpO1xuICAgICAgICAgIGlmICghX3RoaXM0LmlzVG91Y2hNb3ZlICYmICFjb250ZXh0V2l0aGluRG93bnNoaWZ0ICYmIF90aGlzNC5nZXRTdGF0ZSgpLmlzT3Blbikge1xuICAgICAgICAgICAgX3RoaXM0LnJlc2V0KHtcbiAgICAgICAgICAgICAgdHlwZTogdG91Y2hFbmRcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5wcm9wcy5vbk91dGVyQ2xpY2soX3RoaXM0LmdldFN0YXRlQW5kSGVscGVycygpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVudmlyb25tZW50ID0gdGhpcy5wcm9wcy5lbnZpcm9ubWVudDtcbiAgICAgICAgZW52aXJvbm1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24pO1xuICAgICAgICBlbnZpcm9ubWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICAgICAgZW52aXJvbm1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCk7XG4gICAgICAgIGVudmlyb25tZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICAgICAgZW52aXJvbm1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcbiAgICAgICAgdGhpcy5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzNC5pbnRlcm5hbENsZWFyVGltZW91dHMoKTtcbiAgICAgICAgICBfdGhpczQudXBkYXRlU3RhdHVzLmNhbmNlbCgpO1xuICAgICAgICAgIGVudmlyb25tZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duKTtcbiAgICAgICAgICBlbnZpcm9ubWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICAgICAgICBlbnZpcm9ubWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KTtcbiAgICAgICAgICBlbnZpcm9ubWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XG4gICAgICAgICAgZW52aXJvbm1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF9wcm90by5zaG91bGRTY3JvbGwgPSBmdW5jdGlvbiBzaG91bGRTY3JvbGwocHJldlN0YXRlLCBwcmV2UHJvcHMpIHtcbiAgICAgIHZhciBfcmVmMTAgPSB0aGlzLnByb3BzLmhpZ2hsaWdodGVkSW5kZXggPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0U3RhdGUoKSA6IHRoaXMucHJvcHMsXG4gICAgICAgIGN1cnJlbnRIaWdobGlnaHRlZEluZGV4ID0gX3JlZjEwLmhpZ2hsaWdodGVkSW5kZXg7XG4gICAgICB2YXIgX3JlZjExID0gcHJldlByb3BzLmhpZ2hsaWdodGVkSW5kZXggPT09IHVuZGVmaW5lZCA/IHByZXZTdGF0ZSA6IHByZXZQcm9wcyxcbiAgICAgICAgcHJldkhpZ2hsaWdodGVkSW5kZXggPSBfcmVmMTEuaGlnaGxpZ2h0ZWRJbmRleDtcbiAgICAgIHZhciBzY3JvbGxXaGVuT3BlbiA9IGN1cnJlbnRIaWdobGlnaHRlZEluZGV4ICYmIHRoaXMuZ2V0U3RhdGUoKS5pc09wZW4gJiYgIXByZXZTdGF0ZS5pc09wZW47XG4gICAgICB2YXIgc2Nyb2xsV2hlbk5hdmlnYXRpbmcgPSBjdXJyZW50SGlnaGxpZ2h0ZWRJbmRleCAhPT0gcHJldkhpZ2hsaWdodGVkSW5kZXg7XG4gICAgICByZXR1cm4gc2Nyb2xsV2hlbk9wZW4gfHwgc2Nyb2xsV2hlbk5hdmlnYXRpbmc7XG4gICAgfTtcbiAgICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZUNvbnRyb2xsZWRVbmNoYW5nZWQodGhpcy5zdGF0ZSwgcHJldlByb3BzLCB0aGlzLnByb3BzKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIChyZWFjdC1uYXRpdmUpICovXG4gICAgICAgIGlmICh0aGlzLmdldE1lbnVQcm9wcy5jYWxsZWQgJiYgIXRoaXMuZ2V0TWVudVByb3BzLnN1cHByZXNzUmVmRXJyb3IpIHtcbiAgICAgICAgICB2YWxpZGF0ZUdldE1lbnVQcm9wc0NhbGxlZENvcnJlY3RseSh0aGlzLl9tZW51Tm9kZSwgdGhpcy5nZXRNZW51UHJvcHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb250cm9sbGVkUHJvcCh0aGlzLnByb3BzLCAnc2VsZWN0ZWRJdGVtJykgJiYgdGhpcy5wcm9wcy5zZWxlY3RlZEl0ZW1DaGFuZ2VkKHByZXZQcm9wcy5zZWxlY3RlZEl0ZW0sIHRoaXMucHJvcHMuc2VsZWN0ZWRJdGVtKSkge1xuICAgICAgICB0aGlzLmludGVybmFsU2V0U3RhdGUoe1xuICAgICAgICAgIHR5cGU6IGNvbnRyb2xsZWRQcm9wVXBkYXRlZFNlbGVjdGVkSXRlbSxcbiAgICAgICAgICBpbnB1dFZhbHVlOiB0aGlzLnByb3BzLml0ZW1Ub1N0cmluZyh0aGlzLnByb3BzLnNlbGVjdGVkSXRlbSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuYXZvaWRTY3JvbGxpbmcgJiYgdGhpcy5zaG91bGRTY3JvbGwocHJldlN0YXRlLCBwcmV2UHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsSGlnaGxpZ2h0ZWRJdGVtSW50b1ZpZXcoKTtcbiAgICAgIH1cblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKHJlYWN0LW5hdGl2ZSkgKi9cbiAgICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVTdGF0dXMoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5jbGVhbnVwKCk7IC8vIGF2b2lkcyBtZW1vcnkgbGVha1xuICAgIH07XG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHVud3JhcEFycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4sIG5vb3ApO1xuICAgICAgLy8gYmVjYXVzZSB0aGUgaXRlbXMgYXJlIHJlcmVuZGVyZWQgZXZlcnkgdGltZSB3ZSBjYWxsIHRoZSBjaGlsZHJlblxuICAgICAgLy8gd2UgY2xlYXIgdGhpcyBvdXQgZWFjaCByZW5kZXIgYW5kIGl0IHdpbGwgYmUgcG9wdWxhdGVkIGFnYWluIGFzXG4gICAgICAvLyBnZXRJdGVtUHJvcHMgaXMgY2FsbGVkLlxuICAgICAgdGhpcy5jbGVhckl0ZW1zKCk7XG4gICAgICAvLyB3ZSByZXNldCB0aGlzIHNvIHdlIGtub3cgd2hldGhlciB0aGUgdXNlciBjYWxscyBnZXRSb290UHJvcHMgZHVyaW5nXG4gICAgICAvLyB0aGlzIHJlbmRlci4gSWYgdGhleSBkbyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcsXG4gICAgICAvLyBpZiB0aGV5IGRvbid0IHRoZW4gd2UgbmVlZCB0byBjbG9uZSB0aGUgZWxlbWVudCB0aGV5IHJldHVybiBhbmRcbiAgICAgIC8vIGFwcGx5IHRoZSBwcm9wcyBmb3IgdGhlbS5cbiAgICAgIHRoaXMuZ2V0Um9vdFByb3BzLmNhbGxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5nZXRSb290UHJvcHMucmVmS2V5ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5nZXRSb290UHJvcHMuc3VwcHJlc3NSZWZFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIHdlIGRvIHNvbWV0aGluZyBzaW1pbGFyIGZvciBnZXRNZW51UHJvcHNcbiAgICAgIHRoaXMuZ2V0TWVudVByb3BzLmNhbGxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5nZXRNZW51UHJvcHMucmVmS2V5ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5nZXRNZW51UHJvcHMuc3VwcHJlc3NSZWZFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIHdlIGRvIHNvbWV0aGluZyBzaW1pbGFyIGZvciBnZXRMYWJlbFByb3BzXG4gICAgICB0aGlzLmdldExhYmVsUHJvcHMuY2FsbGVkID0gZmFsc2U7XG4gICAgICAvLyBhbmQgc29tZXRoaW5nIHNpbWlsYXIgZm9yIGdldElucHV0UHJvcHNcbiAgICAgIHRoaXMuZ2V0SW5wdXRQcm9wcy5jYWxsZWQgPSBmYWxzZTtcbiAgICAgIHZhciBlbGVtZW50ID0gdW53cmFwQXJyYXkoY2hpbGRyZW4odGhpcy5nZXRTdGF0ZUFuZEhlbHBlcnMoKSkpO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZ2V0Um9vdFByb3BzLmNhbGxlZCB8fCB0aGlzLnByb3BzLnN1cHByZXNzUmVmRXJyb3IpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIXRoaXMuZ2V0Um9vdFByb3BzLnN1cHByZXNzUmVmRXJyb3IgJiYgIXRoaXMucHJvcHMuc3VwcHJlc3NSZWZFcnJvcikge1xuICAgICAgICAgIHZhbGlkYXRlR2V0Um9vdFByb3BzQ2FsbGVkQ29ycmVjdGx5KGVsZW1lbnQsIHRoaXMuZ2V0Um9vdFByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAoaXNET01FbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIC8vIHRoZXkgZGlkbid0IGFwcGx5IHRoZSByb290IHByb3BzLCBidXQgd2UgY2FuIGNsb25lXG4gICAgICAgIC8vIHRoaXMgYW5kIGFwcGx5IHRoZSBwcm9wcyBvdXJzZWx2ZXNcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9jbG9uZUVsZW1lbnQoZWxlbWVudCwgdGhpcy5nZXRSb290UHJvcHMoZ2V0RWxlbWVudFByb3BzKGVsZW1lbnQpKSk7XG4gICAgICB9XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAvLyB0aGV5IGRpZG4ndCBhcHBseSB0aGUgcm9vdCBwcm9wcywgYnV0IHRoZXkgbmVlZCB0b1xuICAgICAgICAvLyBvdGhlcndpc2Ugd2UgY2FuJ3QgcXVlcnkgYXJvdW5kIHRoZSBhdXRvY29tcGxldGVcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Rvd25zaGlmdDogSWYgeW91IHJldHVybiBhIG5vbi1ET00gZWxlbWVudCwgeW91IG11c3QgYXBwbHkgdGhlIGdldFJvb3RQcm9wcyBmdW5jdGlvbicpO1xuICAgICAgfVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBEb3duc2hpZnQ7XG4gIH0oQ29tcG9uZW50KTtcbiAgRG93bnNoaWZ0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleDogbnVsbCxcbiAgICBkZWZhdWx0SXNPcGVuOiBmYWxzZSxcbiAgICBnZXRBMTF5U3RhdHVzTWVzc2FnZTogZ2V0QTExeVN0YXR1c01lc3NhZ2UkMSxcbiAgICBpdGVtVG9TdHJpbmc6IGZ1bmN0aW9uIGl0ZW1Ub1N0cmluZyhpKSB7XG4gICAgICBpZiAoaSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzUGxhaW5PYmplY3QoaSkgJiYgIWkuaGFzT3duUHJvcGVydHkoJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdkb3duc2hpZnQ6IEFuIG9iamVjdCB3YXMgcGFzc2VkIHRvIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBpdGVtVG9TdHJpbmdgLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHByb3ZpZGUgeW91ciBvd24gYGl0ZW1Ub1N0cmluZ2AgaW1wbGVtZW50YXRpb24uIFBsZWFzZSByZWZlciB0byB0aGUgYGl0ZW1Ub1N0cmluZ2AgQVBJIGRvY3VtZW50YXRpb24uJywgJ1RoZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkOicsIGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFN0cmluZyhpKTtcbiAgICB9LFxuICAgIG9uU3RhdGVDaGFuZ2U6IG5vb3AsXG4gICAgb25JbnB1dFZhbHVlQ2hhbmdlOiBub29wLFxuICAgIG9uVXNlckFjdGlvbjogbm9vcCxcbiAgICBvbkNoYW5nZTogbm9vcCxcbiAgICBvblNlbGVjdDogbm9vcCxcbiAgICBvbk91dGVyQ2xpY2s6IG5vb3AsXG4gICAgc2VsZWN0ZWRJdGVtQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlZChwcmV2SXRlbSwgaXRlbSkge1xuICAgICAgcmV0dXJuIHByZXZJdGVtICE9PSBpdGVtO1xuICAgIH0sXG4gICAgZW52aXJvbm1lbnQ6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IChzc3IpICovXG4gICAgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgZmFsc2UgPyB1bmRlZmluZWQgOiB3aW5kb3csXG4gICAgc3RhdGVSZWR1Y2VyOiBmdW5jdGlvbiBzdGF0ZVJlZHVjZXIoc3RhdGUsIHN0YXRlVG9TZXQpIHtcbiAgICAgIHJldHVybiBzdGF0ZVRvU2V0O1xuICAgIH0sXG4gICAgc3VwcHJlc3NSZWZFcnJvcjogZmFsc2UsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IHNjcm9sbEludG9WaWV3XG4gIH07XG4gIERvd25zaGlmdC5zdGF0ZUNoYW5nZVR5cGVzID0gc3RhdGVDaGFuZ2VUeXBlcyQzO1xuICByZXR1cm4gRG93bnNoaWZ0O1xufSgpO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRG93bnNoaWZ0LnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLFxuICBkZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgZGVmYXVsdElzT3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIGluaXRpYWxIaWdobGlnaHRlZEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICBpbml0aWFsU2VsZWN0ZWRJdGVtOiBQcm9wVHlwZXMuYW55LFxuICBpbml0aWFsSW5wdXRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaW5pdGlhbElzT3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIGdldEExMXlTdGF0dXNNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgaXRlbVRvU3RyaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvblNlbGVjdDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU3RhdGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvbklucHV0VmFsdWVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvblVzZXJBY3Rpb246IFByb3BUeXBlcy5mdW5jLFxuICBvbk91dGVyQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICBzZWxlY3RlZEl0ZW1DaGFuZ2VkOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3RhdGVSZWR1Y2VyOiBQcm9wVHlwZXMuZnVuYyxcbiAgaXRlbUNvdW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZW52aXJvbm1lbnQ6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRvY3VtZW50OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY3JlYXRlRWxlbWVudDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIGdldEVsZW1lbnRCeUlkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgYWN0aXZlRWxlbWVudDogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLFxuICAgICAgYm9keTogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkXG4gICAgfSkuaXNSZXF1aXJlZCxcbiAgICBOb2RlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gIH0pLFxuICBzdXBwcmVzc1JlZkVycm9yOiBQcm9wVHlwZXMuYm9vbCxcbiAgc2Nyb2xsSW50b1ZpZXc6IFByb3BUeXBlcy5mdW5jLFxuICAvLyB0aGluZ3Mgd2Uga2VlcCBpbiBzdGF0ZSBmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHNcbiAgLy8gYnV0IGNhbiBhY2NlcHQgYXMgcHJvcHMgZm9yIGNvbnRyb2xsZWQgY29tcG9uZW50c1xuICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlcyAqL1xuICBzZWxlY3RlZEl0ZW06IFByb3BUeXBlcy5hbnksXG4gIGlzT3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIGlucHV0VmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGhpZ2hsaWdodGVkSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGxhYmVsSWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGlucHV0SWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG1lbnVJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZ2V0SXRlbUlkOiBQcm9wVHlwZXMuZnVuY1xuICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzICovXG59IDogdm9pZCAwO1xudmFyIERvd25zaGlmdCQxID0gRG93bnNoaWZ0O1xuZnVuY3Rpb24gdmFsaWRhdGVHZXRNZW51UHJvcHNDYWxsZWRDb3JyZWN0bHkobm9kZSwgX3JlZjEyKSB7XG4gIHZhciByZWZLZXkgPSBfcmVmMTIucmVmS2V5O1xuICBpZiAoIW5vZGUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZXJyb3IoXCJkb3duc2hpZnQ6IFRoZSByZWYgcHJvcCBcXFwiXCIgKyByZWZLZXkgKyBcIlxcXCIgZnJvbSBnZXRNZW51UHJvcHMgd2FzIG5vdCBhcHBsaWVkIGNvcnJlY3RseSBvbiB5b3VyIG1lbnUgZWxlbWVudC5cIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlR2V0Um9vdFByb3BzQ2FsbGVkQ29ycmVjdGx5KGVsZW1lbnQsIF9yZWYxMykge1xuICB2YXIgcmVmS2V5ID0gX3JlZjEzLnJlZktleTtcbiAgdmFyIHJlZktleVNwZWNpZmllZCA9IHJlZktleSAhPT0gJ3JlZic7XG4gIHZhciBpc0NvbXBvc2l0ZSA9ICFpc0RPTUVsZW1lbnQoZWxlbWVudCk7XG4gIGlmIChpc0NvbXBvc2l0ZSAmJiAhcmVmS2V5U3BlY2lmaWVkICYmICFpc0ZvcndhcmRSZWYoZWxlbWVudCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25zaGlmdDogWW91IHJldHVybmVkIGEgbm9uLURPTSBlbGVtZW50LiBZb3UgbXVzdCBzcGVjaWZ5IGEgcmVmS2V5IGluIGdldFJvb3RQcm9wcycpO1xuICB9IGVsc2UgaWYgKCFpc0NvbXBvc2l0ZSAmJiByZWZLZXlTcGVjaWZpZWQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZXJyb3IoXCJkb3duc2hpZnQ6IFlvdSByZXR1cm5lZCBhIERPTSBlbGVtZW50LiBZb3Ugc2hvdWxkIG5vdCBzcGVjaWZ5IGEgcmVmS2V5IGluIGdldFJvb3RQcm9wcy4gWW91IHNwZWNpZmllZCBcXFwiXCIgKyByZWZLZXkgKyBcIlxcXCJcIik7XG4gIH1cbiAgaWYgKCFpc0ZvcndhcmRSZWYoZWxlbWVudCkgJiYgIWdldEVsZW1lbnRQcm9wcyhlbGVtZW50KVtyZWZLZXldKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmVycm9yKFwiZG93bnNoaWZ0OiBZb3UgbXVzdCBhcHBseSB0aGUgcmVmIHByb3AgXFxcIlwiICsgcmVmS2V5ICsgXCJcXFwiIGZyb20gZ2V0Um9vdFByb3BzIG9udG8geW91ciByb290IGVsZW1lbnQuXCIpO1xuICB9XG59XG5cbnZhciBfZXhjbHVkZWQkMyA9IFtcImlzSW5pdGlhbE1vdW50XCIsIFwiaGlnaGxpZ2h0ZWRJbmRleFwiLCBcIml0ZW1zXCIsIFwiZW52aXJvbm1lbnRcIl07XG52YXIgZHJvcGRvd25EZWZhdWx0U3RhdGVWYWx1ZXMgPSB7XG4gIGhpZ2hsaWdodGVkSW5kZXg6IC0xLFxuICBpc09wZW46IGZhbHNlLFxuICBzZWxlY3RlZEl0ZW06IG51bGwsXG4gIGlucHV0VmFsdWU6ICcnXG59O1xuZnVuY3Rpb24gY2FsbE9uQ2hhbmdlUHJvcHMoYWN0aW9uLCBzdGF0ZSwgbmV3U3RhdGUpIHtcbiAgdmFyIHByb3BzID0gYWN0aW9uLnByb3BzLFxuICAgIHR5cGUgPSBhY3Rpb24udHlwZTtcbiAgdmFyIGNoYW5nZXMgPSB7fTtcbiAgT2JqZWN0LmtleXMoc3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGludm9rZU9uQ2hhbmdlSGFuZGxlcihrZXksIGFjdGlvbiwgc3RhdGUsIG5ld1N0YXRlKTtcbiAgICBpZiAobmV3U3RhdGVba2V5XSAhPT0gc3RhdGVba2V5XSkge1xuICAgICAgY2hhbmdlc1trZXldID0gbmV3U3RhdGVba2V5XTtcbiAgICB9XG4gIH0pO1xuICBpZiAocHJvcHMub25TdGF0ZUNoYW5nZSAmJiBPYmplY3Qua2V5cyhjaGFuZ2VzKS5sZW5ndGgpIHtcbiAgICBwcm9wcy5vblN0YXRlQ2hhbmdlKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6IHR5cGVcbiAgICB9LCBjaGFuZ2VzKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGludm9rZU9uQ2hhbmdlSGFuZGxlcihrZXksIGFjdGlvbiwgc3RhdGUsIG5ld1N0YXRlKSB7XG4gIHZhciBwcm9wcyA9IGFjdGlvbi5wcm9wcyxcbiAgICB0eXBlID0gYWN0aW9uLnR5cGU7XG4gIHZhciBoYW5kbGVyID0gXCJvblwiICsgY2FwaXRhbGl6ZVN0cmluZyhrZXkpICsgXCJDaGFuZ2VcIjtcbiAgaWYgKHByb3BzW2hhbmRsZXJdICYmIG5ld1N0YXRlW2tleV0gIT09IHVuZGVmaW5lZCAmJiBuZXdTdGF0ZVtrZXldICE9PSBzdGF0ZVtrZXldKSB7XG4gICAgcHJvcHNbaGFuZGxlcl0oX2V4dGVuZHMoe1xuICAgICAgdHlwZTogdHlwZVxuICAgIH0sIG5ld1N0YXRlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWZhdWx0IHN0YXRlIHJlZHVjZXIgdGhhdCByZXR1cm5zIHRoZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzIHN0YXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGEgYWN0aW9uIHdpdGggY2hhbmdlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIHN0YXRlUmVkdWNlcihzLCBhKSB7XG4gIHJldHVybiBhLmNoYW5nZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG1lc3NhZ2UgdG8gYmUgYWRkZWQgdG8gYXJpYS1saXZlIHJlZ2lvbiB3aGVuIGl0ZW0gaXMgc2VsZWN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGlvblBhcmFtZXRlcnMgUGFyYW1ldGVycyByZXF1aXJlZCB0byBidWlsZCB0aGUgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBhMTF5IG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldEExMXlTZWxlY3Rpb25NZXNzYWdlKHNlbGVjdGlvblBhcmFtZXRlcnMpIHtcbiAgdmFyIHNlbGVjdGVkSXRlbSA9IHNlbGVjdGlvblBhcmFtZXRlcnMuc2VsZWN0ZWRJdGVtLFxuICAgIGl0ZW1Ub1N0cmluZ0xvY2FsID0gc2VsZWN0aW9uUGFyYW1ldGVycy5pdGVtVG9TdHJpbmc7XG4gIHJldHVybiBzZWxlY3RlZEl0ZW0gPyBpdGVtVG9TdHJpbmdMb2NhbChzZWxlY3RlZEl0ZW0pICsgXCIgaGFzIGJlZW4gc2VsZWN0ZWQuXCIgOiAnJztcbn1cblxuLyoqXG4gKiBEZWJvdW5jZWQgY2FsbCBmb3IgdXBkYXRpbmcgdGhlIGExMXkgbWVzc2FnZS5cbiAqL1xudmFyIHVwZGF0ZUExMXlTdGF0dXMgPSBkZWJvdW5jZShmdW5jdGlvbiAoZ2V0QTExeU1lc3NhZ2UsIGRvY3VtZW50KSB7XG4gIHNldFN0YXR1cyhnZXRBMTF5TWVzc2FnZSgpLCBkb2N1bWVudCk7XG59LCAyMDApO1xuXG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxudmFyIHVzZUVsZW1lbnRJZHMgPSAndXNlSWQnIGluIFJlYWN0IC8vIEF2b2lkIGNvbmRpdGlvbmFsIHVzZUlkIGNhbGxcbj8gZnVuY3Rpb24gdXNlRWxlbWVudElkcyhfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgbGFiZWxJZCA9IF9yZWYubGFiZWxJZCxcbiAgICBtZW51SWQgPSBfcmVmLm1lbnVJZCxcbiAgICBnZXRJdGVtSWQgPSBfcmVmLmdldEl0ZW1JZCxcbiAgICB0b2dnbGVCdXR0b25JZCA9IF9yZWYudG9nZ2xlQnV0dG9uSWQsXG4gICAgaW5wdXRJZCA9IF9yZWYuaW5wdXRJZDtcbiAgLy8gQXZvaWQgY29uZGl0aW9uYWwgdXNlSWQgY2FsbFxuICB2YXIgcmVhY3RJZCA9IFwiZG93bnNoaWZ0LVwiICsgUmVhY3QudXNlSWQoKTtcbiAgaWYgKCFpZCkge1xuICAgIGlkID0gcmVhY3RJZDtcbiAgfVxuICB2YXIgZWxlbWVudElkc1JlZiA9IHVzZVJlZih7XG4gICAgbGFiZWxJZDogbGFiZWxJZCB8fCBpZCArIFwiLWxhYmVsXCIsXG4gICAgbWVudUlkOiBtZW51SWQgfHwgaWQgKyBcIi1tZW51XCIsXG4gICAgZ2V0SXRlbUlkOiBnZXRJdGVtSWQgfHwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICByZXR1cm4gaWQgKyBcIi1pdGVtLVwiICsgaW5kZXg7XG4gICAgfSxcbiAgICB0b2dnbGVCdXR0b25JZDogdG9nZ2xlQnV0dG9uSWQgfHwgaWQgKyBcIi10b2dnbGUtYnV0dG9uXCIsXG4gICAgaW5wdXRJZDogaW5wdXRJZCB8fCBpZCArIFwiLWlucHV0XCJcbiAgfSk7XG4gIHJldHVybiBlbGVtZW50SWRzUmVmLmN1cnJlbnQ7XG59IDogZnVuY3Rpb24gdXNlRWxlbWVudElkcyhfcmVmMikge1xuICB2YXIgX3JlZjIkaWQgPSBfcmVmMi5pZCxcbiAgICBpZCA9IF9yZWYyJGlkID09PSB2b2lkIDAgPyBcImRvd25zaGlmdC1cIiArIGdlbmVyYXRlSWQoKSA6IF9yZWYyJGlkLFxuICAgIGxhYmVsSWQgPSBfcmVmMi5sYWJlbElkLFxuICAgIG1lbnVJZCA9IF9yZWYyLm1lbnVJZCxcbiAgICBnZXRJdGVtSWQgPSBfcmVmMi5nZXRJdGVtSWQsXG4gICAgdG9nZ2xlQnV0dG9uSWQgPSBfcmVmMi50b2dnbGVCdXR0b25JZCxcbiAgICBpbnB1dElkID0gX3JlZjIuaW5wdXRJZDtcbiAgdmFyIGVsZW1lbnRJZHNSZWYgPSB1c2VSZWYoe1xuICAgIGxhYmVsSWQ6IGxhYmVsSWQgfHwgaWQgKyBcIi1sYWJlbFwiLFxuICAgIG1lbnVJZDogbWVudUlkIHx8IGlkICsgXCItbWVudVwiLFxuICAgIGdldEl0ZW1JZDogZ2V0SXRlbUlkIHx8IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgcmV0dXJuIGlkICsgXCItaXRlbS1cIiArIGluZGV4O1xuICAgIH0sXG4gICAgdG9nZ2xlQnV0dG9uSWQ6IHRvZ2dsZUJ1dHRvbklkIHx8IGlkICsgXCItdG9nZ2xlLWJ1dHRvblwiLFxuICAgIGlucHV0SWQ6IGlucHV0SWQgfHwgaWQgKyBcIi1pbnB1dFwiXG4gIH0pO1xuICByZXR1cm4gZWxlbWVudElkc1JlZi5jdXJyZW50O1xufTtcbmZ1bmN0aW9uIGdldEl0ZW1BbmRJbmRleChpdGVtUHJvcCwgaW5kZXhQcm9wLCBpdGVtcywgZXJyb3JNZXNzYWdlKSB7XG4gIHZhciBpdGVtLCBpbmRleDtcbiAgaWYgKGl0ZW1Qcm9wID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaW5kZXhQcm9wID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBpdGVtID0gaXRlbXNbaW5kZXhQcm9wXTtcbiAgICBpbmRleCA9IGluZGV4UHJvcDtcbiAgfSBlbHNlIHtcbiAgICBpbmRleCA9IGluZGV4UHJvcCA9PT0gdW5kZWZpbmVkID8gaXRlbXMuaW5kZXhPZihpdGVtUHJvcCkgOiBpbmRleFByb3A7XG4gICAgaXRlbSA9IGl0ZW1Qcm9wO1xuICB9XG4gIHJldHVybiBbaXRlbSwgaW5kZXhdO1xufVxuZnVuY3Rpb24gaXRlbVRvU3RyaW5nKGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0gPyBTdHJpbmcoaXRlbSkgOiAnJztcbn1cbmZ1bmN0aW9uIGlzQWNjZXB0ZWRDaGFyYWN0ZXJLZXkoa2V5KSB7XG4gIHJldHVybiAvXlxcU3sxfSQvLnRlc3Qoa2V5KTtcbn1cbmZ1bmN0aW9uIGNhcGl0YWxpemVTdHJpbmcoc3RyaW5nKSB7XG4gIHJldHVybiBcIlwiICsgc3RyaW5nLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiB1c2VMYXRlc3RSZWYodmFsKSB7XG4gIHZhciByZWYgPSB1c2VSZWYodmFsKTtcbiAgLy8gdGVjaG5pY2FsbHkgdGhpcyBpcyBub3QgXCJjb25jdXJyZW50IG1vZGUgc2FmZVwiIGJlY2F1c2Ugd2UncmUgbWFuaXB1bGF0aW5nXG4gIC8vIHRoZSB2YWx1ZSBkdXJpbmcgcmVuZGVyIChzbyBpdCdzIG5vdCBpZGVtcG90ZW50KS4gSG93ZXZlciwgdGhlIHBsYWNlcyB0aGlzXG4gIC8vIGhvb2sgaXMgdXNlZCBpcyB0byBzdXBwb3J0IG1lbW9pemluZyBjYWxsYmFja3Mgd2hpY2ggd2lsbCBiZSBjYWxsZWRcbiAgLy8gKmR1cmluZyogcmVuZGVyLCBzbyB3ZSBuZWVkIHRoZSBsYXRlc3QgdmFsdWVzICpkdXJpbmcqIHJlbmRlci5cbiAgLy8gSWYgbm90IGZvciB0aGlzLCB0aGVuIHdlJ2QgcHJvYmFibHkgd2FudCB0byB1c2UgdXNlTGF5b3V0RWZmZWN0IGluc3RlYWQuXG4gIHJlZi5jdXJyZW50ID0gdmFsO1xuICByZXR1cm4gcmVmO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBjb250cm9sbGVkIHN0YXRlIHVzaW5nIGEgdGhlIHByZXZpb3VzIHN0YXRlLCBwcm9wcyxcbiAqIHR3byByZWR1Y2Vycywgb25lIGZyb20gZG93bnNoaWZ0IGFuZCBhbiBvcHRpb25hbCBvbmUgZnJvbSB0aGUgdXNlci5cbiAqIEFsc28gY2FsbHMgdGhlIG9uQ2hhbmdlIGhhbmRsZXJzIGZvciBzdGF0ZSB2YWx1ZXMgdGhhdCBoYXZlIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBSZWR1Y2VyIGZ1bmN0aW9uIGZyb20gZG93bnNoaWZ0LlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFRoZSBob29rIHByb3BzLCBhbHNvIHBhc3NlZCB0byBjcmVhdGVJbml0aWFsU3RhdGUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjcmVhdGVJbml0aWFsU3RhdGUgRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBpbml0aWFsIHN0YXRlLlxuICogQHJldHVybnMge0FycmF5fSBBbiBhcnJheSB3aXRoIHRoZSBzdGF0ZSBhbmQgYW4gYWN0aW9uIGRpc3BhdGNoZXIuXG4gKi9cbmZ1bmN0aW9uIHVzZUVuaGFuY2VkUmVkdWNlcihyZWR1Y2VyLCBwcm9wcywgY3JlYXRlSW5pdGlhbFN0YXRlKSB7XG4gIHZhciBwcmV2U3RhdGVSZWYgPSB1c2VSZWYoKTtcbiAgdmFyIGFjdGlvblJlZiA9IHVzZVJlZigpO1xuICB2YXIgZW5oYW5jZWRSZWR1Y2VyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBhY3Rpb25SZWYuY3VycmVudCA9IGFjdGlvbjtcbiAgICBzdGF0ZSA9IGdldFN0YXRlKHN0YXRlLCBhY3Rpb24ucHJvcHMpO1xuICAgIHZhciBjaGFuZ2VzID0gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgICB2YXIgbmV3U3RhdGUgPSBhY3Rpb24ucHJvcHMuc3RhdGVSZWR1Y2VyKHN0YXRlLCBfZXh0ZW5kcyh7fSwgYWN0aW9uLCB7XG4gICAgICBjaGFuZ2VzOiBjaGFuZ2VzXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgfSwgW3JlZHVjZXJdKTtcbiAgdmFyIF91c2VSZWR1Y2VyID0gdXNlUmVkdWNlcihlbmhhbmNlZFJlZHVjZXIsIHByb3BzLCBjcmVhdGVJbml0aWFsU3RhdGUpLFxuICAgIHN0YXRlID0gX3VzZVJlZHVjZXJbMF0sXG4gICAgZGlzcGF0Y2ggPSBfdXNlUmVkdWNlclsxXTtcbiAgdmFyIHByb3BzUmVmID0gdXNlTGF0ZXN0UmVmKHByb3BzKTtcbiAgdmFyIGRpc3BhdGNoV2l0aFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBkaXNwYXRjaChfZXh0ZW5kcyh7XG4gICAgICBwcm9wczogcHJvcHNSZWYuY3VycmVudFxuICAgIH0sIGFjdGlvbikpO1xuICB9LCBbcHJvcHNSZWZdKTtcbiAgdmFyIGFjdGlvbiA9IGFjdGlvblJlZi5jdXJyZW50O1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChhY3Rpb24gJiYgcHJldlN0YXRlUmVmLmN1cnJlbnQgJiYgcHJldlN0YXRlUmVmLmN1cnJlbnQgIT09IHN0YXRlKSB7XG4gICAgICBjYWxsT25DaGFuZ2VQcm9wcyhhY3Rpb24sIGdldFN0YXRlKHByZXZTdGF0ZVJlZi5jdXJyZW50LCBhY3Rpb24ucHJvcHMpLCBzdGF0ZSk7XG4gICAgfVxuICAgIHByZXZTdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gIH0sIFtzdGF0ZSwgcHJvcHMsIGFjdGlvbl0pO1xuICByZXR1cm4gW3N0YXRlLCBkaXNwYXRjaFdpdGhQcm9wc107XG59XG5cbi8qKlxuICogV3JhcHMgdGhlIHVzZUVuaGFuY2VkUmVkdWNlciBhbmQgYXBwbGllcyB0aGUgY29udHJvbGxlZCBwcm9wIHZhbHVlcyBiZWZvcmVcbiAqIHJldHVybmluZyB0aGUgbmV3IHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgUmVkdWNlciBmdW5jdGlvbiBmcm9tIGRvd25zaGlmdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgaG9vayBwcm9wcywgYWxzbyBwYXNzZWQgdG8gY3JlYXRlSW5pdGlhbFN0YXRlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3JlYXRlSW5pdGlhbFN0YXRlIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgd2l0aCB0aGUgc3RhdGUgYW5kIGFuIGFjdGlvbiBkaXNwYXRjaGVyLlxuICovXG5mdW5jdGlvbiB1c2VDb250cm9sbGVkUmVkdWNlciQxKHJlZHVjZXIsIHByb3BzLCBjcmVhdGVJbml0aWFsU3RhdGUpIHtcbiAgdmFyIF91c2VFbmhhbmNlZFJlZHVjZXIgPSB1c2VFbmhhbmNlZFJlZHVjZXIocmVkdWNlciwgcHJvcHMsIGNyZWF0ZUluaXRpYWxTdGF0ZSksXG4gICAgc3RhdGUgPSBfdXNlRW5oYW5jZWRSZWR1Y2VyWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUVuaGFuY2VkUmVkdWNlclsxXTtcbiAgcmV0dXJuIFtnZXRTdGF0ZShzdGF0ZSwgcHJvcHMpLCBkaXNwYXRjaF07XG59XG52YXIgZGVmYXVsdFByb3BzJDMgPSB7XG4gIGl0ZW1Ub1N0cmluZzogaXRlbVRvU3RyaW5nLFxuICBzdGF0ZVJlZHVjZXI6IHN0YXRlUmVkdWNlcixcbiAgZ2V0QTExeVNlbGVjdGlvbk1lc3NhZ2U6IGdldEExMXlTZWxlY3Rpb25NZXNzYWdlLFxuICBzY3JvbGxJbnRvVmlldzogc2Nyb2xsSW50b1ZpZXcsXG4gIGVudmlyb25tZW50OiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAoc3NyKSAqL1xuICB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCBmYWxzZSA/IHVuZGVmaW5lZCA6IHdpbmRvd1xufTtcbmZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZSQxKHByb3BzLCBwcm9wS2V5LCBkZWZhdWx0U3RhdGVWYWx1ZXMpIHtcbiAgaWYgKGRlZmF1bHRTdGF0ZVZhbHVlcyA9PT0gdm9pZCAwKSB7XG4gICAgZGVmYXVsdFN0YXRlVmFsdWVzID0gZHJvcGRvd25EZWZhdWx0U3RhdGVWYWx1ZXM7XG4gIH1cbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzW1wiZGVmYXVsdFwiICsgY2FwaXRhbGl6ZVN0cmluZyhwcm9wS2V5KV07XG4gIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRTdGF0ZVZhbHVlc1twcm9wS2V5XTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxWYWx1ZSQxKHByb3BzLCBwcm9wS2V5LCBkZWZhdWx0U3RhdGVWYWx1ZXMpIHtcbiAgaWYgKGRlZmF1bHRTdGF0ZVZhbHVlcyA9PT0gdm9pZCAwKSB7XG4gICAgZGVmYXVsdFN0YXRlVmFsdWVzID0gZHJvcGRvd25EZWZhdWx0U3RhdGVWYWx1ZXM7XG4gIH1cbiAgdmFyIHZhbHVlID0gcHJvcHNbcHJvcEtleV07XG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciBpbml0aWFsVmFsdWUgPSBwcm9wc1tcImluaXRpYWxcIiArIGNhcGl0YWxpemVTdHJpbmcocHJvcEtleSldO1xuICBpZiAoaW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gaW5pdGlhbFZhbHVlO1xuICB9XG4gIHJldHVybiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgcHJvcEtleSwgZGVmYXVsdFN0YXRlVmFsdWVzKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSQyKHByb3BzKSB7XG4gIHZhciBzZWxlY3RlZEl0ZW0gPSBnZXRJbml0aWFsVmFsdWUkMShwcm9wcywgJ3NlbGVjdGVkSXRlbScpO1xuICB2YXIgaXNPcGVuID0gZ2V0SW5pdGlhbFZhbHVlJDEocHJvcHMsICdpc09wZW4nKTtcbiAgdmFyIGhpZ2hsaWdodGVkSW5kZXggPSBnZXRJbml0aWFsVmFsdWUkMShwcm9wcywgJ2hpZ2hsaWdodGVkSW5kZXgnKTtcbiAgdmFyIGlucHV0VmFsdWUgPSBnZXRJbml0aWFsVmFsdWUkMShwcm9wcywgJ2lucHV0VmFsdWUnKTtcbiAgcmV0dXJuIHtcbiAgICBoaWdobGlnaHRlZEluZGV4OiBoaWdobGlnaHRlZEluZGV4IDwgMCAmJiBzZWxlY3RlZEl0ZW0gJiYgaXNPcGVuID8gcHJvcHMuaXRlbXMuaW5kZXhPZihzZWxlY3RlZEl0ZW0pIDogaGlnaGxpZ2h0ZWRJbmRleCxcbiAgICBpc09wZW46IGlzT3BlbixcbiAgICBzZWxlY3RlZEl0ZW06IHNlbGVjdGVkSXRlbSxcbiAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuKHByb3BzLCBzdGF0ZSwgb2Zmc2V0KSB7XG4gIHZhciBpdGVtcyA9IHByb3BzLml0ZW1zLFxuICAgIGluaXRpYWxIaWdobGlnaHRlZEluZGV4ID0gcHJvcHMuaW5pdGlhbEhpZ2hsaWdodGVkSW5kZXgsXG4gICAgZGVmYXVsdEhpZ2hsaWdodGVkSW5kZXggPSBwcm9wcy5kZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleDtcbiAgdmFyIHNlbGVjdGVkSXRlbSA9IHN0YXRlLnNlbGVjdGVkSXRlbSxcbiAgICBoaWdobGlnaHRlZEluZGV4ID0gc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleDtcbiAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8vIGluaXRpYWxIaWdobGlnaHRlZEluZGV4IHdpbGwgZ2l2ZSB2YWx1ZSB0byBoaWdobGlnaHRlZEluZGV4IG9uIGluaXRpYWwgc3RhdGUgb25seS5cbiAgaWYgKGluaXRpYWxIaWdobGlnaHRlZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgaGlnaGxpZ2h0ZWRJbmRleCA9PT0gaW5pdGlhbEhpZ2hsaWdodGVkSW5kZXgpIHtcbiAgICByZXR1cm4gaW5pdGlhbEhpZ2hsaWdodGVkSW5kZXg7XG4gIH1cbiAgaWYgKGRlZmF1bHRIaWdobGlnaHRlZEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZGVmYXVsdEhpZ2hsaWdodGVkSW5kZXg7XG4gIH1cbiAgaWYgKHNlbGVjdGVkSXRlbSkge1xuICAgIHJldHVybiBpdGVtcy5pbmRleE9mKHNlbGVjdGVkSXRlbSk7XG4gIH1cbiAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0IDwgMCA/IGl0ZW1zLmxlbmd0aCAtIDEgOiAwO1xufVxuXG4vKipcbiAqIFJldXNlIHRoZSBtb3ZlbWVudCB0cmFja2luZyBvZiBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPcGVuIFdoZXRoZXIgdGhlIGRyb3Bkb3duIGlzIG9wZW4gb3Igbm90LlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBkb3duc2hpZnRFbGVtZW50UmVmcyBEb3duc2hpZnQgZWxlbWVudCByZWZzIHRvIHRyYWNrIG1vdmVtZW50ICh0b2dnbGVCdXR0b24sIG1lbnUgZXRjLilcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbnZpcm9ubWVudCBFbnZpcm9ubWVudCB3aGVyZSBjb21wb25lbnQvaG9vayBleGlzdHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVCbHVyIEhhbmRsZXIgb24gYmx1ciBmcm9tIG1vdXNlIG9yIHRvdWNoLlxuICogQHJldHVybnMge09iamVjdH0gUmVmIGNvbnRhaW5pbmcgd2hldGhlciBtb3VzZURvd24gb3IgdG91Y2hNb3ZlIGV2ZW50IGlzIGhhcHBlbmluZ1xuICovXG5mdW5jdGlvbiB1c2VNb3VzZUFuZFRvdWNoVHJhY2tlcihpc09wZW4sIGRvd25zaGlmdEVsZW1lbnRSZWZzLCBlbnZpcm9ubWVudCwgaGFuZGxlQmx1cikge1xuICB2YXIgbW91c2VBbmRUb3VjaFRyYWNrZXJzUmVmID0gdXNlUmVmKHtcbiAgICBpc01vdXNlRG93bjogZmFsc2UsXG4gICAgaXNUb3VjaE1vdmU6IGZhbHNlXG4gIH0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghZW52aXJvbm1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGUgc2FtZSBzdHJhdGVneSBmb3IgY2hlY2tpbmcgaWYgYSBjbGljayBvY2N1cnJlZCBpbnNpZGUgb3Igb3V0c2lkZSBkb3duc2hpZnRcbiAgICAvLyBhcyBpbiBkb3duc2hpZnQuanMuXG4gICAgdmFyIG9uTW91c2VEb3duID0gZnVuY3Rpb24gb25Nb3VzZURvd24oKSB7XG4gICAgICBtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYuY3VycmVudC5pc01vdXNlRG93biA9IHRydWU7XG4gICAgfTtcbiAgICB2YXIgb25Nb3VzZVVwID0gZnVuY3Rpb24gb25Nb3VzZVVwKGV2ZW50KSB7XG4gICAgICBtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYuY3VycmVudC5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgICAgaWYgKGlzT3BlbiAmJiAhdGFyZ2V0V2l0aGluRG93bnNoaWZ0KGV2ZW50LnRhcmdldCwgZG93bnNoaWZ0RWxlbWVudFJlZnMubWFwKGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgcmV0dXJuIHJlZi5jdXJyZW50O1xuICAgICAgfSksIGVudmlyb25tZW50KSkge1xuICAgICAgICBoYW5kbGVCbHVyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgb25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KCkge1xuICAgICAgbW91c2VBbmRUb3VjaFRyYWNrZXJzUmVmLmN1cnJlbnQuaXNUb3VjaE1vdmUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHZhciBvblRvdWNoTW92ZSA9IGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKCkge1xuICAgICAgbW91c2VBbmRUb3VjaFRyYWNrZXJzUmVmLmN1cnJlbnQuaXNUb3VjaE1vdmUgPSB0cnVlO1xuICAgIH07XG4gICAgdmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gICAgICBpZiAoaXNPcGVuICYmICFtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYuY3VycmVudC5pc1RvdWNoTW92ZSAmJiAhdGFyZ2V0V2l0aGluRG93bnNoaWZ0KGV2ZW50LnRhcmdldCwgZG93bnNoaWZ0RWxlbWVudFJlZnMubWFwKGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgcmV0dXJuIHJlZi5jdXJyZW50O1xuICAgICAgfSksIGVudmlyb25tZW50LCBmYWxzZSkpIHtcbiAgICAgICAgaGFuZGxlQmx1cigpO1xuICAgICAgfVxuICAgIH07XG4gICAgZW52aXJvbm1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24pO1xuICAgIGVudmlyb25tZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgIGVudmlyb25tZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xuICAgIGVudmlyb25tZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICBlbnZpcm9ubWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICBlbnZpcm9ubWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gICAgICBlbnZpcm9ubWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICAgIGVudmlyb25tZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xuICAgICAgZW52aXJvbm1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xuICAgICAgZW52aXJvbm1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2lzT3BlbiwgZW52aXJvbm1lbnRdKTtcbiAgcmV0dXJuIG1vdXNlQW5kVG91Y2hUcmFja2Vyc1JlZjtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG52YXIgdXNlR2V0dGVyUHJvcHNDYWxsZWRDaGVja2VyID0gZnVuY3Rpb24gdXNlR2V0dGVyUHJvcHNDYWxsZWRDaGVja2VyKCkge1xuICByZXR1cm4gbm9vcDtcbn07XG4vKipcbiAqIEN1c3RvbSBob29rIHRoYXQgY2hlY2tzIGlmIGdldHRlciBwcm9wcyBhcmUgY2FsbGVkIGNvcnJlY3RseS5cbiAqXG4gKiBAcGFyYW0gIHsuLi5hbnl9IHByb3BLZXlzIEdldHRlciBwcm9wIG5hbWVzIHRvIGJlIGhhbmRsZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFNldHRlciBmdW5jdGlvbiBjYWxsZWQgaW5zaWRlIGdldHRlciBwcm9wcyB0byBzZXQgY2FsbCBpbmZvcm1hdGlvbi5cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHVzZUdldHRlclByb3BzQ2FsbGVkQ2hlY2tlciA9IGZ1bmN0aW9uIHVzZUdldHRlclByb3BzQ2FsbGVkQ2hlY2tlcigpIHtcbiAgICB2YXIgaXNJbml0aWFsTW91bnRSZWYgPSB1c2VSZWYodHJ1ZSk7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BLZXlzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcHJvcEtleXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHZhciBnZXR0ZXJQcm9wc0NhbGxlZFJlZiA9IHVzZVJlZihwcm9wS2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcHJvcEtleSkge1xuICAgICAgYWNjW3Byb3BLZXldID0ge307XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIE9iamVjdC5rZXlzKGdldHRlclByb3BzQ2FsbGVkUmVmLmN1cnJlbnQpLmZvckVhY2goZnVuY3Rpb24gKHByb3BLZXkpIHtcbiAgICAgICAgdmFyIHByb3BDYWxsSW5mbyA9IGdldHRlclByb3BzQ2FsbGVkUmVmLmN1cnJlbnRbcHJvcEtleV07XG4gICAgICAgIGlmIChpc0luaXRpYWxNb3VudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhwcm9wQ2FsbEluZm8pLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkb3duc2hpZnQ6IFlvdSBmb3Jnb3QgdG8gY2FsbCB0aGUgXCIgKyBwcm9wS2V5ICsgXCIgZ2V0dGVyIGZ1bmN0aW9uIG9uIHlvdXIgY29tcG9uZW50IC8gZWxlbWVudC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzdXBwcmVzc1JlZkVycm9yID0gcHJvcENhbGxJbmZvLnN1cHByZXNzUmVmRXJyb3IsXG4gICAgICAgICAgcmVmS2V5ID0gcHJvcENhbGxJbmZvLnJlZktleSxcbiAgICAgICAgICBlbGVtZW50UmVmID0gcHJvcENhbGxJbmZvLmVsZW1lbnRSZWY7XG4gICAgICAgIGlmICgoIWVsZW1lbnRSZWYgfHwgIWVsZW1lbnRSZWYuY3VycmVudCkgJiYgIXN1cHByZXNzUmVmRXJyb3IpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkb3duc2hpZnQ6IFRoZSByZWYgcHJvcCBcXFwiXCIgKyByZWZLZXkgKyBcIlxcXCIgZnJvbSBcIiArIHByb3BLZXkgKyBcIiB3YXMgbm90IGFwcGxpZWQgY29ycmVjdGx5IG9uIHlvdXIgZWxlbWVudC5cIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaXNJbml0aWFsTW91bnRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHZhciBzZXRHZXR0ZXJQcm9wQ2FsbEluZm8gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcEtleSwgc3VwcHJlc3NSZWZFcnJvciwgcmVmS2V5LCBlbGVtZW50UmVmKSB7XG4gICAgICBnZXR0ZXJQcm9wc0NhbGxlZFJlZi5jdXJyZW50W3Byb3BLZXldID0ge1xuICAgICAgICBzdXBwcmVzc1JlZkVycm9yOiBzdXBwcmVzc1JlZkVycm9yLFxuICAgICAgICByZWZLZXk6IHJlZktleSxcbiAgICAgICAgZWxlbWVudFJlZjogZWxlbWVudFJlZlxuICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHNldEdldHRlclByb3BDYWxsSW5mbztcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUExMXlNZXNzYWdlU2V0dGVyKGdldEExMXlNZXNzYWdlLCBkZXBlbmRlbmN5QXJyYXksIF9yZWYzKSB7XG4gIHZhciBpc0luaXRpYWxNb3VudCA9IF9yZWYzLmlzSW5pdGlhbE1vdW50LFxuICAgIGhpZ2hsaWdodGVkSW5kZXggPSBfcmVmMy5oaWdobGlnaHRlZEluZGV4LFxuICAgIGl0ZW1zID0gX3JlZjMuaXRlbXMsXG4gICAgZW52aXJvbm1lbnQgPSBfcmVmMy5lbnZpcm9ubWVudCxcbiAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIF9leGNsdWRlZCQzKTtcbiAgLy8gU2V0cyBhMTF5IHN0YXR1cyBtZXNzYWdlIG9uIGNoYW5nZXMgaW4gc3RhdGUuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzSW5pdGlhbE1vdW50IHx8IGZhbHNlIHx8ICEoZW52aXJvbm1lbnQgIT0gbnVsbCAmJiBlbnZpcm9ubWVudC5kb2N1bWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlQTExeVN0YXR1cyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0QTExeU1lc3NhZ2UoX2V4dGVuZHMoe1xuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBoaWdobGlnaHRlZEluZGV4LFxuICAgICAgICBoaWdobGlnaHRlZEl0ZW06IGl0ZW1zW2hpZ2hsaWdodGVkSW5kZXhdLFxuICAgICAgICByZXN1bHRDb3VudDogaXRlbXMubGVuZ3RoXG4gICAgICB9LCByZXN0KSk7XG4gICAgfSwgZW52aXJvbm1lbnQuZG9jdW1lbnQpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgZGVwZW5kZW5jeUFycmF5KTtcbn1cbmZ1bmN0aW9uIHVzZVNjcm9sbEludG9WaWV3KF9yZWY0KSB7XG4gIHZhciBoaWdobGlnaHRlZEluZGV4ID0gX3JlZjQuaGlnaGxpZ2h0ZWRJbmRleCxcbiAgICBpc09wZW4gPSBfcmVmNC5pc09wZW4sXG4gICAgaXRlbVJlZnMgPSBfcmVmNC5pdGVtUmVmcyxcbiAgICBnZXRJdGVtTm9kZUZyb21JbmRleCA9IF9yZWY0LmdldEl0ZW1Ob2RlRnJvbUluZGV4LFxuICAgIG1lbnVFbGVtZW50ID0gX3JlZjQubWVudUVsZW1lbnQsXG4gICAgc2Nyb2xsSW50b1ZpZXdQcm9wID0gX3JlZjQuc2Nyb2xsSW50b1ZpZXc7XG4gIC8vIHVzZWQgbm90IHRvIHNjcm9sbCBvbiBoaWdobGlnaHQgYnkgbW91c2UuXG4gIHZhciBzaG91bGRTY3JvbGxSZWYgPSB1c2VSZWYodHJ1ZSk7XG4gIC8vIFNjcm9sbCBvbiBoaWdobGlnaHRlZCBpdGVtIGlmIGNoYW5nZSBjb21lcyBmcm9tIGtleWJvYXJkLlxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaGlnaGxpZ2h0ZWRJbmRleCA8IDAgfHwgIWlzT3BlbiB8fCAhT2JqZWN0LmtleXMoaXRlbVJlZnMuY3VycmVudCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaG91bGRTY3JvbGxSZWYuY3VycmVudCA9PT0gZmFsc2UpIHtcbiAgICAgIHNob3VsZFNjcm9sbFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsSW50b1ZpZXdQcm9wKGdldEl0ZW1Ob2RlRnJvbUluZGV4KGhpZ2hsaWdodGVkSW5kZXgpLCBtZW51RWxlbWVudCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2hpZ2hsaWdodGVkSW5kZXhdKTtcbiAgcmV0dXJuIHNob3VsZFNjcm9sbFJlZjtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1tdXRhYmxlLWV4cG9ydHNcbnZhciB1c2VDb250cm9sUHJvcHNWYWxpZGF0b3IgPSBub29wO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHVzZUNvbnRyb2xQcm9wc1ZhbGlkYXRvciA9IGZ1bmN0aW9uIHVzZUNvbnRyb2xQcm9wc1ZhbGlkYXRvcihfcmVmNSkge1xuICAgIHZhciBpc0luaXRpYWxNb3VudCA9IF9yZWY1LmlzSW5pdGlhbE1vdW50LFxuICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcyxcbiAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGU7XG4gICAgLy8gdXNlZCBmb3IgY2hlY2tpbmcgd2hlbiBwcm9wcyBhcmUgbW92aW5nIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQuXG4gICAgdmFyIHByZXZQcm9wc1JlZiA9IHVzZVJlZihwcm9wcyk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0luaXRpYWxNb3VudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZUNvbnRyb2xsZWRVbmNoYW5nZWQoc3RhdGUsIHByZXZQcm9wc1JlZi5jdXJyZW50LCBwcm9wcyk7XG4gICAgICBwcmV2UHJvcHNSZWYuY3VycmVudCA9IHByb3BzO1xuICAgIH0sIFtzdGF0ZSwgcHJvcHMsIGlzSW5pdGlhbE1vdW50XSk7XG4gIH07XG59XG5cbi8qKlxuICogSGFuZGxlcyBzZWxlY3Rpb24gb24gRW50ZXIgLyBBbHQgKyBBcnJvd1VwLiBDbG9zZXMgdGhlIG1lbnUgYW5kIHJlc2V0cyB0aGUgaGlnaGxpZ2h0ZWQgaW5kZXgsIHVubGVzcyB0aGVyZSBpcyBhIGhpZ2hsaWdodGVkLlxuICogSW4gdGhhdCBjYXNlLCBzZWxlY3RzIHRoZSBpdGVtIGFuZCByZXNldHMgdG8gZGVmYXVsdHMgZm9yIG9wZW4gc3RhdGUgYW5kIGhpZ2hsaWdodGVkIGlkZXguXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgVGhlIHVzZUNvbWJvYm94IHByb3BzLlxuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hsaWdodGVkSW5kZXggVGhlIGluZGV4IGZyb20gdGhlIHN0YXRlLlxuICogQHBhcmFtIHtib29sZWFufSBpbnB1dFZhbHVlIEFsc28gcmV0dXJuIHRoZSBpbnB1dCB2YWx1ZSBmb3Igc3RhdGUuXG4gKiBAcmV0dXJucyBUaGUgY2hhbmdlcyBmb3IgdGhlIHN0YXRlLlxuICovXG5mdW5jdGlvbiBnZXRDaGFuZ2VzT25TZWxlY3Rpb24ocHJvcHMsIGhpZ2hsaWdodGVkSW5kZXgsIGlucHV0VmFsdWUpIHtcbiAgdmFyIF9wcm9wcyRpdGVtcztcbiAgaWYgKGlucHV0VmFsdWUgPT09IHZvaWQgMCkge1xuICAgIGlucHV0VmFsdWUgPSB0cnVlO1xuICB9XG4gIHZhciBzaG91bGRTZWxlY3QgPSAoKF9wcm9wcyRpdGVtcyA9IHByb3BzLml0ZW1zKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJGl0ZW1zLmxlbmd0aCkgJiYgaGlnaGxpZ2h0ZWRJbmRleCA+PSAwO1xuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGlzT3BlbjogZmFsc2UsXG4gICAgaGlnaGxpZ2h0ZWRJbmRleDogLTFcbiAgfSwgc2hvdWxkU2VsZWN0ICYmIF9leHRlbmRzKHtcbiAgICBzZWxlY3RlZEl0ZW06IHByb3BzLml0ZW1zW2hpZ2hsaWdodGVkSW5kZXhdLFxuICAgIGlzT3BlbjogZ2V0RGVmYXVsdFZhbHVlJDEocHJvcHMsICdpc09wZW4nKSxcbiAgICBoaWdobGlnaHRlZEluZGV4OiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgJ2hpZ2hsaWdodGVkSW5kZXgnKVxuICB9LCBpbnB1dFZhbHVlICYmIHtcbiAgICBpbnB1dFZhbHVlOiBwcm9wcy5pdGVtVG9TdHJpbmcocHJvcHMuaXRlbXNbaGlnaGxpZ2h0ZWRJbmRleF0pXG4gIH0pKTtcbn1cblxuLy8gU2hhcmVkIGJldHdlZW4gYWxsIGV4cG9ydHMuXG52YXIgY29tbW9uUHJvcFR5cGVzID0ge1xuICBlbnZpcm9ubWVudDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhZGRFdmVudExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZG9jdW1lbnQ6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjcmVhdGVFbGVtZW50OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgZ2V0RWxlbWVudEJ5SWQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBhY3RpdmVFbGVtZW50OiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsXG4gICAgICBib2R5OiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWRcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIE5vZGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgfSksXG4gIGl0ZW1Ub1N0cmluZzogUHJvcFR5cGVzLmZ1bmMsXG4gIHN0YXRlUmVkdWNlcjogUHJvcFR5cGVzLmZ1bmNcbn07XG5cbi8vIFNoYXJlZCBiZXR3ZWVuIHVzZVNlbGVjdCwgdXNlQ29tYm9ib3gsIERvd25zaGlmdC5cbnZhciBjb21tb25Ecm9wZG93blByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBjb21tb25Qcm9wVHlwZXMsIHtcbiAgZ2V0QTExeVN0YXR1c01lc3NhZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBoaWdobGlnaHRlZEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICBkZWZhdWx0SGlnaGxpZ2h0ZWRJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgaW5pdGlhbEhpZ2hsaWdodGVkSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGlzT3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIGRlZmF1bHRJc09wZW46IFByb3BUeXBlcy5ib29sLFxuICBpbml0aWFsSXNPcGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgc2VsZWN0ZWRJdGVtOiBQcm9wVHlwZXMuYW55LFxuICBpbml0aWFsU2VsZWN0ZWRJdGVtOiBQcm9wVHlwZXMuYW55LFxuICBkZWZhdWx0U2VsZWN0ZWRJdGVtOiBQcm9wVHlwZXMuYW55LFxuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgbGFiZWxJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgbWVudUlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBnZXRJdGVtSWQ6IFByb3BUeXBlcy5mdW5jLFxuICB0b2dnbGVCdXR0b25JZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgb25TZWxlY3RlZEl0ZW1DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvbkhpZ2hsaWdodGVkSW5kZXhDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvblN0YXRlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Jc09wZW5DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBzY3JvbGxJbnRvVmlldzogUHJvcFR5cGVzLmZ1bmNcbn0pO1xuXG5mdW5jdGlvbiBkb3duc2hpZnRDb21tb25SZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHN0YXRlQ2hhbmdlVHlwZXMpIHtcbiAgdmFyIHR5cGUgPSBhY3Rpb24udHlwZSxcbiAgICBwcm9wcyA9IGFjdGlvbi5wcm9wcztcbiAgdmFyIGNoYW5nZXM7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2Ugc3RhdGVDaGFuZ2VUeXBlcy5JdGVtTW91c2VNb3ZlOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogYWN0aW9uLmRpc2FibGVkID8gLTEgOiBhY3Rpb24uaW5kZXhcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIHN0YXRlQ2hhbmdlVHlwZXMuTWVudU1vdXNlTGVhdmU6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiAtMVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2Ugc3RhdGVDaGFuZ2VUeXBlcy5Ub2dnbGVCdXR0b25DbGljazpcbiAgICBjYXNlIHN0YXRlQ2hhbmdlVHlwZXMuRnVuY3Rpb25Ub2dnbGVNZW51OlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaXNPcGVuOiAhc3RhdGUuaXNPcGVuLFxuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBzdGF0ZS5pc09wZW4gPyAtMSA6IGdldEhpZ2hsaWdodGVkSW5kZXhPbk9wZW4ocHJvcHMsIHN0YXRlLCAwKVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2Ugc3RhdGVDaGFuZ2VUeXBlcy5GdW5jdGlvbk9wZW5NZW51OlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaXNPcGVuOiB0cnVlLFxuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuKHByb3BzLCBzdGF0ZSwgMClcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIHN0YXRlQ2hhbmdlVHlwZXMuRnVuY3Rpb25DbG9zZU1lbnU6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBpc09wZW46IGZhbHNlXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBzdGF0ZUNoYW5nZVR5cGVzLkZ1bmN0aW9uU2V0SGlnaGxpZ2h0ZWRJbmRleDpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGFjdGlvbi5oaWdobGlnaHRlZEluZGV4XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBzdGF0ZUNoYW5nZVR5cGVzLkZ1bmN0aW9uU2V0SW5wdXRWYWx1ZTpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGlucHV0VmFsdWU6IGFjdGlvbi5pbnB1dFZhbHVlXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBzdGF0ZUNoYW5nZVR5cGVzLkZ1bmN0aW9uUmVzZXQ6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgJ2hpZ2hsaWdodGVkSW5kZXgnKSxcbiAgICAgICAgaXNPcGVuOiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgJ2lzT3BlbicpLFxuICAgICAgICBzZWxlY3RlZEl0ZW06IGdldERlZmF1bHRWYWx1ZSQxKHByb3BzLCAnc2VsZWN0ZWRJdGVtJyksXG4gICAgICAgIGlucHV0VmFsdWU6IGdldERlZmF1bHRWYWx1ZSQxKHByb3BzLCAnaW5wdXRWYWx1ZScpXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBjYWxsZWQgd2l0aG91dCBwcm9wZXIgYWN0aW9uIHR5cGUuJyk7XG4gIH1cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwgY2hhbmdlcyk7XG59XG4vKiBlc2xpbnQtZW5hYmxlIGNvbXBsZXhpdHkgKi9cblxuZnVuY3Rpb24gZ2V0SXRlbUluZGV4QnlDaGFyYWN0ZXJLZXkoX2EpIHtcbiAgICB2YXIga2V5c1NvRmFyID0gX2Eua2V5c1NvRmFyLCBoaWdobGlnaHRlZEluZGV4ID0gX2EuaGlnaGxpZ2h0ZWRJbmRleCwgaXRlbXMgPSBfYS5pdGVtcywgaXRlbVRvU3RyaW5nID0gX2EuaXRlbVRvU3RyaW5nLCBpc0l0ZW1EaXNhYmxlZCA9IF9hLmlzSXRlbURpc2FibGVkO1xuICAgIHZhciBsb3dlckNhc2VkS2V5c1NvRmFyID0ga2V5c1NvRmFyLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBzZWFyY2ggcXVlcnkgaW4gcHJvZ3Jlc3MsIHdlIGFsc28gY29uc2lkZXIgdGhlIGN1cnJlbnQgaGlnaGxpZ2h0ZWQgaXRlbS5cbiAgICAgICAgdmFyIG9mZnNldEluZGV4ID0gKGluZGV4ICsgaGlnaGxpZ2h0ZWRJbmRleCArIChrZXlzU29GYXIubGVuZ3RoIDwgMiA/IDEgOiAwKSkgJSBpdGVtcy5sZW5ndGg7XG4gICAgICAgIHZhciBpdGVtID0gaXRlbXNbb2Zmc2V0SW5kZXhdO1xuICAgICAgICBpZiAoaXRlbSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBpdGVtVG9TdHJpbmcoaXRlbSkudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGxvd2VyQ2FzZWRLZXlzU29GYXIpICYmXG4gICAgICAgICAgICAhaXNJdGVtRGlzYWJsZWQoaXRlbSwgb2Zmc2V0SW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2Zmc2V0SW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhpZ2hsaWdodGVkSW5kZXg7XG59XG52YXIgcHJvcFR5cGVzJDIgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29tbW9uRHJvcGRvd25Qcm9wVHlwZXMpLCB7IGl0ZW1zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCwgaXNJdGVtRGlzYWJsZWQ6IFByb3BUeXBlcy5mdW5jLCBnZXRBMTF5U2VsZWN0aW9uTWVzc2FnZTogUHJvcFR5cGVzLmZ1bmMgfSk7XG4vKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIHN0YXR1cyBtZXNzYWdlLiBPbmx5IGFkZGVkIHdoZW4gbWVudSBpcyBvcGVuLlxuICogV2lsbCBzcGVjaWZ0IGlmIHRoZXJlIGFyZSByZXN1bHRzIGluIHRoZSBsaXN0LCBhbmQgaWYgc28sIGhvdyBtYW55LFxuICogYW5kIHdoYXQga2V5cyBhcmUgcmVsZXZhbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIHRoZSBkb3duc2hpZnQgc3RhdGUgYW5kIG90aGVyIHJlbGV2YW50IHByb3BlcnRpZXNcbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGExMXkgc3RhdHVzIG1lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gZ2V0QTExeVN0YXR1c01lc3NhZ2UoX2EpIHtcbiAgICB2YXIgaXNPcGVuID0gX2EuaXNPcGVuLCByZXN1bHRDb3VudCA9IF9hLnJlc3VsdENvdW50LCBwcmV2aW91c1Jlc3VsdENvdW50ID0gX2EucHJldmlvdXNSZXN1bHRDb3VudDtcbiAgICBpZiAoIWlzT3Blbikge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICghcmVzdWx0Q291bnQpIHtcbiAgICAgICAgcmV0dXJuICdObyByZXN1bHRzIGFyZSBhdmFpbGFibGUuJztcbiAgICB9XG4gICAgaWYgKHJlc3VsdENvdW50ICE9PSBwcmV2aW91c1Jlc3VsdENvdW50KSB7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChyZXN1bHRDb3VudCwgXCIgcmVzdWx0XCIpLmNvbmNhdChyZXN1bHRDb3VudCA9PT0gMSA/ICcgaXMnIDogJ3MgYXJlJywgXCIgYXZhaWxhYmxlLCB1c2UgdXAgYW5kIGRvd24gYXJyb3cga2V5cyB0byBuYXZpZ2F0ZS4gUHJlc3MgRW50ZXIgb3IgU3BhY2UgQmFyIGtleXMgdG8gc2VsZWN0LlwiKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxudmFyIGRlZmF1bHRQcm9wcyQyID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGRlZmF1bHRQcm9wcyQzKSwgeyBnZXRBMTF5U3RhdHVzTWVzc2FnZTogZ2V0QTExeVN0YXR1c01lc3NhZ2UsIGlzSXRlbURpc2FibGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IH0pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1tdXRhYmxlLWV4cG9ydHNcbnZhciB2YWxpZGF0ZVByb3BUeXBlcyQyID0gbm9vcDtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhbGlkYXRlUHJvcFR5cGVzJDIgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGVyKSB7XG4gICAgICAgIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMkMiwgb3B0aW9ucywgJ3Byb3AnLCBjYWxsZXIubmFtZSk7XG4gICAgfTtcbn1cblxudmFyIFRvZ2dsZUJ1dHRvbkNsaWNrJDEgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fY2xpY2tfXycgOiAwO1xudmFyIFRvZ2dsZUJ1dHRvbktleURvd25BcnJvd0Rvd24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fa2V5ZG93bl9hcnJvd19kb3duX18nIDogMTtcbnZhciBUb2dnbGVCdXR0b25LZXlEb3duQXJyb3dVcCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX3RvZ2dsZWJ1dHRvbl9rZXlkb3duX2Fycm93X3VwX18nIDogMjtcbnZhciBUb2dnbGVCdXR0b25LZXlEb3duQ2hhcmFjdGVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fdG9nZ2xlYnV0dG9uX2tleWRvd25fY2hhcmFjdGVyX18nIDogMztcbnZhciBUb2dnbGVCdXR0b25LZXlEb3duRXNjYXBlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fdG9nZ2xlYnV0dG9uX2tleWRvd25fZXNjYXBlX18nIDogNDtcbnZhciBUb2dnbGVCdXR0b25LZXlEb3duSG9tZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX3RvZ2dsZWJ1dHRvbl9rZXlkb3duX2hvbWVfXycgOiA1O1xudmFyIFRvZ2dsZUJ1dHRvbktleURvd25FbmQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fa2V5ZG93bl9lbmRfXycgOiA2O1xudmFyIFRvZ2dsZUJ1dHRvbktleURvd25FbnRlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX3RvZ2dsZWJ1dHRvbl9rZXlkb3duX2VudGVyX18nIDogNztcbnZhciBUb2dnbGVCdXR0b25LZXlEb3duU3BhY2VCdXR0b24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fa2V5ZG93bl9zcGFjZV9idXR0b25fXycgOiA4O1xudmFyIFRvZ2dsZUJ1dHRvbktleURvd25QYWdlVXAgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fa2V5ZG93bl9wYWdlX3VwX18nIDogOTtcbnZhciBUb2dnbGVCdXR0b25LZXlEb3duUGFnZURvd24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fa2V5ZG93bl9wYWdlX2Rvd25fXycgOiAxMDtcbnZhciBUb2dnbGVCdXR0b25CbHVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fdG9nZ2xlYnV0dG9uX2JsdXJfXycgOiAxMTtcbnZhciBNZW51TW91c2VMZWF2ZSQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fbWVudV9tb3VzZV9sZWF2ZV9fJyA6IDEyO1xudmFyIEl0ZW1Nb3VzZU1vdmUkMSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2l0ZW1fbW91c2VfbW92ZV9fJyA6IDEzO1xudmFyIEl0ZW1DbGljayQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19faXRlbV9jbGlja19fJyA6IDE0O1xudmFyIEZ1bmN0aW9uVG9nZ2xlTWVudSQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fdG9nZ2xlX21lbnVfXycgOiAxNTtcbnZhciBGdW5jdGlvbk9wZW5NZW51JDEgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl9vcGVuX21lbnVfXycgOiAxNjtcbnZhciBGdW5jdGlvbkNsb3NlTWVudSQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fY2xvc2VfbWVudV9fJyA6IDE3O1xudmFyIEZ1bmN0aW9uU2V0SGlnaGxpZ2h0ZWRJbmRleCQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fc2V0X2hpZ2hsaWdodGVkX2luZGV4X18nIDogMTg7XG52YXIgRnVuY3Rpb25TZWxlY3RJdGVtJDEgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl9zZWxlY3RfaXRlbV9fJyA6IDE5O1xudmFyIEZ1bmN0aW9uU2V0SW5wdXRWYWx1ZSQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fc2V0X2lucHV0X3ZhbHVlX18nIDogMjA7XG52YXIgRnVuY3Rpb25SZXNldCQyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fcmVzZXRfXycgOiAyMTtcblxudmFyIHN0YXRlQ2hhbmdlVHlwZXMkMiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBUb2dnbGVCdXR0b25DbGljazogVG9nZ2xlQnV0dG9uQ2xpY2skMSxcbiAgVG9nZ2xlQnV0dG9uS2V5RG93bkFycm93RG93bjogVG9nZ2xlQnV0dG9uS2V5RG93bkFycm93RG93bixcbiAgVG9nZ2xlQnV0dG9uS2V5RG93bkFycm93VXA6IFRvZ2dsZUJ1dHRvbktleURvd25BcnJvd1VwLFxuICBUb2dnbGVCdXR0b25LZXlEb3duQ2hhcmFjdGVyOiBUb2dnbGVCdXR0b25LZXlEb3duQ2hhcmFjdGVyLFxuICBUb2dnbGVCdXR0b25LZXlEb3duRXNjYXBlOiBUb2dnbGVCdXR0b25LZXlEb3duRXNjYXBlLFxuICBUb2dnbGVCdXR0b25LZXlEb3duSG9tZTogVG9nZ2xlQnV0dG9uS2V5RG93bkhvbWUsXG4gIFRvZ2dsZUJ1dHRvbktleURvd25FbmQ6IFRvZ2dsZUJ1dHRvbktleURvd25FbmQsXG4gIFRvZ2dsZUJ1dHRvbktleURvd25FbnRlcjogVG9nZ2xlQnV0dG9uS2V5RG93bkVudGVyLFxuICBUb2dnbGVCdXR0b25LZXlEb3duU3BhY2VCdXR0b246IFRvZ2dsZUJ1dHRvbktleURvd25TcGFjZUJ1dHRvbixcbiAgVG9nZ2xlQnV0dG9uS2V5RG93blBhZ2VVcDogVG9nZ2xlQnV0dG9uS2V5RG93blBhZ2VVcCxcbiAgVG9nZ2xlQnV0dG9uS2V5RG93blBhZ2VEb3duOiBUb2dnbGVCdXR0b25LZXlEb3duUGFnZURvd24sXG4gIFRvZ2dsZUJ1dHRvbkJsdXI6IFRvZ2dsZUJ1dHRvbkJsdXIsXG4gIE1lbnVNb3VzZUxlYXZlOiBNZW51TW91c2VMZWF2ZSQxLFxuICBJdGVtTW91c2VNb3ZlOiBJdGVtTW91c2VNb3ZlJDEsXG4gIEl0ZW1DbGljazogSXRlbUNsaWNrJDEsXG4gIEZ1bmN0aW9uVG9nZ2xlTWVudTogRnVuY3Rpb25Ub2dnbGVNZW51JDEsXG4gIEZ1bmN0aW9uT3Blbk1lbnU6IEZ1bmN0aW9uT3Blbk1lbnUkMSxcbiAgRnVuY3Rpb25DbG9zZU1lbnU6IEZ1bmN0aW9uQ2xvc2VNZW51JDEsXG4gIEZ1bmN0aW9uU2V0SGlnaGxpZ2h0ZWRJbmRleDogRnVuY3Rpb25TZXRIaWdobGlnaHRlZEluZGV4JDEsXG4gIEZ1bmN0aW9uU2VsZWN0SXRlbTogRnVuY3Rpb25TZWxlY3RJdGVtJDEsXG4gIEZ1bmN0aW9uU2V0SW5wdXRWYWx1ZTogRnVuY3Rpb25TZXRJbnB1dFZhbHVlJDEsXG4gIEZ1bmN0aW9uUmVzZXQ6IEZ1bmN0aW9uUmVzZXQkMlxufSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIGNvbXBsZXhpdHkgKi9cbmZ1bmN0aW9uIGRvd25zaGlmdFNlbGVjdFJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgX3Byb3BzJGl0ZW1zO1xuICB2YXIgdHlwZSA9IGFjdGlvbi50eXBlLFxuICAgIHByb3BzID0gYWN0aW9uLnByb3BzLFxuICAgIGFsdEtleSA9IGFjdGlvbi5hbHRLZXk7XG4gIHZhciBjaGFuZ2VzO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIEl0ZW1DbGljayQxOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaXNPcGVuOiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgJ2lzT3BlbicpLFxuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgJ2hpZ2hsaWdodGVkSW5kZXgnKSxcbiAgICAgICAgc2VsZWN0ZWRJdGVtOiBwcm9wcy5pdGVtc1thY3Rpb24uaW5kZXhdXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUb2dnbGVCdXR0b25LZXlEb3duQ2hhcmFjdGVyOlxuICAgICAge1xuICAgICAgICB2YXIgbG93ZXJjYXNlZEtleSA9IGFjdGlvbi5rZXk7XG4gICAgICAgIHZhciBpbnB1dFZhbHVlID0gXCJcIiArIHN0YXRlLmlucHV0VmFsdWUgKyBsb3dlcmNhc2VkS2V5O1xuICAgICAgICB2YXIgcHJldkhpZ2hsaWdodGVkSW5kZXggPSAhc3RhdGUuaXNPcGVuICYmIHN0YXRlLnNlbGVjdGVkSXRlbSA/IHByb3BzLml0ZW1zLmluZGV4T2Yoc3RhdGUuc2VsZWN0ZWRJdGVtKSA6IHN0YXRlLmhpZ2hsaWdodGVkSW5kZXg7XG4gICAgICAgIHZhciBoaWdobGlnaHRlZEluZGV4ID0gZ2V0SXRlbUluZGV4QnlDaGFyYWN0ZXJLZXkoe1xuICAgICAgICAgIGtleXNTb0ZhcjogaW5wdXRWYWx1ZSxcbiAgICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBwcmV2SGlnaGxpZ2h0ZWRJbmRleCxcbiAgICAgICAgICBpdGVtczogcHJvcHMuaXRlbXMsXG4gICAgICAgICAgaXRlbVRvU3RyaW5nOiBwcm9wcy5pdGVtVG9TdHJpbmcsXG4gICAgICAgICAgaXNJdGVtRGlzYWJsZWQ6IHByb3BzLmlzSXRlbURpc2FibGVkXG4gICAgICAgIH0pO1xuICAgICAgICBjaGFuZ2VzID0ge1xuICAgICAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogaGlnaGxpZ2h0ZWRJbmRleCxcbiAgICAgICAgICBpc09wZW46IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVG9nZ2xlQnV0dG9uS2V5RG93bkFycm93RG93bjpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9oaWdobGlnaHRlZEluZGV4ID0gc3RhdGUuaXNPcGVuID8gZ2V0SGlnaGxpZ2h0ZWRJbmRleChzdGF0ZS5oaWdobGlnaHRlZEluZGV4LCAxLCBwcm9wcy5pdGVtcywgcHJvcHMuaXNJdGVtRGlzYWJsZWQpIDogYWx0S2V5ICYmIHN0YXRlLnNlbGVjdGVkSXRlbSA9PSBudWxsID8gLTEgOiBnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuKHByb3BzLCBzdGF0ZSwgMSk7XG4gICAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogX2hpZ2hsaWdodGVkSW5kZXgsXG4gICAgICAgICAgaXNPcGVuOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFRvZ2dsZUJ1dHRvbktleURvd25BcnJvd1VwOlxuICAgICAgaWYgKHN0YXRlLmlzT3BlbiAmJiBhbHRLZXkpIHtcbiAgICAgICAgY2hhbmdlcyA9IGdldENoYW5nZXNPblNlbGVjdGlvbihwcm9wcywgc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9oaWdobGlnaHRlZEluZGV4MiA9IHN0YXRlLmlzT3BlbiA/IGdldEhpZ2hsaWdodGVkSW5kZXgoc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCwgLTEsIHByb3BzLml0ZW1zLCBwcm9wcy5pc0l0ZW1EaXNhYmxlZCkgOiBnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuKHByb3BzLCBzdGF0ZSwgLTEpO1xuICAgICAgICBjaGFuZ2VzID0ge1xuICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IF9oaWdobGlnaHRlZEluZGV4MixcbiAgICAgICAgICBpc09wZW46IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIC8vIG9ubHkgdHJpZ2dlcmVkIHdoZW4gbWVudSBpcyBvcGVuLlxuICAgIGNhc2UgVG9nZ2xlQnV0dG9uS2V5RG93bkVudGVyOlxuICAgIGNhc2UgVG9nZ2xlQnV0dG9uS2V5RG93blNwYWNlQnV0dG9uOlxuICAgICAgY2hhbmdlcyA9IGdldENoYW5nZXNPblNlbGVjdGlvbihwcm9wcywgc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCwgZmFsc2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUb2dnbGVCdXR0b25LZXlEb3duSG9tZTpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGdldE5vbkRpc2FibGVkSW5kZXgoMCwgZmFsc2UsIHByb3BzLml0ZW1zLCBwcm9wcy5pc0l0ZW1EaXNhYmxlZCksXG4gICAgICAgIGlzT3BlbjogdHJ1ZVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVG9nZ2xlQnV0dG9uS2V5RG93bkVuZDpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGdldE5vbkRpc2FibGVkSW5kZXgocHJvcHMuaXRlbXMubGVuZ3RoIC0gMSwgdHJ1ZSwgcHJvcHMuaXRlbXMsIHByb3BzLmlzSXRlbURpc2FibGVkKSxcbiAgICAgICAgaXNPcGVuOiB0cnVlXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUb2dnbGVCdXR0b25LZXlEb3duUGFnZVVwOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogZ2V0SGlnaGxpZ2h0ZWRJbmRleChzdGF0ZS5oaWdobGlnaHRlZEluZGV4LCAtMTAsIHByb3BzLml0ZW1zLCBwcm9wcy5pc0l0ZW1EaXNhYmxlZClcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFRvZ2dsZUJ1dHRvbktleURvd25QYWdlRG93bjpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGdldEhpZ2hsaWdodGVkSW5kZXgoc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCwgMTAsIHByb3BzLml0ZW1zLCBwcm9wcy5pc0l0ZW1EaXNhYmxlZClcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFRvZ2dsZUJ1dHRvbktleURvd25Fc2NhcGU6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgICBoaWdobGlnaHRlZEluZGV4OiAtMVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVG9nZ2xlQnV0dG9uQmx1cjpcbiAgICAgIGNoYW5nZXMgPSBfZXh0ZW5kcyh7XG4gICAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IC0xXG4gICAgICB9LCBzdGF0ZS5oaWdobGlnaHRlZEluZGV4ID49IDAgJiYgKChfcHJvcHMkaXRlbXMgPSBwcm9wcy5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9wcm9wcyRpdGVtcy5sZW5ndGgpICYmIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtOiBwcm9wcy5pdGVtc1tzdGF0ZS5oaWdobGlnaHRlZEluZGV4XVxuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEZ1bmN0aW9uU2VsZWN0SXRlbSQxOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtOiBhY3Rpb24uc2VsZWN0ZWRJdGVtXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBkb3duc2hpZnRDb21tb25SZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHN0YXRlQ2hhbmdlVHlwZXMkMik7XG4gIH1cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwgY2hhbmdlcyk7XG59XG4vKiBlc2xpbnQtZW5hYmxlIGNvbXBsZXhpdHkgKi9cblxudmFyIF9leGNsdWRlZCQyID0gW1wib25Nb3VzZUxlYXZlXCIsIFwicmVmS2V5XCIsIFwicmVmXCJdLFxuICBfZXhjbHVkZWQyJDIgPSBbXCJvbkJsdXJcIiwgXCJvbkNsaWNrXCIsIFwib25QcmVzc1wiLCBcIm9uS2V5RG93blwiLCBcInJlZktleVwiLCBcInJlZlwiXSxcbiAgX2V4Y2x1ZGVkMyQxID0gW1wiaXRlbVwiLCBcImluZGV4XCIsIFwib25Nb3VzZU1vdmVcIiwgXCJvbkNsaWNrXCIsIFwib25Nb3VzZURvd25cIiwgXCJvblByZXNzXCIsIFwicmVmS2V5XCIsIFwiZGlzYWJsZWRcIiwgXCJyZWZcIl07XG51c2VTZWxlY3Quc3RhdGVDaGFuZ2VUeXBlcyA9IHN0YXRlQ2hhbmdlVHlwZXMkMjtcbmZ1bmN0aW9uIHVzZVNlbGVjdCh1c2VyUHJvcHMpIHtcbiAgaWYgKHVzZXJQcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgdXNlclByb3BzID0ge307XG4gIH1cbiAgdmFsaWRhdGVQcm9wVHlwZXMkMih1c2VyUHJvcHMsIHVzZVNlbGVjdCk7XG4gIC8vIFByb3BzIGRlZmF1bHRzIGFuZCBkZXN0cnVjdHVyaW5nLlxuICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdFByb3BzJDIsIHVzZXJQcm9wcyk7XG4gIHZhciBpdGVtcyA9IHByb3BzLml0ZW1zLFxuICAgIHNjcm9sbEludG9WaWV3ID0gcHJvcHMuc2Nyb2xsSW50b1ZpZXcsXG4gICAgZW52aXJvbm1lbnQgPSBwcm9wcy5lbnZpcm9ubWVudCxcbiAgICBpdGVtVG9TdHJpbmcgPSBwcm9wcy5pdGVtVG9TdHJpbmcsXG4gICAgZ2V0QTExeVNlbGVjdGlvbk1lc3NhZ2UgPSBwcm9wcy5nZXRBMTF5U2VsZWN0aW9uTWVzc2FnZSxcbiAgICBnZXRBMTF5U3RhdHVzTWVzc2FnZSA9IHByb3BzLmdldEExMXlTdGF0dXNNZXNzYWdlO1xuICAvLyBJbml0aWFsIHN0YXRlIGRlcGVuZGluZyBvbiBjb250cm9sbGVkIHByb3BzLlxuICB2YXIgX3VzZUNvbnRyb2xsZWRSZWR1Y2VyID0gdXNlQ29udHJvbGxlZFJlZHVjZXIkMShkb3duc2hpZnRTZWxlY3RSZWR1Y2VyLCBwcm9wcywgZ2V0SW5pdGlhbFN0YXRlJDIpLFxuICAgIHN0YXRlID0gX3VzZUNvbnRyb2xsZWRSZWR1Y2VyWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUNvbnRyb2xsZWRSZWR1Y2VyWzFdO1xuICB2YXIgaXNPcGVuID0gc3RhdGUuaXNPcGVuLFxuICAgIGhpZ2hsaWdodGVkSW5kZXggPSBzdGF0ZS5oaWdobGlnaHRlZEluZGV4LFxuICAgIHNlbGVjdGVkSXRlbSA9IHN0YXRlLnNlbGVjdGVkSXRlbSxcbiAgICBpbnB1dFZhbHVlID0gc3RhdGUuaW5wdXRWYWx1ZTtcblxuICAvLyBFbGVtZW50IGVmcy5cbiAgdmFyIHRvZ2dsZUJ1dHRvblJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIG1lbnVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBpdGVtUmVmcyA9IHVzZVJlZih7fSk7XG4gIC8vIHVzZWQgdG8ga2VlcCB0aGUgaW5wdXRWYWx1ZSBjbGVhclRpbWVvdXQgb2JqZWN0IGJldHdlZW4gcmVuZGVycy5cbiAgdmFyIGNsZWFyVGltZW91dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgLy8gcHJldmVudCBpZCByZS1nZW5lcmF0aW9uIGJldHdlZW4gcmVuZGVycy5cbiAgdmFyIGVsZW1lbnRJZHMgPSB1c2VFbGVtZW50SWRzKHByb3BzKTtcbiAgLy8gdXNlZCB0byBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIGhhZCBvbiBwcmV2aW91cyBjeWNsZS5cbiAgdmFyIHByZXZpb3VzUmVzdWx0Q291bnRSZWYgPSB1c2VSZWYoKTtcbiAgdmFyIGlzSW5pdGlhbE1vdW50UmVmID0gdXNlUmVmKHRydWUpO1xuICAvLyB1dGlsaXR5IGNhbGxiYWNrIHRvIGdldCBpdGVtIGVsZW1lbnQuXG4gIHZhciBsYXRlc3QgPSB1c2VMYXRlc3RSZWYoe1xuICAgIHN0YXRlOiBzdGF0ZSxcbiAgICBwcm9wczogcHJvcHNcbiAgfSk7XG5cbiAgLy8gU29tZSB1dGlscy5cbiAgdmFyIGdldEl0ZW1Ob2RlRnJvbUluZGV4ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGl0ZW1SZWZzLmN1cnJlbnRbZWxlbWVudElkcy5nZXRJdGVtSWQoaW5kZXgpXTtcbiAgfSwgW2VsZW1lbnRJZHNdKTtcblxuICAvLyBFZmZlY3RzLlxuICAvLyBTZXRzIGExMXkgc3RhdHVzIG1lc3NhZ2Ugb24gY2hhbmdlcyBpbiBzdGF0ZS5cbiAgdXNlQTExeU1lc3NhZ2VTZXR0ZXIoZ2V0QTExeVN0YXR1c01lc3NhZ2UsIFtpc09wZW4sIGhpZ2hsaWdodGVkSW5kZXgsIGlucHV0VmFsdWUsIGl0ZW1zXSwgX2V4dGVuZHMoe1xuICAgIGlzSW5pdGlhbE1vdW50OiBpc0luaXRpYWxNb3VudFJlZi5jdXJyZW50LFxuICAgIHByZXZpb3VzUmVzdWx0Q291bnQ6IHByZXZpb3VzUmVzdWx0Q291bnRSZWYuY3VycmVudCxcbiAgICBpdGVtczogaXRlbXMsXG4gICAgZW52aXJvbm1lbnQ6IGVudmlyb25tZW50LFxuICAgIGl0ZW1Ub1N0cmluZzogaXRlbVRvU3RyaW5nXG4gIH0sIHN0YXRlKSk7XG4gIC8vIFNldHMgYTExeSBzdGF0dXMgbWVzc2FnZSBvbiBjaGFuZ2VzIGluIHNlbGVjdGVkSXRlbS5cbiAgdXNlQTExeU1lc3NhZ2VTZXR0ZXIoZ2V0QTExeVNlbGVjdGlvbk1lc3NhZ2UsIFtzZWxlY3RlZEl0ZW1dLCBfZXh0ZW5kcyh7XG4gICAgaXNJbml0aWFsTW91bnQ6IGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQsXG4gICAgcHJldmlvdXNSZXN1bHRDb3VudDogcHJldmlvdXNSZXN1bHRDb3VudFJlZi5jdXJyZW50LFxuICAgIGl0ZW1zOiBpdGVtcyxcbiAgICBlbnZpcm9ubWVudDogZW52aXJvbm1lbnQsXG4gICAgaXRlbVRvU3RyaW5nOiBpdGVtVG9TdHJpbmdcbiAgfSwgc3RhdGUpKTtcbiAgLy8gU2Nyb2xsIG9uIGhpZ2hsaWdodGVkIGl0ZW0gaWYgY2hhbmdlIGNvbWVzIGZyb20ga2V5Ym9hcmQuXG4gIHZhciBzaG91bGRTY3JvbGxSZWYgPSB1c2VTY3JvbGxJbnRvVmlldyh7XG4gICAgbWVudUVsZW1lbnQ6IG1lbnVSZWYuY3VycmVudCxcbiAgICBoaWdobGlnaHRlZEluZGV4OiBoaWdobGlnaHRlZEluZGV4LFxuICAgIGlzT3BlbjogaXNPcGVuLFxuICAgIGl0ZW1SZWZzOiBpdGVtUmVmcyxcbiAgICBzY3JvbGxJbnRvVmlldzogc2Nyb2xsSW50b1ZpZXcsXG4gICAgZ2V0SXRlbU5vZGVGcm9tSW5kZXg6IGdldEl0ZW1Ob2RlRnJvbUluZGV4XG4gIH0pO1xuXG4gIC8vIFNldHMgY2xlYW51cCBmb3IgdGhlIGtleXNTb0ZhciBjYWxsYmFjaywgZGVib3VuZGVkIGFmdGVyIDUwMG1zLlxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIGluaXQgdGhlIGNsZWFuIGZ1bmN0aW9uIGhlcmUgYXMgd2UgbmVlZCBhY2Nlc3MgdG8gZGlzcGF0Y2guXG4gICAgY2xlYXJUaW1lb3V0UmVmLmN1cnJlbnQgPSBkZWJvdW5jZShmdW5jdGlvbiAob3V0ZXJEaXNwYXRjaCkge1xuICAgICAgb3V0ZXJEaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uU2V0SW5wdXRWYWx1ZSQxLFxuICAgICAgICBpbnB1dFZhbHVlOiAnJ1xuICAgICAgfSk7XG4gICAgfSwgNTAwKTtcblxuICAgIC8vIENhbmNlbCBhbnkgcGVuZGluZyBkZWJvdW5jZWQgY2FsbHMgb24gbW91bnRcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0UmVmLmN1cnJlbnQuY2FuY2VsKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEludm9rZXMgdGhlIGtleXNTb0ZhciBjYWxsYmFjayBzZXQgdXAgYWJvdmUuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyVGltZW91dFJlZi5jdXJyZW50KGRpc3BhdGNoKTtcbiAgfSwgW2Rpc3BhdGNoLCBpbnB1dFZhbHVlXSk7XG4gIHVzZUNvbnRyb2xQcm9wc1ZhbGlkYXRvcih7XG4gICAgaXNJbml0aWFsTW91bnQ6IGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQsXG4gICAgcHJvcHM6IHByb3BzLFxuICAgIHN0YXRlOiBzdGF0ZVxuICB9KTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNJbml0aWFsTW91bnRSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcmV2aW91c1Jlc3VsdENvdW50UmVmLmN1cnJlbnQgPSBpdGVtcy5sZW5ndGg7XG4gIH0pO1xuICAvLyBGb2N1cyB0aGUgdG9nZ2xlIGJ1dHRvbiBvbiBmaXJzdCByZW5kZXIgaWYgcmVxdWlyZWQuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZvY3VzT25PcGVuID0gZ2V0SW5pdGlhbFZhbHVlJDEocHJvcHMsICdpc09wZW4nKTtcbiAgICBpZiAoZm9jdXNPbk9wZW4gJiYgdG9nZ2xlQnV0dG9uUmVmLmN1cnJlbnQpIHtcbiAgICAgIHRvZ2dsZUJ1dHRvblJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuICAvLyBBZGQgbW91c2UvdG91Y2ggZXZlbnRzIHRvIGRvY3VtZW50LlxuICB2YXIgbW91c2VBbmRUb3VjaFRyYWNrZXJzUmVmID0gdXNlTW91c2VBbmRUb3VjaFRyYWNrZXIoaXNPcGVuLCBbbWVudVJlZiwgdG9nZ2xlQnV0dG9uUmVmXSwgZW52aXJvbm1lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBUb2dnbGVCdXR0b25CbHVyXG4gICAgfSk7XG4gIH0pO1xuICB2YXIgc2V0R2V0dGVyUHJvcENhbGxJbmZvID0gdXNlR2V0dGVyUHJvcHNDYWxsZWRDaGVja2VyKCdnZXRNZW51UHJvcHMnLCAnZ2V0VG9nZ2xlQnV0dG9uUHJvcHMnKTtcbiAgLy8gTWFrZSBpbml0aWFsIHJlZiBmYWxzZS5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpc0luaXRpYWxNb3VudFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgLy8gUmVzZXQgaXRlbVJlZnMgb24gY2xvc2UuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpc09wZW4pIHtcbiAgICAgIGl0ZW1SZWZzLmN1cnJlbnQgPSB7fTtcbiAgICB9XG4gIH0sIFtpc09wZW5dKTtcblxuICAvLyBFdmVudCBoYW5kbGVyIGZ1bmN0aW9ucy5cbiAgdmFyIHRvZ2dsZUJ1dHRvbktleURvd25IYW5kbGVycyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBBcnJvd0Rvd246IGZ1bmN0aW9uIEFycm93RG93bihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogVG9nZ2xlQnV0dG9uS2V5RG93bkFycm93RG93bixcbiAgICAgICAgICBhbHRLZXk6IGV2ZW50LmFsdEtleVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBBcnJvd1VwOiBmdW5jdGlvbiBBcnJvd1VwKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBUb2dnbGVCdXR0b25LZXlEb3duQXJyb3dVcCxcbiAgICAgICAgICBhbHRLZXk6IGV2ZW50LmFsdEtleVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBIb21lOiBmdW5jdGlvbiBIb21lKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBUb2dnbGVCdXR0b25LZXlEb3duSG9tZVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBFbmQ6IGZ1bmN0aW9uIEVuZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogVG9nZ2xlQnV0dG9uS2V5RG93bkVuZFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBFc2NhcGU6IGZ1bmN0aW9uIEVzY2FwZSgpIHtcbiAgICAgICAgaWYgKGxhdGVzdC5jdXJyZW50LnN0YXRlLmlzT3Blbikge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFRvZ2dsZUJ1dHRvbktleURvd25Fc2NhcGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIEVudGVyOiBmdW5jdGlvbiBFbnRlcihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogbGF0ZXN0LmN1cnJlbnQuc3RhdGUuaXNPcGVuID8gVG9nZ2xlQnV0dG9uS2V5RG93bkVudGVyIDogVG9nZ2xlQnV0dG9uQ2xpY2skMVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBQYWdlVXA6IGZ1bmN0aW9uIFBhZ2VVcChldmVudCkge1xuICAgICAgICBpZiAobGF0ZXN0LmN1cnJlbnQuc3RhdGUuaXNPcGVuKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBUb2dnbGVCdXR0b25LZXlEb3duUGFnZVVwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBQYWdlRG93bjogZnVuY3Rpb24gUGFnZURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGxhdGVzdC5jdXJyZW50LnN0YXRlLmlzT3Blbikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogVG9nZ2xlQnV0dG9uS2V5RG93blBhZ2VEb3duXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnICc6IGZ1bmN0aW9uIF8oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGxhdGVzdC5jdXJyZW50LnN0YXRlO1xuICAgICAgICBpZiAoIWN1cnJlbnRTdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBUb2dnbGVCdXR0b25DbGljayQxXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U3RhdGUuaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFRvZ2dsZUJ1dHRvbktleURvd25DaGFyYWN0ZXIsXG4gICAgICAgICAgICBrZXk6ICcgJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFRvZ2dsZUJ1dHRvbktleURvd25TcGFjZUJ1dHRvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2Rpc3BhdGNoLCBsYXRlc3RdKTtcblxuICAvLyBBY3Rpb24gZnVuY3Rpb25zLlxuICB2YXIgdG9nZ2xlTWVudSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBGdW5jdGlvblRvZ2dsZU1lbnUkMVxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgdmFyIGNsb3NlTWVudSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBGdW5jdGlvbkNsb3NlTWVudSQxXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgb3Blbk1lbnUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25PcGVuTWVudSQxXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgc2V0SGlnaGxpZ2h0ZWRJbmRleCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdIaWdobGlnaHRlZEluZGV4KSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25TZXRIaWdobGlnaHRlZEluZGV4JDEsXG4gICAgICBoaWdobGlnaHRlZEluZGV4OiBuZXdIaWdobGlnaHRlZEluZGV4XG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgc2VsZWN0SXRlbSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdTZWxlY3RlZEl0ZW0pIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBGdW5jdGlvblNlbGVjdEl0ZW0kMSxcbiAgICAgIHNlbGVjdGVkSXRlbTogbmV3U2VsZWN0ZWRJdGVtXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgcmVzZXQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25SZXNldCQyXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgc2V0SW5wdXRWYWx1ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdJbnB1dFZhbHVlKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25TZXRJbnB1dFZhbHVlJDEsXG4gICAgICBpbnB1dFZhbHVlOiBuZXdJbnB1dFZhbHVlXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICAvLyBHZXR0ZXIgZnVuY3Rpb25zLlxuICB2YXIgZ2V0TGFiZWxQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChsYWJlbFByb3BzKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIGlkOiBlbGVtZW50SWRzLmxhYmVsSWQsXG4gICAgICBodG1sRm9yOiBlbGVtZW50SWRzLnRvZ2dsZUJ1dHRvbklkXG4gICAgfSwgbGFiZWxQcm9wcyk7XG4gIH0sIFtlbGVtZW50SWRzXSk7XG4gIHZhciBnZXRNZW51UHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoX3RlbXAsIF90ZW1wMikge1xuICAgIHZhciBfZXh0ZW5kczI7XG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIG9uTW91c2VMZWF2ZSA9IF9yZWYub25Nb3VzZUxlYXZlLFxuICAgICAgX3JlZiRyZWZLZXkgPSBfcmVmLnJlZktleSxcbiAgICAgIHJlZktleSA9IF9yZWYkcmVmS2V5ID09PSB2b2lkIDAgPyAncmVmJyA6IF9yZWYkcmVmS2V5LFxuICAgICAgcmVmID0gX3JlZi5yZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkJDIpO1xuICAgIHZhciBfcmVmMiA9IF90ZW1wMiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDIsXG4gICAgICBfcmVmMiRzdXBwcmVzc1JlZkVycm8gPSBfcmVmMi5zdXBwcmVzc1JlZkVycm9yLFxuICAgICAgc3VwcHJlc3NSZWZFcnJvciA9IF9yZWYyJHN1cHByZXNzUmVmRXJybyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiRzdXBwcmVzc1JlZkVycm87XG4gICAgdmFyIG1lbnVIYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gbWVudUhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IE1lbnVNb3VzZUxlYXZlJDFcbiAgICAgIH0pO1xuICAgIH07XG4gICAgc2V0R2V0dGVyUHJvcENhbGxJbmZvKCdnZXRNZW51UHJvcHMnLCBzdXBwcmVzc1JlZkVycm9yLCByZWZLZXksIG1lbnVSZWYpO1xuICAgIHJldHVybiBfZXh0ZW5kcygoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltyZWZLZXldID0gaGFuZGxlUmVmcyhyZWYsIGZ1bmN0aW9uIChtZW51Tm9kZSkge1xuICAgICAgbWVudVJlZi5jdXJyZW50ID0gbWVudU5vZGU7XG4gICAgfSksIF9leHRlbmRzMi5pZCA9IGVsZW1lbnRJZHMubWVudUlkLCBfZXh0ZW5kczIucm9sZSA9ICdsaXN0Ym94JywgX2V4dGVuZHMyWydhcmlhLWxhYmVsbGVkYnknXSA9IHJlc3QgJiYgcmVzdFsnYXJpYS1sYWJlbCddID8gdW5kZWZpbmVkIDogXCJcIiArIGVsZW1lbnRJZHMubGFiZWxJZCwgX2V4dGVuZHMyLm9uTW91c2VMZWF2ZSA9IGNhbGxBbGxFdmVudEhhbmRsZXJzKG9uTW91c2VMZWF2ZSwgbWVudUhhbmRsZU1vdXNlTGVhdmUpLCBfZXh0ZW5kczIpLCByZXN0KTtcbiAgfSwgW2Rpc3BhdGNoLCBzZXRHZXR0ZXJQcm9wQ2FsbEluZm8sIGVsZW1lbnRJZHNdKTtcbiAgdmFyIGdldFRvZ2dsZUJ1dHRvblByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKF90ZW1wMywgX3RlbXA0KSB7XG4gICAgdmFyIF9leHRlbmRzMztcbiAgICB2YXIgX3JlZjMgPSBfdGVtcDMgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAzLFxuICAgICAgb25CbHVyID0gX3JlZjMub25CbHVyLFxuICAgICAgb25DbGljayA9IF9yZWYzLm9uQ2xpY2s7XG4gICAgICBfcmVmMy5vblByZXNzO1xuICAgICAgdmFyIG9uS2V5RG93biA9IF9yZWYzLm9uS2V5RG93bixcbiAgICAgIF9yZWYzJHJlZktleSA9IF9yZWYzLnJlZktleSxcbiAgICAgIHJlZktleSA9IF9yZWYzJHJlZktleSA9PT0gdm9pZCAwID8gJ3JlZicgOiBfcmVmMyRyZWZLZXksXG4gICAgICByZWYgPSBfcmVmMy5yZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIF9leGNsdWRlZDIkMik7XG4gICAgdmFyIF9yZWY0ID0gX3RlbXA0ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNCxcbiAgICAgIF9yZWY0JHN1cHByZXNzUmVmRXJybyA9IF9yZWY0LnN1cHByZXNzUmVmRXJyb3IsXG4gICAgICBzdXBwcmVzc1JlZkVycm9yID0gX3JlZjQkc3VwcHJlc3NSZWZFcnJvID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY0JHN1cHByZXNzUmVmRXJybztcbiAgICB2YXIgbGF0ZXN0U3RhdGUgPSBsYXRlc3QuY3VycmVudC5zdGF0ZTtcbiAgICB2YXIgdG9nZ2xlQnV0dG9uSGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiB0b2dnbGVCdXR0b25IYW5kbGVDbGljaygpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogVG9nZ2xlQnV0dG9uQ2xpY2skMVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgdG9nZ2xlQnV0dG9uSGFuZGxlQmx1ciA9IGZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbkhhbmRsZUJsdXIoKSB7XG4gICAgICBpZiAobGF0ZXN0U3RhdGUuaXNPcGVuICYmICFtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYuY3VycmVudC5pc01vdXNlRG93bikge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogVG9nZ2xlQnV0dG9uQmx1clxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0b2dnbGVCdXR0b25IYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gdG9nZ2xlQnV0dG9uSGFuZGxlS2V5RG93bihldmVudCkge1xuICAgICAgdmFyIGtleSA9IG5vcm1hbGl6ZUFycm93S2V5KGV2ZW50KTtcbiAgICAgIGlmIChrZXkgJiYgdG9nZ2xlQnV0dG9uS2V5RG93bkhhbmRsZXJzW2tleV0pIHtcbiAgICAgICAgdG9nZ2xlQnV0dG9uS2V5RG93bkhhbmRsZXJzW2tleV0oZXZlbnQpO1xuICAgICAgfSBlbHNlIGlmIChpc0FjY2VwdGVkQ2hhcmFjdGVyS2V5KGtleSkpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IFRvZ2dsZUJ1dHRvbktleURvd25DaGFyYWN0ZXIsXG4gICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdG9nZ2xlUHJvcHMgPSBfZXh0ZW5kcygoX2V4dGVuZHMzID0ge30sIF9leHRlbmRzM1tyZWZLZXldID0gaGFuZGxlUmVmcyhyZWYsIGZ1bmN0aW9uICh0b2dnbGVCdXR0b25Ob2RlKSB7XG4gICAgICB0b2dnbGVCdXR0b25SZWYuY3VycmVudCA9IHRvZ2dsZUJ1dHRvbk5vZGU7XG4gICAgfSksIF9leHRlbmRzM1snYXJpYS1hY3RpdmVkZXNjZW5kYW50J10gPSBsYXRlc3RTdGF0ZS5pc09wZW4gJiYgbGF0ZXN0U3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCA+IC0xID8gZWxlbWVudElkcy5nZXRJdGVtSWQobGF0ZXN0U3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCkgOiAnJywgX2V4dGVuZHMzWydhcmlhLWNvbnRyb2xzJ10gPSBlbGVtZW50SWRzLm1lbnVJZCwgX2V4dGVuZHMzWydhcmlhLWV4cGFuZGVkJ10gPSBsYXRlc3QuY3VycmVudC5zdGF0ZS5pc09wZW4sIF9leHRlbmRzM1snYXJpYS1oYXNwb3B1cCddID0gJ2xpc3Rib3gnLCBfZXh0ZW5kczNbJ2FyaWEtbGFiZWxsZWRieSddID0gcmVzdCAmJiByZXN0WydhcmlhLWxhYmVsJ10gPyB1bmRlZmluZWQgOiBcIlwiICsgZWxlbWVudElkcy5sYWJlbElkLCBfZXh0ZW5kczMuaWQgPSBlbGVtZW50SWRzLnRvZ2dsZUJ1dHRvbklkLCBfZXh0ZW5kczMucm9sZSA9ICdjb21ib2JveCcsIF9leHRlbmRzMy50YWJJbmRleCA9IDAsIF9leHRlbmRzMy5vbkJsdXIgPSBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbkJsdXIsIHRvZ2dsZUJ1dHRvbkhhbmRsZUJsdXIpLCBfZXh0ZW5kczMpLCByZXN0KTtcbiAgICBpZiAoIXJlc3QuZGlzYWJsZWQpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAocmVhY3QtbmF0aXZlKSAqL1xuICAgICAge1xuICAgICAgICB0b2dnbGVQcm9wcy5vbkNsaWNrID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25DbGljaywgdG9nZ2xlQnV0dG9uSGFuZGxlQ2xpY2spO1xuICAgICAgICB0b2dnbGVQcm9wcy5vbktleURvd24gPSBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbktleURvd24sIHRvZ2dsZUJ1dHRvbkhhbmRsZUtleURvd24pO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRHZXR0ZXJQcm9wQ2FsbEluZm8oJ2dldFRvZ2dsZUJ1dHRvblByb3BzJywgc3VwcHJlc3NSZWZFcnJvciwgcmVmS2V5LCB0b2dnbGVCdXR0b25SZWYpO1xuICAgIHJldHVybiB0b2dnbGVQcm9wcztcbiAgfSwgW2xhdGVzdCwgZWxlbWVudElkcywgc2V0R2V0dGVyUHJvcENhbGxJbmZvLCBkaXNwYXRjaCwgbW91c2VBbmRUb3VjaFRyYWNrZXJzUmVmLCB0b2dnbGVCdXR0b25LZXlEb3duSGFuZGxlcnNdKTtcbiAgdmFyIGdldEl0ZW1Qcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfdGVtcDUpIHtcbiAgICB2YXIgX2V4dGVuZHM0O1xuICAgIHZhciBfcmVmNSA9IF90ZW1wNSA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDUsXG4gICAgICBpdGVtUHJvcCA9IF9yZWY1Lml0ZW0sXG4gICAgICBpbmRleFByb3AgPSBfcmVmNS5pbmRleCxcbiAgICAgIG9uTW91c2VNb3ZlID0gX3JlZjUub25Nb3VzZU1vdmUsXG4gICAgICBvbkNsaWNrID0gX3JlZjUub25DbGljayxcbiAgICAgIG9uTW91c2VEb3duID0gX3JlZjUub25Nb3VzZURvd247XG4gICAgICBfcmVmNS5vblByZXNzO1xuICAgICAgdmFyIF9yZWY1JHJlZktleSA9IF9yZWY1LnJlZktleSxcbiAgICAgIHJlZktleSA9IF9yZWY1JHJlZktleSA9PT0gdm9pZCAwID8gJ3JlZicgOiBfcmVmNSRyZWZLZXksXG4gICAgICBkaXNhYmxlZFByb3AgPSBfcmVmNS5kaXNhYmxlZCxcbiAgICAgIHJlZiA9IF9yZWY1LnJlZixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmNSwgX2V4Y2x1ZGVkMyQxKTtcbiAgICBpZiAoZGlzYWJsZWRQcm9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybignUGFzc2luZyBcImRpc2FibGVkXCIgYXMgYW4gYXJndW1lbnQgdG8gZ2V0SXRlbVByb3BzIGlzIG5vdCBzdXBwb3J0ZWQgYW55bW9yZS4gUGxlYXNlIHVzZSB0aGUgaXNJdGVtRGlzYWJsZWQgcHJvcCBmcm9tIHVzZVNlbGVjdC4nKTtcbiAgICB9XG4gICAgdmFyIF9sYXRlc3QkY3VycmVudCA9IGxhdGVzdC5jdXJyZW50LFxuICAgICAgbGF0ZXN0U3RhdGUgPSBfbGF0ZXN0JGN1cnJlbnQuc3RhdGUsXG4gICAgICBsYXRlc3RQcm9wcyA9IF9sYXRlc3QkY3VycmVudC5wcm9wcztcbiAgICB2YXIgX2dldEl0ZW1BbmRJbmRleCA9IGdldEl0ZW1BbmRJbmRleChpdGVtUHJvcCwgaW5kZXhQcm9wLCBsYXRlc3RQcm9wcy5pdGVtcywgJ1Bhc3MgZWl0aGVyIGl0ZW0gb3IgaW5kZXggdG8gZ2V0SXRlbVByb3BzIScpLFxuICAgICAgaXRlbSA9IF9nZXRJdGVtQW5kSW5kZXhbMF0sXG4gICAgICBpbmRleCA9IF9nZXRJdGVtQW5kSW5kZXhbMV07XG4gICAgdmFyIGRpc2FibGVkID0gbGF0ZXN0UHJvcHMuaXNJdGVtRGlzYWJsZWQoaXRlbSwgaW5kZXgpO1xuICAgIHZhciBpdGVtSGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gaXRlbUhhbmRsZU1vdXNlTW92ZSgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGF0ZXN0U3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG91bGRTY3JvbGxSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBJdGVtTW91c2VNb3ZlJDEsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBpdGVtSGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBpdGVtSGFuZGxlQ2xpY2soKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEl0ZW1DbGljayQxLFxuICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGl0ZW1IYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiBpdGVtSGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTsgLy8ga2VlcCBmb2N1cyBvbiB0aGUgdG9nZ2xlIGFmdGVyIGl0ZW0gY2xpY2sgc2VsZWN0LlxuXG4gICAgdmFyIGl0ZW1Qcm9wcyA9IF9leHRlbmRzKChfZXh0ZW5kczQgPSB7fSwgX2V4dGVuZHM0W3JlZktleV0gPSBoYW5kbGVSZWZzKHJlZiwgZnVuY3Rpb24gKGl0ZW1Ob2RlKSB7XG4gICAgICBpZiAoaXRlbU5vZGUpIHtcbiAgICAgICAgaXRlbVJlZnMuY3VycmVudFtlbGVtZW50SWRzLmdldEl0ZW1JZChpbmRleCldID0gaXRlbU5vZGU7XG4gICAgICB9XG4gICAgfSksIF9leHRlbmRzNFsnYXJpYS1kaXNhYmxlZCddID0gZGlzYWJsZWQsIF9leHRlbmRzNFsnYXJpYS1zZWxlY3RlZCddID0gXCJcIiArIChpdGVtID09PSBsYXRlc3RTdGF0ZS5zZWxlY3RlZEl0ZW0pLCBfZXh0ZW5kczQuaWQgPSBlbGVtZW50SWRzLmdldEl0ZW1JZChpbmRleCksIF9leHRlbmRzNC5yb2xlID0gJ29wdGlvbicsIF9leHRlbmRzNCksIHJlc3QpO1xuICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IChyZWFjdC1uYXRpdmUpICovXG4gICAgICB7XG4gICAgICAgIGl0ZW1Qcm9wcy5vbkNsaWNrID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25DbGljaywgaXRlbUhhbmRsZUNsaWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaXRlbVByb3BzLm9uTW91c2VNb3ZlID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25Nb3VzZU1vdmUsIGl0ZW1IYW5kbGVNb3VzZU1vdmUpO1xuICAgIGl0ZW1Qcm9wcy5vbk1vdXNlRG93biA9IGNhbGxBbGxFdmVudEhhbmRsZXJzKG9uTW91c2VEb3duLCBpdGVtSGFuZGxlTW91c2VEb3duKTtcbiAgICByZXR1cm4gaXRlbVByb3BzO1xuICB9LCBbbGF0ZXN0LCBlbGVtZW50SWRzLCBzaG91bGRTY3JvbGxSZWYsIGRpc3BhdGNoXSk7XG4gIHJldHVybiB7XG4gICAgLy8gcHJvcCBnZXR0ZXJzLlxuICAgIGdldFRvZ2dsZUJ1dHRvblByb3BzOiBnZXRUb2dnbGVCdXR0b25Qcm9wcyxcbiAgICBnZXRMYWJlbFByb3BzOiBnZXRMYWJlbFByb3BzLFxuICAgIGdldE1lbnVQcm9wczogZ2V0TWVudVByb3BzLFxuICAgIGdldEl0ZW1Qcm9wczogZ2V0SXRlbVByb3BzLFxuICAgIC8vIGFjdGlvbnMuXG4gICAgdG9nZ2xlTWVudTogdG9nZ2xlTWVudSxcbiAgICBvcGVuTWVudTogb3Blbk1lbnUsXG4gICAgY2xvc2VNZW51OiBjbG9zZU1lbnUsXG4gICAgc2V0SGlnaGxpZ2h0ZWRJbmRleDogc2V0SGlnaGxpZ2h0ZWRJbmRleCxcbiAgICBzZWxlY3RJdGVtOiBzZWxlY3RJdGVtLFxuICAgIHJlc2V0OiByZXNldCxcbiAgICBzZXRJbnB1dFZhbHVlOiBzZXRJbnB1dFZhbHVlLFxuICAgIC8vIHN0YXRlLlxuICAgIGhpZ2hsaWdodGVkSW5kZXg6IGhpZ2hsaWdodGVkSW5kZXgsXG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgc2VsZWN0ZWRJdGVtOiBzZWxlY3RlZEl0ZW0sXG4gICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZVxuICB9O1xufVxuXG52YXIgSW5wdXRLZXlEb3duQXJyb3dEb3duID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19faW5wdXRfa2V5ZG93bl9hcnJvd19kb3duX18nIDogMDtcbnZhciBJbnB1dEtleURvd25BcnJvd1VwID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19faW5wdXRfa2V5ZG93bl9hcnJvd191cF9fJyA6IDE7XG52YXIgSW5wdXRLZXlEb3duRXNjYXBlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19faW5wdXRfa2V5ZG93bl9lc2NhcGVfXycgOiAyO1xudmFyIElucHV0S2V5RG93bkhvbWUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19pbnB1dF9rZXlkb3duX2hvbWVfXycgOiAzO1xudmFyIElucHV0S2V5RG93bkVuZCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2lucHV0X2tleWRvd25fZW5kX18nIDogNDtcbnZhciBJbnB1dEtleURvd25QYWdlVXAgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19pbnB1dF9rZXlkb3duX3BhZ2VfdXBfXycgOiA1O1xudmFyIElucHV0S2V5RG93blBhZ2VEb3duID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19faW5wdXRfa2V5ZG93bl9wYWdlX2Rvd25fXycgOiA2O1xudmFyIElucHV0S2V5RG93bkVudGVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19faW5wdXRfa2V5ZG93bl9lbnRlcl9fJyA6IDc7XG52YXIgSW5wdXRDaGFuZ2UgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19pbnB1dF9jaGFuZ2VfXycgOiA4O1xudmFyIElucHV0Qmx1ciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2lucHV0X2JsdXJfXycgOiA5O1xudmFyIElucHV0Q2xpY2sgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19pbnB1dF9jbGlja19fJyA6IDEwO1xudmFyIE1lbnVNb3VzZUxlYXZlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fbWVudV9tb3VzZV9sZWF2ZV9fJyA6IDExO1xudmFyIEl0ZW1Nb3VzZU1vdmUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19pdGVtX21vdXNlX21vdmVfXycgOiAxMjtcbnZhciBJdGVtQ2xpY2sgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19pdGVtX2NsaWNrX18nIDogMTM7XG52YXIgVG9nZ2xlQnV0dG9uQ2xpY2sgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX190b2dnbGVidXR0b25fY2xpY2tfXycgOiAxNDtcbnZhciBGdW5jdGlvblRvZ2dsZU1lbnUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl90b2dnbGVfbWVudV9fJyA6IDE1O1xudmFyIEZ1bmN0aW9uT3Blbk1lbnUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl9vcGVuX21lbnVfXycgOiAxNjtcbnZhciBGdW5jdGlvbkNsb3NlTWVudSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2Z1bmN0aW9uX2Nsb3NlX21lbnVfXycgOiAxNztcbnZhciBGdW5jdGlvblNldEhpZ2hsaWdodGVkSW5kZXggPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl9zZXRfaGlnaGxpZ2h0ZWRfaW5kZXhfXycgOiAxODtcbnZhciBGdW5jdGlvblNlbGVjdEl0ZW0gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl9zZWxlY3RfaXRlbV9fJyA6IDE5O1xudmFyIEZ1bmN0aW9uU2V0SW5wdXRWYWx1ZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2Z1bmN0aW9uX3NldF9pbnB1dF92YWx1ZV9fJyA6IDIwO1xudmFyIEZ1bmN0aW9uUmVzZXQkMSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2Z1bmN0aW9uX3Jlc2V0X18nIDogMjE7XG52YXIgQ29udHJvbGxlZFByb3BVcGRhdGVkU2VsZWN0ZWRJdGVtID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fY29udHJvbGxlZF9wcm9wX3VwZGF0ZWRfc2VsZWN0ZWRfaXRlbV9fJyA6IDIyO1xuXG52YXIgc3RhdGVDaGFuZ2VUeXBlcyQxID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIElucHV0S2V5RG93bkFycm93RG93bjogSW5wdXRLZXlEb3duQXJyb3dEb3duLFxuICBJbnB1dEtleURvd25BcnJvd1VwOiBJbnB1dEtleURvd25BcnJvd1VwLFxuICBJbnB1dEtleURvd25Fc2NhcGU6IElucHV0S2V5RG93bkVzY2FwZSxcbiAgSW5wdXRLZXlEb3duSG9tZTogSW5wdXRLZXlEb3duSG9tZSxcbiAgSW5wdXRLZXlEb3duRW5kOiBJbnB1dEtleURvd25FbmQsXG4gIElucHV0S2V5RG93blBhZ2VVcDogSW5wdXRLZXlEb3duUGFnZVVwLFxuICBJbnB1dEtleURvd25QYWdlRG93bjogSW5wdXRLZXlEb3duUGFnZURvd24sXG4gIElucHV0S2V5RG93bkVudGVyOiBJbnB1dEtleURvd25FbnRlcixcbiAgSW5wdXRDaGFuZ2U6IElucHV0Q2hhbmdlLFxuICBJbnB1dEJsdXI6IElucHV0Qmx1cixcbiAgSW5wdXRDbGljazogSW5wdXRDbGljayxcbiAgTWVudU1vdXNlTGVhdmU6IE1lbnVNb3VzZUxlYXZlLFxuICBJdGVtTW91c2VNb3ZlOiBJdGVtTW91c2VNb3ZlLFxuICBJdGVtQ2xpY2s6IEl0ZW1DbGljayxcbiAgVG9nZ2xlQnV0dG9uQ2xpY2s6IFRvZ2dsZUJ1dHRvbkNsaWNrLFxuICBGdW5jdGlvblRvZ2dsZU1lbnU6IEZ1bmN0aW9uVG9nZ2xlTWVudSxcbiAgRnVuY3Rpb25PcGVuTWVudTogRnVuY3Rpb25PcGVuTWVudSxcbiAgRnVuY3Rpb25DbG9zZU1lbnU6IEZ1bmN0aW9uQ2xvc2VNZW51LFxuICBGdW5jdGlvblNldEhpZ2hsaWdodGVkSW5kZXg6IEZ1bmN0aW9uU2V0SGlnaGxpZ2h0ZWRJbmRleCxcbiAgRnVuY3Rpb25TZWxlY3RJdGVtOiBGdW5jdGlvblNlbGVjdEl0ZW0sXG4gIEZ1bmN0aW9uU2V0SW5wdXRWYWx1ZTogRnVuY3Rpb25TZXRJbnB1dFZhbHVlLFxuICBGdW5jdGlvblJlc2V0OiBGdW5jdGlvblJlc2V0JDEsXG4gIENvbnRyb2xsZWRQcm9wVXBkYXRlZFNlbGVjdGVkSXRlbTogQ29udHJvbGxlZFByb3BVcGRhdGVkU2VsZWN0ZWRJdGVtXG59KTtcblxuZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlJDEocHJvcHMpIHtcbiAgdmFyIGluaXRpYWxTdGF0ZSA9IGdldEluaXRpYWxTdGF0ZSQyKHByb3BzKTtcbiAgdmFyIHNlbGVjdGVkSXRlbSA9IGluaXRpYWxTdGF0ZS5zZWxlY3RlZEl0ZW07XG4gIHZhciBpbnB1dFZhbHVlID0gaW5pdGlhbFN0YXRlLmlucHV0VmFsdWU7XG4gIGlmIChpbnB1dFZhbHVlID09PSAnJyAmJiBzZWxlY3RlZEl0ZW0gJiYgcHJvcHMuZGVmYXVsdElucHV0VmFsdWUgPT09IHVuZGVmaW5lZCAmJiBwcm9wcy5pbml0aWFsSW5wdXRWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIHByb3BzLmlucHV0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pdGVtVG9TdHJpbmcoc2VsZWN0ZWRJdGVtKTtcbiAgfVxuICByZXR1cm4gX2V4dGVuZHMoe30sIGluaXRpYWxTdGF0ZSwge1xuICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWVcbiAgfSk7XG59XG52YXIgcHJvcFR5cGVzJDEgPSBfZXh0ZW5kcyh7fSwgY29tbW9uRHJvcGRvd25Qcm9wVHlwZXMsIHtcbiAgaXRlbXM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuICBpc0l0ZW1EaXNhYmxlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIHNlbGVjdGVkSXRlbUNoYW5nZWQ6IFByb3BUeXBlcy5mdW5jLFxuICBnZXRBMTF5U2VsZWN0aW9uTWVzc2FnZTogUHJvcFR5cGVzLmZ1bmMsXG4gIGlucHV0VmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRlZmF1bHRJbnB1dFZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpbml0aWFsSW5wdXRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaW5wdXRJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgb25JbnB1dFZhbHVlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuY1xufSk7XG5cbi8qKlxuICogVGhlIHVzZUNvbWJvYm94IHZlcnNpb24gb2YgdXNlQ29udHJvbGxlZFJlZHVjZXIsIHdoaWNoIGFsc29cbiAqIGNoZWNrcyBpZiB0aGUgY29udHJvbGxlZCBwcm9wIHNlbGVjdGVkSXRlbSBjaGFuZ2VkIGJldHdlZW5cbiAqIHJlbmRlcnMuIElmIHNvLCBpdCB3aWxsIGFsc28gdXBkYXRlIGlucHV0VmFsdWUgd2l0aCBpdHNcbiAqIHN0cmluZyBlcXVpdmFsZW50LiBJdCB1c2VzIHRoZSBjb21tb24gdXNlRW5oYW5jZWRSZWR1Y2VyIHRvXG4gKiBjb21wdXRlIHRoZSByZXN0IG9mIHRoZSBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIFJlZHVjZXIgZnVuY3Rpb24gZnJvbSBkb3duc2hpZnQuXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgVGhlIGhvb2sgcHJvcHMsIGFsc28gcGFzc2VkIHRvIGNyZWF0ZUluaXRpYWxTdGF0ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNyZWF0ZUluaXRpYWxTdGF0ZSBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IHdpdGggdGhlIHN0YXRlIGFuZCBhbiBhY3Rpb24gZGlzcGF0Y2hlci5cbiAqL1xuZnVuY3Rpb24gdXNlQ29udHJvbGxlZFJlZHVjZXIocmVkdWNlciwgcHJvcHMsIGNyZWF0ZUluaXRpYWxTdGF0ZSkge1xuICB2YXIgcHJldmlvdXNTZWxlY3RlZEl0ZW1SZWYgPSB1c2VSZWYoKTtcbiAgdmFyIF91c2VFbmhhbmNlZFJlZHVjZXIgPSB1c2VFbmhhbmNlZFJlZHVjZXIocmVkdWNlciwgcHJvcHMsIGNyZWF0ZUluaXRpYWxTdGF0ZSksXG4gICAgc3RhdGUgPSBfdXNlRW5oYW5jZWRSZWR1Y2VyWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUVuaGFuY2VkUmVkdWNlclsxXTtcblxuICAvLyBUb0RvOiBpZiBuZWVkZWQsIG1ha2Ugc2FtZSBhcHByb2FjaCBhcyBzZWxlY3RlZEl0ZW1DaGFuZ2VkIGZyb20gRG93bnNoaWZ0LlxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNDb250cm9sbGVkUHJvcChwcm9wcywgJ3NlbGVjdGVkSXRlbScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwcm9wcy5zZWxlY3RlZEl0ZW1DaGFuZ2VkKHByZXZpb3VzU2VsZWN0ZWRJdGVtUmVmLmN1cnJlbnQsIHByb3BzLnNlbGVjdGVkSXRlbSkpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQ29udHJvbGxlZFByb3BVcGRhdGVkU2VsZWN0ZWRJdGVtLFxuICAgICAgICBpbnB1dFZhbHVlOiBwcm9wcy5pdGVtVG9TdHJpbmcocHJvcHMuc2VsZWN0ZWRJdGVtKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHByZXZpb3VzU2VsZWN0ZWRJdGVtUmVmLmN1cnJlbnQgPSBzdGF0ZS5zZWxlY3RlZEl0ZW0gPT09IHByZXZpb3VzU2VsZWN0ZWRJdGVtUmVmLmN1cnJlbnQgPyBwcm9wcy5zZWxlY3RlZEl0ZW0gOiBzdGF0ZS5zZWxlY3RlZEl0ZW07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbc3RhdGUuc2VsZWN0ZWRJdGVtLCBwcm9wcy5zZWxlY3RlZEl0ZW1dKTtcbiAgcmV0dXJuIFtnZXRTdGF0ZShzdGF0ZSwgcHJvcHMpLCBkaXNwYXRjaF07XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG52YXIgdmFsaWRhdGVQcm9wVHlwZXMkMSA9IG5vb3A7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVQcm9wVHlwZXMkMSA9IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKG9wdGlvbnMsIGNhbGxlcikge1xuICAgIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMkMSwgb3B0aW9ucywgJ3Byb3AnLCBjYWxsZXIubmFtZSk7XG4gIH07XG59XG52YXIgZGVmYXVsdFByb3BzJDEgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdFByb3BzJDMsIHtcbiAgc2VsZWN0ZWRJdGVtQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlZChwcmV2SXRlbSwgaXRlbSkge1xuICAgIHJldHVybiBwcmV2SXRlbSAhPT0gaXRlbTtcbiAgfSxcbiAgZ2V0QTExeVN0YXR1c01lc3NhZ2U6IGdldEExMXlTdGF0dXNNZXNzYWdlJDEsXG4gIGlzSXRlbURpc2FibGVkOiBmdW5jdGlvbiBpc0l0ZW1EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovXG5mdW5jdGlvbiBkb3duc2hpZnRVc2VDb21ib2JveFJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgX3Byb3BzJGl0ZW1zO1xuICB2YXIgdHlwZSA9IGFjdGlvbi50eXBlLFxuICAgIHByb3BzID0gYWN0aW9uLnByb3BzLFxuICAgIGFsdEtleSA9IGFjdGlvbi5hbHRLZXk7XG4gIHZhciBjaGFuZ2VzO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIEl0ZW1DbGljazpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGlzT3BlbjogZ2V0RGVmYXVsdFZhbHVlJDEocHJvcHMsICdpc09wZW4nKSxcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogZ2V0RGVmYXVsdFZhbHVlJDEocHJvcHMsICdoaWdobGlnaHRlZEluZGV4JyksXG4gICAgICAgIHNlbGVjdGVkSXRlbTogcHJvcHMuaXRlbXNbYWN0aW9uLmluZGV4XSxcbiAgICAgICAgaW5wdXRWYWx1ZTogcHJvcHMuaXRlbVRvU3RyaW5nKHByb3BzLml0ZW1zW2FjdGlvbi5pbmRleF0pXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBJbnB1dEtleURvd25BcnJvd0Rvd246XG4gICAgICBpZiAoc3RhdGUuaXNPcGVuKSB7XG4gICAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogZ2V0SGlnaGxpZ2h0ZWRJbmRleChzdGF0ZS5oaWdobGlnaHRlZEluZGV4LCAxLCBwcm9wcy5pdGVtcywgcHJvcHMuaXNJdGVtRGlzYWJsZWQsIHRydWUpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFuZ2VzID0ge1xuICAgICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGFsdEtleSAmJiBzdGF0ZS5zZWxlY3RlZEl0ZW0gPT0gbnVsbCA/IC0xIDogZ2V0SGlnaGxpZ2h0ZWRJbmRleE9uT3Blbihwcm9wcywgc3RhdGUsIDEpLFxuICAgICAgICAgIGlzT3BlbjogcHJvcHMuaXRlbXMubGVuZ3RoID49IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRLZXlEb3duQXJyb3dVcDpcbiAgICAgIGlmIChzdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgaWYgKGFsdEtleSkge1xuICAgICAgICAgIGNoYW5nZXMgPSBnZXRDaGFuZ2VzT25TZWxlY3Rpb24ocHJvcHMsIHN0YXRlLmhpZ2hsaWdodGVkSW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBnZXRIaWdobGlnaHRlZEluZGV4KHN0YXRlLmhpZ2hsaWdodGVkSW5kZXgsIC0xLCBwcm9wcy5pdGVtcywgcHJvcHMuaXNJdGVtRGlzYWJsZWQsIHRydWUpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuKHByb3BzLCBzdGF0ZSwgLTEpLFxuICAgICAgICAgIGlzT3BlbjogcHJvcHMuaXRlbXMubGVuZ3RoID49IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRLZXlEb3duRW50ZXI6XG4gICAgICBjaGFuZ2VzID0gZ2V0Q2hhbmdlc09uU2VsZWN0aW9uKHByb3BzLCBzdGF0ZS5oaWdobGlnaHRlZEluZGV4KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRLZXlEb3duRXNjYXBlOlxuICAgICAgY2hhbmdlcyA9IF9leHRlbmRzKHtcbiAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogLTFcbiAgICAgIH0sICFzdGF0ZS5pc09wZW4gJiYge1xuICAgICAgICBzZWxlY3RlZEl0ZW06IG51bGwsXG4gICAgICAgIGlucHV0VmFsdWU6ICcnXG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRLZXlEb3duUGFnZVVwOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogZ2V0SGlnaGxpZ2h0ZWRJbmRleChzdGF0ZS5oaWdobGlnaHRlZEluZGV4LCAtMTAsIHByb3BzLml0ZW1zLCBwcm9wcy5pc0l0ZW1EaXNhYmxlZCwgdHJ1ZSlcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIElucHV0S2V5RG93blBhZ2VEb3duOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogZ2V0SGlnaGxpZ2h0ZWRJbmRleChzdGF0ZS5oaWdobGlnaHRlZEluZGV4LCAxMCwgcHJvcHMuaXRlbXMsIHByb3BzLmlzSXRlbURpc2FibGVkLCB0cnVlKVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRLZXlEb3duSG9tZTpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGdldE5vbkRpc2FibGVkSW5kZXgoMCwgZmFsc2UsIHByb3BzLml0ZW1zLCBwcm9wcy5pc0l0ZW1EaXNhYmxlZClcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIElucHV0S2V5RG93bkVuZDpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGdldE5vbkRpc2FibGVkSW5kZXgocHJvcHMuaXRlbXMubGVuZ3RoIC0gMSwgdHJ1ZSwgcHJvcHMuaXRlbXMsIHByb3BzLmlzSXRlbURpc2FibGVkKVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRCbHVyOlxuICAgICAgY2hhbmdlcyA9IF9leHRlbmRzKHtcbiAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogLTFcbiAgICAgIH0sIHN0YXRlLmhpZ2hsaWdodGVkSW5kZXggPj0gMCAmJiAoKF9wcm9wcyRpdGVtcyA9IHByb3BzLml0ZW1zKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJGl0ZW1zLmxlbmd0aCkgJiYgYWN0aW9uLnNlbGVjdEl0ZW0gJiYge1xuICAgICAgICBzZWxlY3RlZEl0ZW06IHByb3BzLml0ZW1zW3N0YXRlLmhpZ2hsaWdodGVkSW5kZXhdLFxuICAgICAgICBpbnB1dFZhbHVlOiBwcm9wcy5pdGVtVG9TdHJpbmcocHJvcHMuaXRlbXNbc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleF0pXG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRDaGFuZ2U6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IGdldERlZmF1bHRWYWx1ZSQxKHByb3BzLCAnaGlnaGxpZ2h0ZWRJbmRleCcpLFxuICAgICAgICBpbnB1dFZhbHVlOiBhY3Rpb24uaW5wdXRWYWx1ZVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSW5wdXRDbGljazpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGlzT3BlbjogIXN0YXRlLmlzT3BlbixcbiAgICAgICAgaGlnaGxpZ2h0ZWRJbmRleDogc3RhdGUuaXNPcGVuID8gLTEgOiBnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuKHByb3BzLCBzdGF0ZSwgMClcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIEZ1bmN0aW9uU2VsZWN0SXRlbTpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIHNlbGVjdGVkSXRlbTogYWN0aW9uLnNlbGVjdGVkSXRlbSxcbiAgICAgICAgaW5wdXRWYWx1ZTogcHJvcHMuaXRlbVRvU3RyaW5nKGFjdGlvbi5zZWxlY3RlZEl0ZW0pXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDb250cm9sbGVkUHJvcFVwZGF0ZWRTZWxlY3RlZEl0ZW06XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBpbnB1dFZhbHVlOiBhY3Rpb24uaW5wdXRWYWx1ZVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZG93bnNoaWZ0Q29tbW9uUmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBzdGF0ZUNoYW5nZVR5cGVzJDEpO1xuICB9XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIGNoYW5nZXMpO1xufVxuLyogZXNsaW50LWVuYWJsZSBjb21wbGV4aXR5ICovXG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcIm9uTW91c2VMZWF2ZVwiLCBcInJlZktleVwiLCBcInJlZlwiXSxcbiAgX2V4Y2x1ZGVkMiQxID0gW1wiaXRlbVwiLCBcImluZGV4XCIsIFwicmVmS2V5XCIsIFwicmVmXCIsIFwib25Nb3VzZU1vdmVcIiwgXCJvbk1vdXNlRG93blwiLCBcIm9uQ2xpY2tcIiwgXCJvblByZXNzXCIsIFwiZGlzYWJsZWRcIl0sXG4gIF9leGNsdWRlZDMgPSBbXCJvbkNsaWNrXCIsIFwib25QcmVzc1wiLCBcInJlZktleVwiLCBcInJlZlwiXSxcbiAgX2V4Y2x1ZGVkNCA9IFtcIm9uS2V5RG93blwiLCBcIm9uQ2hhbmdlXCIsIFwib25JbnB1dFwiLCBcIm9uQmx1clwiLCBcIm9uQ2hhbmdlVGV4dFwiLCBcIm9uQ2xpY2tcIiwgXCJyZWZLZXlcIiwgXCJyZWZcIl07XG51c2VDb21ib2JveC5zdGF0ZUNoYW5nZVR5cGVzID0gc3RhdGVDaGFuZ2VUeXBlcyQxO1xuZnVuY3Rpb24gdXNlQ29tYm9ib3godXNlclByb3BzKSB7XG4gIGlmICh1c2VyUHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHVzZXJQcm9wcyA9IHt9O1xuICB9XG4gIHZhbGlkYXRlUHJvcFR5cGVzJDEodXNlclByb3BzLCB1c2VDb21ib2JveCk7XG4gIC8vIFByb3BzIGRlZmF1bHRzIGFuZCBkZXN0cnVjdHVyaW5nLlxuICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdFByb3BzJDEsIHVzZXJQcm9wcyk7XG4gIHZhciBpdGVtcyA9IHByb3BzLml0ZW1zLFxuICAgIHNjcm9sbEludG9WaWV3ID0gcHJvcHMuc2Nyb2xsSW50b1ZpZXcsXG4gICAgZW52aXJvbm1lbnQgPSBwcm9wcy5lbnZpcm9ubWVudCxcbiAgICBnZXRBMTF5U3RhdHVzTWVzc2FnZSA9IHByb3BzLmdldEExMXlTdGF0dXNNZXNzYWdlLFxuICAgIGdldEExMXlTZWxlY3Rpb25NZXNzYWdlID0gcHJvcHMuZ2V0QTExeVNlbGVjdGlvbk1lc3NhZ2UsXG4gICAgaXRlbVRvU3RyaW5nID0gcHJvcHMuaXRlbVRvU3RyaW5nO1xuICAvLyBJbml0aWFsIHN0YXRlIGRlcGVuZGluZyBvbiBjb250cm9sbGVkIHByb3BzLlxuICB2YXIgX3VzZUNvbnRyb2xsZWRSZWR1Y2VyID0gdXNlQ29udHJvbGxlZFJlZHVjZXIoZG93bnNoaWZ0VXNlQ29tYm9ib3hSZWR1Y2VyLCBwcm9wcywgZ2V0SW5pdGlhbFN0YXRlJDEpLFxuICAgIHN0YXRlID0gX3VzZUNvbnRyb2xsZWRSZWR1Y2VyWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUNvbnRyb2xsZWRSZWR1Y2VyWzFdO1xuICB2YXIgaXNPcGVuID0gc3RhdGUuaXNPcGVuLFxuICAgIGhpZ2hsaWdodGVkSW5kZXggPSBzdGF0ZS5oaWdobGlnaHRlZEluZGV4LFxuICAgIHNlbGVjdGVkSXRlbSA9IHN0YXRlLnNlbGVjdGVkSXRlbSxcbiAgICBpbnB1dFZhbHVlID0gc3RhdGUuaW5wdXRWYWx1ZTtcblxuICAvLyBFbGVtZW50IHJlZnMuXG4gIHZhciBtZW51UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgaXRlbVJlZnMgPSB1c2VSZWYoe30pO1xuICB2YXIgaW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciB0b2dnbGVCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBpc0luaXRpYWxNb3VudFJlZiA9IHVzZVJlZih0cnVlKTtcbiAgLy8gcHJldmVudCBpZCByZS1nZW5lcmF0aW9uIGJldHdlZW4gcmVuZGVycy5cbiAgdmFyIGVsZW1lbnRJZHMgPSB1c2VFbGVtZW50SWRzKHByb3BzKTtcbiAgLy8gdXNlZCB0byBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIGhhZCBvbiBwcmV2aW91cyBjeWNsZS5cbiAgdmFyIHByZXZpb3VzUmVzdWx0Q291bnRSZWYgPSB1c2VSZWYoKTtcbiAgLy8gdXRpbGl0eSBjYWxsYmFjayB0byBnZXQgaXRlbSBlbGVtZW50LlxuICB2YXIgbGF0ZXN0ID0gdXNlTGF0ZXN0UmVmKHtcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgcHJvcHM6IHByb3BzXG4gIH0pO1xuICB2YXIgZ2V0SXRlbU5vZGVGcm9tSW5kZXggPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gaXRlbVJlZnMuY3VycmVudFtlbGVtZW50SWRzLmdldEl0ZW1JZChpbmRleCldO1xuICB9LCBbZWxlbWVudElkc10pO1xuXG4gIC8vIEVmZmVjdHMuXG4gIC8vIFNldHMgYTExeSBzdGF0dXMgbWVzc2FnZSBvbiBjaGFuZ2VzIGluIHN0YXRlLlxuICB1c2VBMTF5TWVzc2FnZVNldHRlcihnZXRBMTF5U3RhdHVzTWVzc2FnZSwgW2lzT3BlbiwgaGlnaGxpZ2h0ZWRJbmRleCwgaW5wdXRWYWx1ZSwgaXRlbXNdLCBfZXh0ZW5kcyh7XG4gICAgaXNJbml0aWFsTW91bnQ6IGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQsXG4gICAgcHJldmlvdXNSZXN1bHRDb3VudDogcHJldmlvdXNSZXN1bHRDb3VudFJlZi5jdXJyZW50LFxuICAgIGl0ZW1zOiBpdGVtcyxcbiAgICBlbnZpcm9ubWVudDogZW52aXJvbm1lbnQsXG4gICAgaXRlbVRvU3RyaW5nOiBpdGVtVG9TdHJpbmdcbiAgfSwgc3RhdGUpKTtcbiAgLy8gU2V0cyBhMTF5IHN0YXR1cyBtZXNzYWdlIG9uIGNoYW5nZXMgaW4gc2VsZWN0ZWRJdGVtLlxuICB1c2VBMTF5TWVzc2FnZVNldHRlcihnZXRBMTF5U2VsZWN0aW9uTWVzc2FnZSwgW3NlbGVjdGVkSXRlbV0sIF9leHRlbmRzKHtcbiAgICBpc0luaXRpYWxNb3VudDogaXNJbml0aWFsTW91bnRSZWYuY3VycmVudCxcbiAgICBwcmV2aW91c1Jlc3VsdENvdW50OiBwcmV2aW91c1Jlc3VsdENvdW50UmVmLmN1cnJlbnQsXG4gICAgaXRlbXM6IGl0ZW1zLFxuICAgIGVudmlyb25tZW50OiBlbnZpcm9ubWVudCxcbiAgICBpdGVtVG9TdHJpbmc6IGl0ZW1Ub1N0cmluZ1xuICB9LCBzdGF0ZSkpO1xuICAvLyBTY3JvbGwgb24gaGlnaGxpZ2h0ZWQgaXRlbSBpZiBjaGFuZ2UgY29tZXMgZnJvbSBrZXlib2FyZC5cbiAgdmFyIHNob3VsZFNjcm9sbFJlZiA9IHVzZVNjcm9sbEludG9WaWV3KHtcbiAgICBtZW51RWxlbWVudDogbWVudVJlZi5jdXJyZW50LFxuICAgIGhpZ2hsaWdodGVkSW5kZXg6IGhpZ2hsaWdodGVkSW5kZXgsXG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgaXRlbVJlZnM6IGl0ZW1SZWZzLFxuICAgIHNjcm9sbEludG9WaWV3OiBzY3JvbGxJbnRvVmlldyxcbiAgICBnZXRJdGVtTm9kZUZyb21JbmRleDogZ2V0SXRlbU5vZGVGcm9tSW5kZXhcbiAgfSk7XG4gIHVzZUNvbnRyb2xQcm9wc1ZhbGlkYXRvcih7XG4gICAgaXNJbml0aWFsTW91bnQ6IGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQsXG4gICAgcHJvcHM6IHByb3BzLFxuICAgIHN0YXRlOiBzdGF0ZVxuICB9KTtcbiAgLy8gRm9jdXMgdGhlIGlucHV0IG9uIGZpcnN0IHJlbmRlciBpZiByZXF1aXJlZC5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9jdXNPbk9wZW4gPSBnZXRJbml0aWFsVmFsdWUkMShwcm9wcywgJ2lzT3BlbicpO1xuICAgIGlmIChmb2N1c09uT3BlbiAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc0luaXRpYWxNb3VudFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZXZpb3VzUmVzdWx0Q291bnRSZWYuY3VycmVudCA9IGl0ZW1zLmxlbmd0aDtcbiAgfSk7XG4gIC8vIEFkZCBtb3VzZS90b3VjaCBldmVudHMgdG8gZG9jdW1lbnQuXG4gIHZhciBtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYgPSB1c2VNb3VzZUFuZFRvdWNoVHJhY2tlcihpc09wZW4sIFtpbnB1dFJlZiwgbWVudVJlZiwgdG9nZ2xlQnV0dG9uUmVmXSwgZW52aXJvbm1lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBJbnB1dEJsdXIsXG4gICAgICBzZWxlY3RJdGVtOiBmYWxzZVxuICAgIH0pO1xuICB9KTtcbiAgdmFyIHNldEdldHRlclByb3BDYWxsSW5mbyA9IHVzZUdldHRlclByb3BzQ2FsbGVkQ2hlY2tlcignZ2V0SW5wdXRQcm9wcycsICdnZXRNZW51UHJvcHMnKTtcbiAgLy8gTWFrZSBpbml0aWFsIHJlZiBmYWxzZS5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpc0luaXRpYWxNb3VudFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgLy8gUmVzZXQgaXRlbVJlZnMgb24gY2xvc2UuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpc09wZW4pIHtcbiAgICAgIGl0ZW1SZWZzLmN1cnJlbnQgPSB7fTtcbiAgICB9XG4gIH0sIFtpc09wZW5dKTtcbiAgLy8gUmVzZXQgaXRlbVJlZnMgb24gY2xvc2UuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9pbnB1dFJlZiRjdXJyZW50O1xuICAgIGlmICghaXNPcGVuIHx8ICEoZW52aXJvbm1lbnQgIT0gbnVsbCAmJiBlbnZpcm9ubWVudC5kb2N1bWVudCkgfHwgIShpbnB1dFJlZiAhPSBudWxsICYmIChfaW5wdXRSZWYkY3VycmVudCA9IGlucHV0UmVmLmN1cnJlbnQpICE9IG51bGwgJiYgX2lucHV0UmVmJGN1cnJlbnQuZm9jdXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlbnZpcm9ubWVudC5kb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbaXNPcGVuLCBlbnZpcm9ubWVudF0pO1xuXG4gIC8qIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zICovXG4gIHZhciBpbnB1dEtleURvd25IYW5kbGVycyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBBcnJvd0Rvd246IGZ1bmN0aW9uIEFycm93RG93bihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duQXJyb3dEb3duLFxuICAgICAgICAgIGFsdEtleTogZXZlbnQuYWx0S2V5XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIEFycm93VXA6IGZ1bmN0aW9uIEFycm93VXAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IElucHV0S2V5RG93bkFycm93VXAsXG4gICAgICAgICAgYWx0S2V5OiBldmVudC5hbHRLZXlcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgSG9tZTogZnVuY3Rpb24gSG9tZShldmVudCkge1xuICAgICAgICBpZiAoIWxhdGVzdC5jdXJyZW50LnN0YXRlLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duSG9tZVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBFbmQ6IGZ1bmN0aW9uIEVuZChldmVudCkge1xuICAgICAgICBpZiAoIWxhdGVzdC5jdXJyZW50LnN0YXRlLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duRW5kXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIEVzY2FwZTogZnVuY3Rpb24gRXNjYXBlKGV2ZW50KSB7XG4gICAgICAgIHZhciBsYXRlc3RTdGF0ZSA9IGxhdGVzdC5jdXJyZW50LnN0YXRlO1xuICAgICAgICBpZiAobGF0ZXN0U3RhdGUuaXNPcGVuIHx8IGxhdGVzdFN0YXRlLmlucHV0VmFsdWUgfHwgbGF0ZXN0U3RhdGUuc2VsZWN0ZWRJdGVtIHx8IGxhdGVzdFN0YXRlLmhpZ2hsaWdodGVkSW5kZXggPiAtMSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duRXNjYXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBFbnRlcjogZnVuY3Rpb24gRW50ZXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIGxhdGVzdFN0YXRlID0gbGF0ZXN0LmN1cnJlbnQuc3RhdGU7XG4gICAgICAgIC8vIGlmIGNsb3NlZCBvciBubyBoaWdobGlnaHRlZCBpbmRleCwgZG8gbm90aGluZy5cbiAgICAgICAgaWYgKCFsYXRlc3RTdGF0ZS5pc09wZW4gfHwgZXZlbnQud2hpY2ggPT09IDIyOSAvLyBpZiBJTUUgY29tcG9zaW5nLCB3YWl0IGZvciBuZXh0IEVudGVyIGtleWRvd24gZXZlbnQuXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duRW50ZXJcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgUGFnZVVwOiBmdW5jdGlvbiBQYWdlVXAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGxhdGVzdC5jdXJyZW50LnN0YXRlLmlzT3Blbikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duUGFnZVVwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBQYWdlRG93bjogZnVuY3Rpb24gUGFnZURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGxhdGVzdC5jdXJyZW50LnN0YXRlLmlzT3Blbikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogSW5wdXRLZXlEb3duUGFnZURvd25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0sIFtkaXNwYXRjaCwgbGF0ZXN0XSk7XG5cbiAgLy8gR2V0dGVyIHByb3BzLlxuICB2YXIgZ2V0TGFiZWxQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChsYWJlbFByb3BzKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIGlkOiBlbGVtZW50SWRzLmxhYmVsSWQsXG4gICAgICBodG1sRm9yOiBlbGVtZW50SWRzLmlucHV0SWRcbiAgICB9LCBsYWJlbFByb3BzKTtcbiAgfSwgW2VsZW1lbnRJZHNdKTtcbiAgdmFyIGdldE1lbnVQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfdGVtcCwgX3RlbXAyKSB7XG4gICAgdmFyIF9leHRlbmRzMjtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgb25Nb3VzZUxlYXZlID0gX3JlZi5vbk1vdXNlTGVhdmUsXG4gICAgICBfcmVmJHJlZktleSA9IF9yZWYucmVmS2V5LFxuICAgICAgcmVmS2V5ID0gX3JlZiRyZWZLZXkgPT09IHZvaWQgMCA/ICdyZWYnIDogX3JlZiRyZWZLZXksXG4gICAgICByZWYgPSBfcmVmLnJlZixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQkMSk7XG4gICAgdmFyIF9yZWYyID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgIF9yZWYyJHN1cHByZXNzUmVmRXJybyA9IF9yZWYyLnN1cHByZXNzUmVmRXJyb3IsXG4gICAgICBzdXBwcmVzc1JlZkVycm9yID0gX3JlZjIkc3VwcHJlc3NSZWZFcnJvID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJHN1cHByZXNzUmVmRXJybztcbiAgICBzZXRHZXR0ZXJQcm9wQ2FsbEluZm8oJ2dldE1lbnVQcm9wcycsIHN1cHByZXNzUmVmRXJyb3IsIHJlZktleSwgbWVudVJlZik7XG4gICAgcmV0dXJuIF9leHRlbmRzKChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW3JlZktleV0gPSBoYW5kbGVSZWZzKHJlZiwgZnVuY3Rpb24gKG1lbnVOb2RlKSB7XG4gICAgICBtZW51UmVmLmN1cnJlbnQgPSBtZW51Tm9kZTtcbiAgICB9KSwgX2V4dGVuZHMyLmlkID0gZWxlbWVudElkcy5tZW51SWQsIF9leHRlbmRzMi5yb2xlID0gJ2xpc3Rib3gnLCBfZXh0ZW5kczJbJ2FyaWEtbGFiZWxsZWRieSddID0gcmVzdCAmJiByZXN0WydhcmlhLWxhYmVsJ10gPyB1bmRlZmluZWQgOiBcIlwiICsgZWxlbWVudElkcy5sYWJlbElkLCBfZXh0ZW5kczIub25Nb3VzZUxlYXZlID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25Nb3VzZUxlYXZlLCBmdW5jdGlvbiAoKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IE1lbnVNb3VzZUxlYXZlXG4gICAgICB9KTtcbiAgICB9KSwgX2V4dGVuZHMyKSwgcmVzdCk7XG4gIH0sIFtkaXNwYXRjaCwgc2V0R2V0dGVyUHJvcENhbGxJbmZvLCBlbGVtZW50SWRzXSk7XG4gIHZhciBnZXRJdGVtUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoX3RlbXAzKSB7XG4gICAgdmFyIF9leHRlbmRzMywgX3JlZjQ7XG4gICAgdmFyIF9yZWYzID0gX3RlbXAzID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMyxcbiAgICAgIGl0ZW1Qcm9wID0gX3JlZjMuaXRlbSxcbiAgICAgIGluZGV4UHJvcCA9IF9yZWYzLmluZGV4LFxuICAgICAgX3JlZjMkcmVmS2V5ID0gX3JlZjMucmVmS2V5LFxuICAgICAgcmVmS2V5ID0gX3JlZjMkcmVmS2V5ID09PSB2b2lkIDAgPyAncmVmJyA6IF9yZWYzJHJlZktleSxcbiAgICAgIHJlZiA9IF9yZWYzLnJlZixcbiAgICAgIG9uTW91c2VNb3ZlID0gX3JlZjMub25Nb3VzZU1vdmUsXG4gICAgICBvbk1vdXNlRG93biA9IF9yZWYzLm9uTW91c2VEb3duLFxuICAgICAgb25DbGljayA9IF9yZWYzLm9uQ2xpY2s7XG4gICAgICBfcmVmMy5vblByZXNzO1xuICAgICAgdmFyIGRpc2FibGVkUHJvcCA9IF9yZWYzLmRpc2FibGVkLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYzLCBfZXhjbHVkZWQyJDEpO1xuICAgIGlmIChkaXNhYmxlZFByb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS53YXJuKCdQYXNzaW5nIFwiZGlzYWJsZWRcIiBhcyBhbiBhcmd1bWVudCB0byBnZXRJdGVtUHJvcHMgaXMgbm90IHN1cHBvcnRlZCBhbnltb3JlLiBQbGVhc2UgdXNlIHRoZSBpc0l0ZW1EaXNhYmxlZCBwcm9wIGZyb20gdXNlQ29tYm9ib3guJyk7XG4gICAgfVxuICAgIHZhciBfbGF0ZXN0JGN1cnJlbnQgPSBsYXRlc3QuY3VycmVudCxcbiAgICAgIGxhdGVzdFByb3BzID0gX2xhdGVzdCRjdXJyZW50LnByb3BzLFxuICAgICAgbGF0ZXN0U3RhdGUgPSBfbGF0ZXN0JGN1cnJlbnQuc3RhdGU7XG4gICAgdmFyIF9nZXRJdGVtQW5kSW5kZXggPSBnZXRJdGVtQW5kSW5kZXgoaXRlbVByb3AsIGluZGV4UHJvcCwgbGF0ZXN0UHJvcHMuaXRlbXMsICdQYXNzIGVpdGhlciBpdGVtIG9yIGluZGV4IHRvIGdldEl0ZW1Qcm9wcyEnKSxcbiAgICAgIGl0ZW0gPSBfZ2V0SXRlbUFuZEluZGV4WzBdLFxuICAgICAgaW5kZXggPSBfZ2V0SXRlbUFuZEluZGV4WzFdO1xuICAgIHZhciBkaXNhYmxlZCA9IGxhdGVzdFByb3BzLmlzSXRlbURpc2FibGVkKGl0ZW0sIGluZGV4KTtcbiAgICB2YXIgb25TZWxlY3RLZXkgPSAnb25DbGljayc7XG4gICAgdmFyIGN1c3RvbUNsaWNrSGFuZGxlciA9IG9uQ2xpY2s7XG4gICAgdmFyIGl0ZW1IYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiBpdGVtSGFuZGxlTW91c2VNb3ZlKCkge1xuICAgICAgaWYgKGluZGV4ID09PSBsYXRlc3RTdGF0ZS5oaWdobGlnaHRlZEluZGV4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3VsZFNjcm9sbFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEl0ZW1Nb3VzZU1vdmUsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBpdGVtSGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBpdGVtSGFuZGxlQ2xpY2soKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEl0ZW1DbGljayxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBpdGVtSGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gaXRlbUhhbmRsZU1vdXNlRG93bihlKSB7XG4gICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07IC8vIGtlZXAgZm9jdXMgb24gdGhlIGlucHV0IGFmdGVyIGl0ZW0gY2xpY2sgc2VsZWN0LlxuXG4gICAgcmV0dXJuIF9leHRlbmRzKChfZXh0ZW5kczMgPSB7fSwgX2V4dGVuZHMzW3JlZktleV0gPSBoYW5kbGVSZWZzKHJlZiwgZnVuY3Rpb24gKGl0ZW1Ob2RlKSB7XG4gICAgICBpZiAoaXRlbU5vZGUpIHtcbiAgICAgICAgaXRlbVJlZnMuY3VycmVudFtlbGVtZW50SWRzLmdldEl0ZW1JZChpbmRleCldID0gaXRlbU5vZGU7XG4gICAgICB9XG4gICAgfSksIF9leHRlbmRzM1snYXJpYS1kaXNhYmxlZCddID0gZGlzYWJsZWQsIF9leHRlbmRzM1snYXJpYS1zZWxlY3RlZCddID0gXCJcIiArIChpbmRleCA9PT0gbGF0ZXN0U3RhdGUuaGlnaGxpZ2h0ZWRJbmRleCksIF9leHRlbmRzMy5pZCA9IGVsZW1lbnRJZHMuZ2V0SXRlbUlkKGluZGV4KSwgX2V4dGVuZHMzLnJvbGUgPSAnb3B0aW9uJywgX2V4dGVuZHMzKSwgIWRpc2FibGVkICYmIChfcmVmNCA9IHt9LCBfcmVmNFtvblNlbGVjdEtleV0gPSBjYWxsQWxsRXZlbnRIYW5kbGVycyhjdXN0b21DbGlja0hhbmRsZXIsIGl0ZW1IYW5kbGVDbGljayksIF9yZWY0KSwge1xuICAgICAgb25Nb3VzZU1vdmU6IGNhbGxBbGxFdmVudEhhbmRsZXJzKG9uTW91c2VNb3ZlLCBpdGVtSGFuZGxlTW91c2VNb3ZlKSxcbiAgICAgIG9uTW91c2VEb3duOiBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbk1vdXNlRG93biwgaXRlbUhhbmRsZU1vdXNlRG93bilcbiAgICB9LCByZXN0KTtcbiAgfSwgW2Rpc3BhdGNoLCBsYXRlc3QsIHNob3VsZFNjcm9sbFJlZiwgZWxlbWVudElkc10pO1xuICB2YXIgZ2V0VG9nZ2xlQnV0dG9uUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoX3RlbXA0KSB7XG4gICAgdmFyIF9leHRlbmRzNDtcbiAgICB2YXIgX3JlZjUgPSBfdGVtcDQgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA0LFxuICAgICAgb25DbGljayA9IF9yZWY1Lm9uQ2xpY2s7XG4gICAgICBfcmVmNS5vblByZXNzO1xuICAgICAgdmFyIF9yZWY1JHJlZktleSA9IF9yZWY1LnJlZktleSxcbiAgICAgIHJlZktleSA9IF9yZWY1JHJlZktleSA9PT0gdm9pZCAwID8gJ3JlZicgOiBfcmVmNSRyZWZLZXksXG4gICAgICByZWYgPSBfcmVmNS5yZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjUsIF9leGNsdWRlZDMpO1xuICAgIHZhciBsYXRlc3RTdGF0ZSA9IGxhdGVzdC5jdXJyZW50LnN0YXRlO1xuICAgIHZhciB0b2dnbGVCdXR0b25IYW5kbGVDbGljayA9IGZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbkhhbmRsZUNsaWNrKCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBUb2dnbGVCdXR0b25DbGlja1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gX2V4dGVuZHMoKF9leHRlbmRzNCA9IHt9LCBfZXh0ZW5kczRbcmVmS2V5XSA9IGhhbmRsZVJlZnMocmVmLCBmdW5jdGlvbiAodG9nZ2xlQnV0dG9uTm9kZSkge1xuICAgICAgdG9nZ2xlQnV0dG9uUmVmLmN1cnJlbnQgPSB0b2dnbGVCdXR0b25Ob2RlO1xuICAgIH0pLCBfZXh0ZW5kczRbJ2FyaWEtY29udHJvbHMnXSA9IGVsZW1lbnRJZHMubWVudUlkLCBfZXh0ZW5kczRbJ2FyaWEtZXhwYW5kZWQnXSA9IGxhdGVzdFN0YXRlLmlzT3BlbiwgX2V4dGVuZHM0LmlkID0gZWxlbWVudElkcy50b2dnbGVCdXR0b25JZCwgX2V4dGVuZHM0LnRhYkluZGV4ID0gLTEsIF9leHRlbmRzNCksICFyZXN0LmRpc2FibGVkICYmIF9leHRlbmRzKHt9LCB7XG4gICAgICBvbkNsaWNrOiBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbkNsaWNrLCB0b2dnbGVCdXR0b25IYW5kbGVDbGljaylcbiAgICB9KSwgcmVzdCk7XG4gIH0sIFtkaXNwYXRjaCwgbGF0ZXN0LCBlbGVtZW50SWRzXSk7XG4gIHZhciBnZXRJbnB1dFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKF90ZW1wNSwgX3RlbXA2KSB7XG4gICAgdmFyIF9leHRlbmRzNTtcbiAgICB2YXIgX3JlZjYgPSBfdGVtcDUgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA1LFxuICAgICAgb25LZXlEb3duID0gX3JlZjYub25LZXlEb3duLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmNi5vbkNoYW5nZSxcbiAgICAgIG9uSW5wdXQgPSBfcmVmNi5vbklucHV0LFxuICAgICAgb25CbHVyID0gX3JlZjYub25CbHVyO1xuICAgICAgX3JlZjYub25DaGFuZ2VUZXh0O1xuICAgICAgdmFyIG9uQ2xpY2sgPSBfcmVmNi5vbkNsaWNrLFxuICAgICAgX3JlZjYkcmVmS2V5ID0gX3JlZjYucmVmS2V5LFxuICAgICAgcmVmS2V5ID0gX3JlZjYkcmVmS2V5ID09PSB2b2lkIDAgPyAncmVmJyA6IF9yZWY2JHJlZktleSxcbiAgICAgIHJlZiA9IF9yZWY2LnJlZixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmNiwgX2V4Y2x1ZGVkNCk7XG4gICAgdmFyIF9yZWY3ID0gX3RlbXA2ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNixcbiAgICAgIF9yZWY3JHN1cHByZXNzUmVmRXJybyA9IF9yZWY3LnN1cHByZXNzUmVmRXJyb3IsXG4gICAgICBzdXBwcmVzc1JlZkVycm9yID0gX3JlZjckc3VwcHJlc3NSZWZFcnJvID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY3JHN1cHByZXNzUmVmRXJybztcbiAgICBzZXRHZXR0ZXJQcm9wQ2FsbEluZm8oJ2dldElucHV0UHJvcHMnLCBzdXBwcmVzc1JlZkVycm9yLCByZWZLZXksIGlucHV0UmVmKTtcbiAgICB2YXIgbGF0ZXN0U3RhdGUgPSBsYXRlc3QuY3VycmVudC5zdGF0ZTtcbiAgICB2YXIgaW5wdXRIYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gaW5wdXRIYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICB2YXIga2V5ID0gbm9ybWFsaXplQXJyb3dLZXkoZXZlbnQpO1xuICAgICAgaWYgKGtleSAmJiBpbnB1dEtleURvd25IYW5kbGVyc1trZXldKSB7XG4gICAgICAgIGlucHV0S2V5RG93bkhhbmRsZXJzW2tleV0oZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGlucHV0SGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaW5wdXRIYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogSW5wdXRDaGFuZ2UsXG4gICAgICAgIGlucHV0VmFsdWU6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgaW5wdXRIYW5kbGVCbHVyID0gZnVuY3Rpb24gaW5wdXRIYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKGVudmlyb25tZW50ICE9IG51bGwgJiYgZW52aXJvbm1lbnQuZG9jdW1lbnQgJiYgbGF0ZXN0U3RhdGUuaXNPcGVuICYmICFtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYuY3VycmVudC5pc01vdXNlRG93bikge1xuICAgICAgICB2YXIgaXNCbHVyQnlUYWJDaGFuZ2UgPSBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsICYmIGVudmlyb25tZW50LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGVudmlyb25tZW50LmRvY3VtZW50LmJvZHk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBJbnB1dEJsdXIsXG4gICAgICAgICAgc2VsZWN0SXRlbTogIWlzQmx1ckJ5VGFiQ2hhbmdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGlucHV0SGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBpbnB1dEhhbmRsZUNsaWNrKCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBJbnB1dENsaWNrXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKHByZWFjdCkgKi9cbiAgICB2YXIgb25DaGFuZ2VLZXkgPSAnb25DaGFuZ2UnO1xuICAgIHZhciBldmVudEhhbmRsZXJzID0ge307XG4gICAgaWYgKCFyZXN0LmRpc2FibGVkKSB7XG4gICAgICB2YXIgX2V2ZW50SGFuZGxlcnM7XG4gICAgICBldmVudEhhbmRsZXJzID0gKF9ldmVudEhhbmRsZXJzID0ge30sIF9ldmVudEhhbmRsZXJzW29uQ2hhbmdlS2V5XSA9IGNhbGxBbGxFdmVudEhhbmRsZXJzKG9uQ2hhbmdlLCBvbklucHV0LCBpbnB1dEhhbmRsZUNoYW5nZSksIF9ldmVudEhhbmRsZXJzLm9uS2V5RG93biA9IGNhbGxBbGxFdmVudEhhbmRsZXJzKG9uS2V5RG93biwgaW5wdXRIYW5kbGVLZXlEb3duKSwgX2V2ZW50SGFuZGxlcnMub25CbHVyID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25CbHVyLCBpbnB1dEhhbmRsZUJsdXIpLCBfZXZlbnRIYW5kbGVycy5vbkNsaWNrID0gY2FsbEFsbEV2ZW50SGFuZGxlcnMob25DbGljaywgaW5wdXRIYW5kbGVDbGljayksIF9ldmVudEhhbmRsZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIF9leHRlbmRzKChfZXh0ZW5kczUgPSB7fSwgX2V4dGVuZHM1W3JlZktleV0gPSBoYW5kbGVSZWZzKHJlZiwgZnVuY3Rpb24gKGlucHV0Tm9kZSkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudCA9IGlucHV0Tm9kZTtcbiAgICB9KSwgX2V4dGVuZHM1WydhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnXSA9IGxhdGVzdFN0YXRlLmlzT3BlbiAmJiBsYXRlc3RTdGF0ZS5oaWdobGlnaHRlZEluZGV4ID4gLTEgPyBlbGVtZW50SWRzLmdldEl0ZW1JZChsYXRlc3RTdGF0ZS5oaWdobGlnaHRlZEluZGV4KSA6ICcnLCBfZXh0ZW5kczVbJ2FyaWEtYXV0b2NvbXBsZXRlJ10gPSAnbGlzdCcsIF9leHRlbmRzNVsnYXJpYS1jb250cm9scyddID0gZWxlbWVudElkcy5tZW51SWQsIF9leHRlbmRzNVsnYXJpYS1leHBhbmRlZCddID0gbGF0ZXN0U3RhdGUuaXNPcGVuLCBfZXh0ZW5kczVbJ2FyaWEtbGFiZWxsZWRieSddID0gcmVzdCAmJiByZXN0WydhcmlhLWxhYmVsJ10gPyB1bmRlZmluZWQgOiBlbGVtZW50SWRzLmxhYmVsSWQsIF9leHRlbmRzNS5hdXRvQ29tcGxldGUgPSAnb2ZmJywgX2V4dGVuZHM1LmlkID0gZWxlbWVudElkcy5pbnB1dElkLCBfZXh0ZW5kczUucm9sZSA9ICdjb21ib2JveCcsIF9leHRlbmRzNS52YWx1ZSA9IGxhdGVzdFN0YXRlLmlucHV0VmFsdWUsIF9leHRlbmRzNSksIGV2ZW50SGFuZGxlcnMsIHJlc3QpO1xuICB9LCBbc2V0R2V0dGVyUHJvcENhbGxJbmZvLCBsYXRlc3QsIGVsZW1lbnRJZHMsIGlucHV0S2V5RG93bkhhbmRsZXJzLCBkaXNwYXRjaCwgbW91c2VBbmRUb3VjaFRyYWNrZXJzUmVmLCBlbnZpcm9ubWVudF0pO1xuXG4gIC8vIHJldHVybnNcbiAgdmFyIHRvZ2dsZU1lbnUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25Ub2dnbGVNZW51XG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgY2xvc2VNZW51ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uQ2xvc2VNZW51XG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgb3Blbk1lbnUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25PcGVuTWVudVxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgdmFyIHNldEhpZ2hsaWdodGVkSW5kZXggPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobmV3SGlnaGxpZ2h0ZWRJbmRleCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uU2V0SGlnaGxpZ2h0ZWRJbmRleCxcbiAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IG5ld0hpZ2hsaWdodGVkSW5kZXhcbiAgICB9KTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIHZhciBzZWxlY3RJdGVtID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5ld1NlbGVjdGVkSXRlbSkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uU2VsZWN0SXRlbSxcbiAgICAgIHNlbGVjdGVkSXRlbTogbmV3U2VsZWN0ZWRJdGVtXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgc2V0SW5wdXRWYWx1ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdJbnB1dFZhbHVlKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25TZXRJbnB1dFZhbHVlLFxuICAgICAgaW5wdXRWYWx1ZTogbmV3SW5wdXRWYWx1ZVxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgdmFyIHJlc2V0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uUmVzZXQkMVxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgcmV0dXJuIHtcbiAgICAvLyBwcm9wIGdldHRlcnMuXG4gICAgZ2V0SXRlbVByb3BzOiBnZXRJdGVtUHJvcHMsXG4gICAgZ2V0TGFiZWxQcm9wczogZ2V0TGFiZWxQcm9wcyxcbiAgICBnZXRNZW51UHJvcHM6IGdldE1lbnVQcm9wcyxcbiAgICBnZXRJbnB1dFByb3BzOiBnZXRJbnB1dFByb3BzLFxuICAgIGdldFRvZ2dsZUJ1dHRvblByb3BzOiBnZXRUb2dnbGVCdXR0b25Qcm9wcyxcbiAgICAvLyBhY3Rpb25zLlxuICAgIHRvZ2dsZU1lbnU6IHRvZ2dsZU1lbnUsXG4gICAgb3Blbk1lbnU6IG9wZW5NZW51LFxuICAgIGNsb3NlTWVudTogY2xvc2VNZW51LFxuICAgIHNldEhpZ2hsaWdodGVkSW5kZXg6IHNldEhpZ2hsaWdodGVkSW5kZXgsXG4gICAgc2V0SW5wdXRWYWx1ZTogc2V0SW5wdXRWYWx1ZSxcbiAgICBzZWxlY3RJdGVtOiBzZWxlY3RJdGVtLFxuICAgIHJlc2V0OiByZXNldCxcbiAgICAvLyBzdGF0ZS5cbiAgICBoaWdobGlnaHRlZEluZGV4OiBoaWdobGlnaHRlZEluZGV4LFxuICAgIGlzT3BlbjogaXNPcGVuLFxuICAgIHNlbGVjdGVkSXRlbTogc2VsZWN0ZWRJdGVtLFxuICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWVcbiAgfTtcbn1cblxudmFyIGRlZmF1bHRTdGF0ZVZhbHVlcyA9IHtcbiAgYWN0aXZlSW5kZXg6IC0xLFxuICBzZWxlY3RlZEl0ZW1zOiBbXVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbml0aWFsIHZhbHVlIGZvciBhIHN0YXRlIGtleSBpbiB0aGUgZm9sbG93aW5nIG9yZGVyOlxuICogMS4gY29udHJvbGxlZCBwcm9wLCAyLiBpbml0aWFsIHByb3AsIDMuIGRlZmF1bHQgcHJvcCwgNC4gZGVmYXVsdFxuICogdmFsdWUgZnJvbSBEb3duc2hpZnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BzIHBhc3NlZCB0byB0aGUgaG9vay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wS2V5IFByb3BzIGtleSB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgZm9yLlxuICogQHJldHVybnMge2FueX0gVGhlIGluaXRpYWwgdmFsdWUgZm9yIHRoYXQgcHJvcC5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5pdGlhbFZhbHVlKHByb3BzLCBwcm9wS2V5KSB7XG4gIHJldHVybiBnZXRJbml0aWFsVmFsdWUkMShwcm9wcywgcHJvcEtleSwgZGVmYXVsdFN0YXRlVmFsdWVzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBhIHN0YXRlIGtleSBpbiB0aGUgZm9sbG93aW5nIG9yZGVyOlxuICogMS4gY29udHJvbGxlZCBwcm9wLCAyLiBkZWZhdWx0IHByb3AsIDMuIGRlZmF1bHQgdmFsdWUgZnJvbSBEb3duc2hpZnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BzIHBhc3NlZCB0byB0aGUgaG9vay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wS2V5IFByb3BzIGtleSB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgZm9yLlxuICogQHJldHVybnMge2FueX0gVGhlIGluaXRpYWwgdmFsdWUgZm9yIHRoYXQgcHJvcC5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlKHByb3BzLCBwcm9wS2V5KSB7XG4gIHJldHVybiBnZXREZWZhdWx0VmFsdWUkMShwcm9wcywgcHJvcEtleSwgZGVmYXVsdFN0YXRlVmFsdWVzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbml0aWFsIHN0YXRlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwcm9wcy4gSXQgdXNlcyBpbml0aWFsLCBkZWZhdWx0XG4gKiBhbmQgY29udHJvbGxlZCBwcm9wcyByZWxhdGVkIHRvIHN0YXRlIGluIG9yZGVyIHRvIGNvbXB1dGUgdGhlIGluaXRpYWwgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BzIHBhc3NlZCB0byB0aGUgaG9vay5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBpbml0aWFsIHN0YXRlLlxuICovXG5mdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUocHJvcHMpIHtcbiAgdmFyIGFjdGl2ZUluZGV4ID0gZ2V0SW5pdGlhbFZhbHVlKHByb3BzLCAnYWN0aXZlSW5kZXgnKTtcbiAgdmFyIHNlbGVjdGVkSXRlbXMgPSBnZXRJbml0aWFsVmFsdWUocHJvcHMsICdzZWxlY3RlZEl0ZW1zJyk7XG4gIHJldHVybiB7XG4gICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4LFxuICAgIHNlbGVjdGVkSXRlbXM6IHNlbGVjdGVkSXRlbXNcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZHJvcGRvd24ga2V5ZG93biBvcGVyYXRpb24gaXMgcGVybWl0dGVkLiBTaG91bGQgbm90IGJlXG4gKiBhbGxvd2VkIG9uIGtleWRvd24gd2l0aCBtb2RpZmllciBrZXlzIChjdHJsLCBhbHQsIHNoaWZ0LCBtZXRhKSwgb25cbiAqIGlucHV0IGVsZW1lbnQgd2l0aCB0ZXh0IGNvbnRlbnQgdGhhdCBpcyBlaXRoZXIgaGlnaGxpZ2h0ZWQgb3Igc2VsZWN0aW9uXG4gKiBjdXJzb3IgaXMgbm90IGF0IHRoZSBzdGFydGluZyBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBldmVudCBmcm9tIGtleWRvd24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgb3BlcmF0aW9uIGlzIGFsbG93ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5RG93bk9wZXJhdGlvblBlcm1pdHRlZChldmVudCkge1xuICBpZiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmXG4gIC8vIGlmIGVsZW1lbnQgaXMgYSB0ZXh0IGlucHV0XG4gIGVsZW1lbnQudmFsdWUgIT09ICcnICYmIChcbiAgLy8gYW5kIHdlIGhhdmUgdGV4dCBpbiBpdFxuICAvLyBhbmQgY3Vyc29yIGlzIGVpdGhlciBub3QgYXQgdGhlIHN0YXJ0IG9yIGlzIGN1cnJlbnRseSBoaWdobGlnaHRpbmcgdGV4dC5cbiAgZWxlbWVudC5zZWxlY3Rpb25TdGFydCAhPT0gMCB8fCBlbGVtZW50LnNlbGVjdGlvbkVuZCAhPT0gMCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG1lc3NhZ2UgdG8gYmUgYWRkZWQgdG8gYXJpYS1saXZlIHJlZ2lvbiB3aGVuIGl0ZW0gaXMgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VsZWN0aW9uUGFyYW1ldGVycyBQYXJhbWV0ZXJzIHJlcXVpcmVkIHRvIGJ1aWxkIHRoZSBtZXNzYWdlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGExMXkgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gZ2V0QTExeVJlbW92YWxNZXNzYWdlKHNlbGVjdGlvblBhcmFtZXRlcnMpIHtcbiAgdmFyIHJlbW92ZWRTZWxlY3RlZEl0ZW0gPSBzZWxlY3Rpb25QYXJhbWV0ZXJzLnJlbW92ZWRTZWxlY3RlZEl0ZW0sXG4gICAgaXRlbVRvU3RyaW5nTG9jYWwgPSBzZWxlY3Rpb25QYXJhbWV0ZXJzLml0ZW1Ub1N0cmluZztcbiAgcmV0dXJuIGl0ZW1Ub1N0cmluZ0xvY2FsKHJlbW92ZWRTZWxlY3RlZEl0ZW0pICsgXCIgaGFzIGJlZW4gcmVtb3ZlZC5cIjtcbn1cbnZhciBwcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgY29tbW9uUHJvcFR5cGVzLCB7XG4gIHNlbGVjdGVkSXRlbXM6IFByb3BUeXBlcy5hcnJheSxcbiAgaW5pdGlhbFNlbGVjdGVkSXRlbXM6IFByb3BUeXBlcy5hcnJheSxcbiAgZGVmYXVsdFNlbGVjdGVkSXRlbXM6IFByb3BUeXBlcy5hcnJheSxcbiAgZ2V0QTExeVJlbW92YWxNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgYWN0aXZlSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGluaXRpYWxBY3RpdmVJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgZGVmYXVsdEFjdGl2ZUluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICBvbkFjdGl2ZUluZGV4Q2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25TZWxlY3RlZEl0ZW1zQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAga2V5TmF2aWdhdGlvbk5leHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGtleU5hdmlnYXRpb25QcmV2aW91czogUHJvcFR5cGVzLnN0cmluZ1xufSk7XG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBpdGVtVG9TdHJpbmc6IGRlZmF1bHRQcm9wcyQzLml0ZW1Ub1N0cmluZyxcbiAgc3RhdGVSZWR1Y2VyOiBkZWZhdWx0UHJvcHMkMy5zdGF0ZVJlZHVjZXIsXG4gIGVudmlyb25tZW50OiBkZWZhdWx0UHJvcHMkMy5lbnZpcm9ubWVudCxcbiAgZ2V0QTExeVJlbW92YWxNZXNzYWdlOiBnZXRBMTF5UmVtb3ZhbE1lc3NhZ2UsXG4gIGtleU5hdmlnYXRpb25OZXh0OiAnQXJyb3dSaWdodCcsXG4gIGtleU5hdmlnYXRpb25QcmV2aW91czogJ0Fycm93TGVmdCdcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG52YXIgdmFsaWRhdGVQcm9wVHlwZXMgPSBub29wO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlUHJvcFR5cGVzID0gZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMob3B0aW9ucywgY2FsbGVyKSB7XG4gICAgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKHByb3BUeXBlcywgb3B0aW9ucywgJ3Byb3AnLCBjYWxsZXIubmFtZSk7XG4gIH07XG59XG5cbnZhciBTZWxlY3RlZEl0ZW1DbGljayA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX3NlbGVjdGVkX2l0ZW1fY2xpY2tfXycgOiAwO1xudmFyIFNlbGVjdGVkSXRlbUtleURvd25EZWxldGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19zZWxlY3RlZF9pdGVtX2tleWRvd25fZGVsZXRlX18nIDogMTtcbnZhciBTZWxlY3RlZEl0ZW1LZXlEb3duQmFja3NwYWNlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fc2VsZWN0ZWRfaXRlbV9rZXlkb3duX2JhY2tzcGFjZV9fJyA6IDI7XG52YXIgU2VsZWN0ZWRJdGVtS2V5RG93bk5hdmlnYXRpb25OZXh0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fc2VsZWN0ZWRfaXRlbV9rZXlkb3duX25hdmlnYXRpb25fbmV4dF9fJyA6IDM7XG52YXIgU2VsZWN0ZWRJdGVtS2V5RG93bk5hdmlnYXRpb25QcmV2aW91cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX3NlbGVjdGVkX2l0ZW1fa2V5ZG93bl9uYXZpZ2F0aW9uX3ByZXZpb3VzX18nIDogNDtcbnZhciBEcm9wZG93bktleURvd25OYXZpZ2F0aW9uUHJldmlvdXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19kcm9wZG93bl9rZXlkb3duX25hdmlnYXRpb25fcHJldmlvdXNfXycgOiA1O1xudmFyIERyb3Bkb3duS2V5RG93bkJhY2tzcGFjZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2Ryb3Bkb3duX2tleWRvd25fYmFja3NwYWNlX18nIDogNjtcbnZhciBEcm9wZG93bkNsaWNrID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZHJvcGRvd25fY2xpY2tfXycgOiA3O1xudmFyIEZ1bmN0aW9uQWRkU2VsZWN0ZWRJdGVtID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fYWRkX3NlbGVjdGVkX2l0ZW1fXycgOiA4O1xudmFyIEZ1bmN0aW9uUmVtb3ZlU2VsZWN0ZWRJdGVtID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gJ19fZnVuY3Rpb25fcmVtb3ZlX3NlbGVjdGVkX2l0ZW1fXycgOiA5O1xudmFyIEZ1bmN0aW9uU2V0U2VsZWN0ZWRJdGVtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2Z1bmN0aW9uX3NldF9zZWxlY3RlZF9pdGVtc19fJyA6IDEwO1xudmFyIEZ1bmN0aW9uU2V0QWN0aXZlSW5kZXggPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnX19mdW5jdGlvbl9zZXRfYWN0aXZlX2luZGV4X18nIDogMTE7XG52YXIgRnVuY3Rpb25SZXNldCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdfX2Z1bmN0aW9uX3Jlc2V0X18nIDogMTI7XG5cbnZhciBzdGF0ZUNoYW5nZVR5cGVzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIFNlbGVjdGVkSXRlbUNsaWNrOiBTZWxlY3RlZEl0ZW1DbGljayxcbiAgU2VsZWN0ZWRJdGVtS2V5RG93bkRlbGV0ZTogU2VsZWN0ZWRJdGVtS2V5RG93bkRlbGV0ZSxcbiAgU2VsZWN0ZWRJdGVtS2V5RG93bkJhY2tzcGFjZTogU2VsZWN0ZWRJdGVtS2V5RG93bkJhY2tzcGFjZSxcbiAgU2VsZWN0ZWRJdGVtS2V5RG93bk5hdmlnYXRpb25OZXh0OiBTZWxlY3RlZEl0ZW1LZXlEb3duTmF2aWdhdGlvbk5leHQsXG4gIFNlbGVjdGVkSXRlbUtleURvd25OYXZpZ2F0aW9uUHJldmlvdXM6IFNlbGVjdGVkSXRlbUtleURvd25OYXZpZ2F0aW9uUHJldmlvdXMsXG4gIERyb3Bkb3duS2V5RG93bk5hdmlnYXRpb25QcmV2aW91czogRHJvcGRvd25LZXlEb3duTmF2aWdhdGlvblByZXZpb3VzLFxuICBEcm9wZG93bktleURvd25CYWNrc3BhY2U6IERyb3Bkb3duS2V5RG93bkJhY2tzcGFjZSxcbiAgRHJvcGRvd25DbGljazogRHJvcGRvd25DbGljayxcbiAgRnVuY3Rpb25BZGRTZWxlY3RlZEl0ZW06IEZ1bmN0aW9uQWRkU2VsZWN0ZWRJdGVtLFxuICBGdW5jdGlvblJlbW92ZVNlbGVjdGVkSXRlbTogRnVuY3Rpb25SZW1vdmVTZWxlY3RlZEl0ZW0sXG4gIEZ1bmN0aW9uU2V0U2VsZWN0ZWRJdGVtczogRnVuY3Rpb25TZXRTZWxlY3RlZEl0ZW1zLFxuICBGdW5jdGlvblNldEFjdGl2ZUluZGV4OiBGdW5jdGlvblNldEFjdGl2ZUluZGV4LFxuICBGdW5jdGlvblJlc2V0OiBGdW5jdGlvblJlc2V0XG59KTtcblxuLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSAqL1xuZnVuY3Rpb24gZG93bnNoaWZ0TXVsdGlwbGVTZWxlY3Rpb25SZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgdmFyIHR5cGUgPSBhY3Rpb24udHlwZSxcbiAgICBpbmRleCA9IGFjdGlvbi5pbmRleCxcbiAgICBwcm9wcyA9IGFjdGlvbi5wcm9wcyxcbiAgICBzZWxlY3RlZEl0ZW0gPSBhY3Rpb24uc2VsZWN0ZWRJdGVtO1xuICB2YXIgYWN0aXZlSW5kZXggPSBzdGF0ZS5hY3RpdmVJbmRleCxcbiAgICBzZWxlY3RlZEl0ZW1zID0gc3RhdGUuc2VsZWN0ZWRJdGVtcztcbiAgdmFyIGNoYW5nZXM7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgU2VsZWN0ZWRJdGVtQ2xpY2s6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBhY3RpdmVJbmRleDogaW5kZXhcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNlbGVjdGVkSXRlbUtleURvd25OYXZpZ2F0aW9uUHJldmlvdXM6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBhY3RpdmVJbmRleDogYWN0aXZlSW5kZXggLSAxIDwgMCA/IDAgOiBhY3RpdmVJbmRleCAtIDFcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNlbGVjdGVkSXRlbUtleURvd25OYXZpZ2F0aW9uTmV4dDpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleCArIDEgPj0gc2VsZWN0ZWRJdGVtcy5sZW5ndGggPyAtMSA6IGFjdGl2ZUluZGV4ICsgMVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU2VsZWN0ZWRJdGVtS2V5RG93bkJhY2tzcGFjZTpcbiAgICBjYXNlIFNlbGVjdGVkSXRlbUtleURvd25EZWxldGU6XG4gICAgICB7XG4gICAgICAgIGlmIChhY3RpdmVJbmRleCA8IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgbmV3QWN0aXZlSW5kZXggPSAtMTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbmRleCA9PT0gc2VsZWN0ZWRJdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgbmV3QWN0aXZlSW5kZXggPSBzZWxlY3RlZEl0ZW1zLmxlbmd0aCAtIDI7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlcyA9IF9leHRlbmRzKHtcbiAgICAgICAgICBzZWxlY3RlZEl0ZW1zOiBbXS5jb25jYXQoc2VsZWN0ZWRJdGVtcy5zbGljZSgwLCBhY3RpdmVJbmRleCksIHNlbGVjdGVkSXRlbXMuc2xpY2UoYWN0aXZlSW5kZXggKyAxKSlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFjdGl2ZUluZGV4OiBuZXdBY3RpdmVJbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBEcm9wZG93bktleURvd25OYXZpZ2F0aW9uUHJldmlvdXM6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBhY3RpdmVJbmRleDogc2VsZWN0ZWRJdGVtcy5sZW5ndGggLSAxXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBEcm9wZG93bktleURvd25CYWNrc3BhY2U6XG4gICAgICBjaGFuZ2VzID0ge1xuICAgICAgICBzZWxlY3RlZEl0ZW1zOiBzZWxlY3RlZEl0ZW1zLnNsaWNlKDAsIHNlbGVjdGVkSXRlbXMubGVuZ3RoIC0gMSlcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIEZ1bmN0aW9uQWRkU2VsZWN0ZWRJdGVtOlxuICAgICAgY2hhbmdlcyA9IHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtczogW10uY29uY2F0KHNlbGVjdGVkSXRlbXMsIFtzZWxlY3RlZEl0ZW1dKVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRHJvcGRvd25DbGljazpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGFjdGl2ZUluZGV4OiAtMVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRnVuY3Rpb25SZW1vdmVTZWxlY3RlZEl0ZW06XG4gICAgICB7XG4gICAgICAgIHZhciBfbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICAgICAgdmFyIHNlbGVjdGVkSXRlbUluZGV4ID0gc2VsZWN0ZWRJdGVtcy5pbmRleE9mKHNlbGVjdGVkSXRlbSk7XG4gICAgICAgIGlmIChzZWxlY3RlZEl0ZW1JbmRleCA8IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBfbmV3QWN0aXZlSW5kZXggPSAtMTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZEl0ZW1JbmRleCA9PT0gc2VsZWN0ZWRJdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgX25ld0FjdGl2ZUluZGV4ID0gc2VsZWN0ZWRJdGVtcy5sZW5ndGggLSAyO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgICAgc2VsZWN0ZWRJdGVtczogW10uY29uY2F0KHNlbGVjdGVkSXRlbXMuc2xpY2UoMCwgc2VsZWN0ZWRJdGVtSW5kZXgpLCBzZWxlY3RlZEl0ZW1zLnNsaWNlKHNlbGVjdGVkSXRlbUluZGV4ICsgMSkpLFxuICAgICAgICAgIGFjdGl2ZUluZGV4OiBfbmV3QWN0aXZlSW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBGdW5jdGlvblNldFNlbGVjdGVkSXRlbXM6XG4gICAgICB7XG4gICAgICAgIHZhciBuZXdTZWxlY3RlZEl0ZW1zID0gYWN0aW9uLnNlbGVjdGVkSXRlbXM7XG4gICAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgICAgc2VsZWN0ZWRJdGVtczogbmV3U2VsZWN0ZWRJdGVtc1xuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIEZ1bmN0aW9uU2V0QWN0aXZlSW5kZXg6XG4gICAgICB7XG4gICAgICAgIHZhciBfbmV3QWN0aXZlSW5kZXgyID0gYWN0aW9uLmFjdGl2ZUluZGV4O1xuICAgICAgICBjaGFuZ2VzID0ge1xuICAgICAgICAgIGFjdGl2ZUluZGV4OiBfbmV3QWN0aXZlSW5kZXgyXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgRnVuY3Rpb25SZXNldDpcbiAgICAgIGNoYW5nZXMgPSB7XG4gICAgICAgIGFjdGl2ZUluZGV4OiBnZXREZWZhdWx0VmFsdWUocHJvcHMsICdhY3RpdmVJbmRleCcpLFxuICAgICAgICBzZWxlY3RlZEl0ZW1zOiBnZXREZWZhdWx0VmFsdWUocHJvcHMsICdzZWxlY3RlZEl0ZW1zJylcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIGNhbGxlZCB3aXRob3V0IHByb3BlciBhY3Rpb24gdHlwZS4nKTtcbiAgfVxuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCBjaGFuZ2VzKTtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcInJlZktleVwiLCBcInJlZlwiLCBcIm9uQ2xpY2tcIiwgXCJvbktleURvd25cIiwgXCJzZWxlY3RlZEl0ZW1cIiwgXCJpbmRleFwiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcInJlZktleVwiLCBcInJlZlwiLCBcIm9uS2V5RG93blwiLCBcIm9uQ2xpY2tcIiwgXCJwcmV2ZW50S2V5QWN0aW9uXCJdO1xudXNlTXVsdGlwbGVTZWxlY3Rpb24uc3RhdGVDaGFuZ2VUeXBlcyA9IHN0YXRlQ2hhbmdlVHlwZXM7XG5mdW5jdGlvbiB1c2VNdWx0aXBsZVNlbGVjdGlvbih1c2VyUHJvcHMpIHtcbiAgaWYgKHVzZXJQcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgdXNlclByb3BzID0ge307XG4gIH1cbiAgdmFsaWRhdGVQcm9wVHlwZXModXNlclByb3BzLCB1c2VNdWx0aXBsZVNlbGVjdGlvbik7XG4gIC8vIFByb3BzIGRlZmF1bHRzIGFuZCBkZXN0cnVjdHVyaW5nLlxuICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdFByb3BzLCB1c2VyUHJvcHMpO1xuICB2YXIgZ2V0QTExeVJlbW92YWxNZXNzYWdlID0gcHJvcHMuZ2V0QTExeVJlbW92YWxNZXNzYWdlLFxuICAgIGl0ZW1Ub1N0cmluZyA9IHByb3BzLml0ZW1Ub1N0cmluZyxcbiAgICBlbnZpcm9ubWVudCA9IHByb3BzLmVudmlyb25tZW50LFxuICAgIGtleU5hdmlnYXRpb25OZXh0ID0gcHJvcHMua2V5TmF2aWdhdGlvbk5leHQsXG4gICAga2V5TmF2aWdhdGlvblByZXZpb3VzID0gcHJvcHMua2V5TmF2aWdhdGlvblByZXZpb3VzO1xuXG4gIC8vIFJlZHVjZXIgaW5pdC5cbiAgdmFyIF91c2VDb250cm9sbGVkUmVkdWNlciA9IHVzZUNvbnRyb2xsZWRSZWR1Y2VyJDEoZG93bnNoaWZ0TXVsdGlwbGVTZWxlY3Rpb25SZWR1Y2VyLCBwcm9wcywgZ2V0SW5pdGlhbFN0YXRlKSxcbiAgICBzdGF0ZSA9IF91c2VDb250cm9sbGVkUmVkdWNlclswXSxcbiAgICBkaXNwYXRjaCA9IF91c2VDb250cm9sbGVkUmVkdWNlclsxXTtcbiAgdmFyIGFjdGl2ZUluZGV4ID0gc3RhdGUuYWN0aXZlSW5kZXgsXG4gICAgc2VsZWN0ZWRJdGVtcyA9IHN0YXRlLnNlbGVjdGVkSXRlbXM7XG5cbiAgLy8gUmVmcy5cbiAgdmFyIGlzSW5pdGlhbE1vdW50UmVmID0gdXNlUmVmKHRydWUpO1xuICB2YXIgZHJvcGRvd25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBwcmV2aW91c1NlbGVjdGVkSXRlbXNSZWYgPSB1c2VSZWYoc2VsZWN0ZWRJdGVtcyk7XG4gIHZhciBzZWxlY3RlZEl0ZW1SZWZzID0gdXNlUmVmKCk7XG4gIHNlbGVjdGVkSXRlbVJlZnMuY3VycmVudCA9IFtdO1xuICB2YXIgbGF0ZXN0ID0gdXNlTGF0ZXN0UmVmKHtcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgcHJvcHM6IHByb3BzXG4gIH0pO1xuXG4gIC8vIEVmZmVjdHMuXG4gIC8qIFNldHMgYTExeSBzdGF0dXMgbWVzc2FnZSBvbiBjaGFuZ2VzIGluIHNlbGVjdGVkSXRlbS4gKi9cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNJbml0aWFsTW91bnRSZWYuY3VycmVudCB8fCBmYWxzZSB8fCAhKGVudmlyb25tZW50ICE9IG51bGwgJiYgZW52aXJvbm1lbnQuZG9jdW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzZWxlY3RlZEl0ZW1zLmxlbmd0aCA8IHByZXZpb3VzU2VsZWN0ZWRJdGVtc1JlZi5jdXJyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyIHJlbW92ZWRTZWxlY3RlZEl0ZW0gPSBwcmV2aW91c1NlbGVjdGVkSXRlbXNSZWYuY3VycmVudC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZEl0ZW1zLmluZGV4T2YoaXRlbSkgPCAwO1xuICAgICAgfSk7XG4gICAgICBzZXRTdGF0dXMoZ2V0QTExeVJlbW92YWxNZXNzYWdlKHtcbiAgICAgICAgaXRlbVRvU3RyaW5nOiBpdGVtVG9TdHJpbmcsXG4gICAgICAgIHJlc3VsdENvdW50OiBzZWxlY3RlZEl0ZW1zLmxlbmd0aCxcbiAgICAgICAgcmVtb3ZlZFNlbGVjdGVkSXRlbTogcmVtb3ZlZFNlbGVjdGVkSXRlbSxcbiAgICAgICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4LFxuICAgICAgICBhY3RpdmVTZWxlY3RlZEl0ZW06IHNlbGVjdGVkSXRlbXNbYWN0aXZlSW5kZXhdXG4gICAgICB9KSwgZW52aXJvbm1lbnQuZG9jdW1lbnQpO1xuICAgIH1cbiAgICBwcmV2aW91c1NlbGVjdGVkSXRlbXNSZWYuY3VycmVudCA9IHNlbGVjdGVkSXRlbXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtzZWxlY3RlZEl0ZW1zLmxlbmd0aF0pO1xuICAvLyBTZXRzIGZvY3VzIG9uIGFjdGl2ZSBpdGVtLlxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc0luaXRpYWxNb3VudFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChhY3RpdmVJbmRleCA9PT0gLTEgJiYgZHJvcGRvd25SZWYuY3VycmVudCkge1xuICAgICAgZHJvcGRvd25SZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRJdGVtUmVmcy5jdXJyZW50W2FjdGl2ZUluZGV4XSkge1xuICAgICAgc2VsZWN0ZWRJdGVtUmVmcy5jdXJyZW50W2FjdGl2ZUluZGV4XS5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2FjdGl2ZUluZGV4XSk7XG4gIHVzZUNvbnRyb2xQcm9wc1ZhbGlkYXRvcih7XG4gICAgaXNJbml0aWFsTW91bnQ6IGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQsXG4gICAgcHJvcHM6IHByb3BzLFxuICAgIHN0YXRlOiBzdGF0ZVxuICB9KTtcbiAgdmFyIHNldEdldHRlclByb3BDYWxsSW5mbyA9IHVzZUdldHRlclByb3BzQ2FsbGVkQ2hlY2tlcignZ2V0RHJvcGRvd25Qcm9wcycpO1xuICAvLyBNYWtlIGluaXRpYWwgcmVmIGZhbHNlLlxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlzSW5pdGlhbE1vdW50UmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaXNJbml0aWFsTW91bnRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zLlxuICB2YXIgc2VsZWN0ZWRJdGVtS2V5RG93bkhhbmRsZXJzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9yZWY7XG4gICAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZltrZXlOYXZpZ2F0aW9uUHJldmlvdXNdID0gZnVuY3Rpb24gKCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBTZWxlY3RlZEl0ZW1LZXlEb3duTmF2aWdhdGlvblByZXZpb3VzXG4gICAgICB9KTtcbiAgICB9LCBfcmVmW2tleU5hdmlnYXRpb25OZXh0XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogU2VsZWN0ZWRJdGVtS2V5RG93bk5hdmlnYXRpb25OZXh0XG4gICAgICB9KTtcbiAgICB9LCBfcmVmLkRlbGV0ZSA9IGZ1bmN0aW9uIERlbGV0ZSgpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogU2VsZWN0ZWRJdGVtS2V5RG93bkRlbGV0ZVxuICAgICAgfSk7XG4gICAgfSwgX3JlZi5CYWNrc3BhY2UgPSBmdW5jdGlvbiBCYWNrc3BhY2UoKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFNlbGVjdGVkSXRlbUtleURvd25CYWNrc3BhY2VcbiAgICAgIH0pO1xuICAgIH0sIF9yZWY7XG4gIH0sIFtkaXNwYXRjaCwga2V5TmF2aWdhdGlvbk5leHQsIGtleU5hdmlnYXRpb25QcmV2aW91c10pO1xuICB2YXIgZHJvcGRvd25LZXlEb3duSGFuZGxlcnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZjI7XG4gICAgcmV0dXJuIF9yZWYyID0ge30sIF9yZWYyW2tleU5hdmlnYXRpb25QcmV2aW91c10gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChpc0tleURvd25PcGVyYXRpb25QZXJtaXR0ZWQoZXZlbnQpKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBEcm9wZG93bktleURvd25OYXZpZ2F0aW9uUHJldmlvdXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgX3JlZjIuQmFja3NwYWNlID0gZnVuY3Rpb24gQmFja3NwYWNlKGV2ZW50KSB7XG4gICAgICBpZiAoaXNLZXlEb3duT3BlcmF0aW9uUGVybWl0dGVkKGV2ZW50KSkge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogRHJvcGRvd25LZXlEb3duQmFja3NwYWNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIF9yZWYyO1xuICB9LCBbZGlzcGF0Y2gsIGtleU5hdmlnYXRpb25QcmV2aW91c10pO1xuXG4gIC8vIEdldHRlciBwcm9wcy5cbiAgdmFyIGdldFNlbGVjdGVkSXRlbVByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKF90ZW1wKSB7XG4gICAgdmFyIF9leHRlbmRzMjtcbiAgICB2YXIgX3JlZjMgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIF9yZWYzJHJlZktleSA9IF9yZWYzLnJlZktleSxcbiAgICAgIHJlZktleSA9IF9yZWYzJHJlZktleSA9PT0gdm9pZCAwID8gJ3JlZicgOiBfcmVmMyRyZWZLZXksXG4gICAgICByZWYgPSBfcmVmMy5yZWYsXG4gICAgICBvbkNsaWNrID0gX3JlZjMub25DbGljayxcbiAgICAgIG9uS2V5RG93biA9IF9yZWYzLm9uS2V5RG93bixcbiAgICAgIHNlbGVjdGVkSXRlbVByb3AgPSBfcmVmMy5zZWxlY3RlZEl0ZW0sXG4gICAgICBpbmRleFByb3AgPSBfcmVmMy5pbmRleCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgX2V4Y2x1ZGVkKTtcbiAgICB2YXIgbGF0ZXN0U3RhdGUgPSBsYXRlc3QuY3VycmVudC5zdGF0ZTtcbiAgICB2YXIgX2dldEl0ZW1BbmRJbmRleCA9IGdldEl0ZW1BbmRJbmRleChzZWxlY3RlZEl0ZW1Qcm9wLCBpbmRleFByb3AsIGxhdGVzdFN0YXRlLnNlbGVjdGVkSXRlbXMsICdQYXNzIGVpdGhlciBpdGVtIG9yIGluZGV4IHRvIGdldFNlbGVjdGVkSXRlbVByb3BzIScpLFxuICAgICAgaW5kZXggPSBfZ2V0SXRlbUFuZEluZGV4WzFdO1xuICAgIHZhciBpc0ZvY3VzYWJsZSA9IGluZGV4ID4gLTEgJiYgaW5kZXggPT09IGxhdGVzdFN0YXRlLmFjdGl2ZUluZGV4O1xuICAgIHZhciBzZWxlY3RlZEl0ZW1IYW5kbGVDbGljayA9IGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUhhbmRsZUNsaWNrKCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBTZWxlY3RlZEl0ZW1DbGljayxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBzZWxlY3RlZEl0ZW1IYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gc2VsZWN0ZWRJdGVtSGFuZGxlS2V5RG93bihldmVudCkge1xuICAgICAgdmFyIGtleSA9IG5vcm1hbGl6ZUFycm93S2V5KGV2ZW50KTtcbiAgICAgIGlmIChrZXkgJiYgc2VsZWN0ZWRJdGVtS2V5RG93bkhhbmRsZXJzW2tleV0pIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtS2V5RG93bkhhbmRsZXJzW2tleV0oZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF9leHRlbmRzKChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW3JlZktleV0gPSBoYW5kbGVSZWZzKHJlZiwgZnVuY3Rpb24gKHNlbGVjdGVkSXRlbU5vZGUpIHtcbiAgICAgIGlmIChzZWxlY3RlZEl0ZW1Ob2RlKSB7XG4gICAgICAgIHNlbGVjdGVkSXRlbVJlZnMuY3VycmVudC5wdXNoKHNlbGVjdGVkSXRlbU5vZGUpO1xuICAgICAgfVxuICAgIH0pLCBfZXh0ZW5kczIudGFiSW5kZXggPSBpc0ZvY3VzYWJsZSA/IDAgOiAtMSwgX2V4dGVuZHMyLm9uQ2xpY2sgPSBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbkNsaWNrLCBzZWxlY3RlZEl0ZW1IYW5kbGVDbGljayksIF9leHRlbmRzMi5vbktleURvd24gPSBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbktleURvd24sIHNlbGVjdGVkSXRlbUhhbmRsZUtleURvd24pLCBfZXh0ZW5kczIpLCByZXN0KTtcbiAgfSwgW2Rpc3BhdGNoLCBsYXRlc3QsIHNlbGVjdGVkSXRlbUtleURvd25IYW5kbGVyc10pO1xuICB2YXIgZ2V0RHJvcGRvd25Qcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfdGVtcDIsIF90ZW1wMykge1xuICAgIHZhciBfZXh0ZW5kczM7XG4gICAgdmFyIF9yZWY0ID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgIF9yZWY0JHJlZktleSA9IF9yZWY0LnJlZktleSxcbiAgICAgIHJlZktleSA9IF9yZWY0JHJlZktleSA9PT0gdm9pZCAwID8gJ3JlZicgOiBfcmVmNCRyZWZLZXksXG4gICAgICByZWYgPSBfcmVmNC5yZWYsXG4gICAgICBvbktleURvd24gPSBfcmVmNC5vbktleURvd24sXG4gICAgICBvbkNsaWNrID0gX3JlZjQub25DbGljayxcbiAgICAgIF9yZWY0JHByZXZlbnRLZXlBY3RpbyA9IF9yZWY0LnByZXZlbnRLZXlBY3Rpb24sXG4gICAgICBwcmV2ZW50S2V5QWN0aW9uID0gX3JlZjQkcHJldmVudEtleUFjdGlvID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY0JHByZXZlbnRLZXlBY3RpbyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmNCwgX2V4Y2x1ZGVkMik7XG4gICAgdmFyIF9yZWY1ID0gX3RlbXAzID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMyxcbiAgICAgIF9yZWY1JHN1cHByZXNzUmVmRXJybyA9IF9yZWY1LnN1cHByZXNzUmVmRXJyb3IsXG4gICAgICBzdXBwcmVzc1JlZkVycm9yID0gX3JlZjUkc3VwcHJlc3NSZWZFcnJvID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY1JHN1cHByZXNzUmVmRXJybztcbiAgICBzZXRHZXR0ZXJQcm9wQ2FsbEluZm8oJ2dldERyb3Bkb3duUHJvcHMnLCBzdXBwcmVzc1JlZkVycm9yLCByZWZLZXksIGRyb3Bkb3duUmVmKTtcbiAgICB2YXIgZHJvcGRvd25IYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gZHJvcGRvd25IYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICB2YXIga2V5ID0gbm9ybWFsaXplQXJyb3dLZXkoZXZlbnQpO1xuICAgICAgaWYgKGtleSAmJiBkcm9wZG93bktleURvd25IYW5kbGVyc1trZXldKSB7XG4gICAgICAgIGRyb3Bkb3duS2V5RG93bkhhbmRsZXJzW2tleV0oZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRyb3Bkb3duSGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBkcm9wZG93bkhhbmRsZUNsaWNrKCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBEcm9wZG93bkNsaWNrXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcygoX2V4dGVuZHMzID0ge30sIF9leHRlbmRzM1tyZWZLZXldID0gaGFuZGxlUmVmcyhyZWYsIGZ1bmN0aW9uIChkcm9wZG93bk5vZGUpIHtcbiAgICAgIGlmIChkcm9wZG93bk5vZGUpIHtcbiAgICAgICAgZHJvcGRvd25SZWYuY3VycmVudCA9IGRyb3Bkb3duTm9kZTtcbiAgICAgIH1cbiAgICB9KSwgX2V4dGVuZHMzKSwgIXByZXZlbnRLZXlBY3Rpb24gJiYge1xuICAgICAgb25LZXlEb3duOiBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbktleURvd24sIGRyb3Bkb3duSGFuZGxlS2V5RG93biksXG4gICAgICBvbkNsaWNrOiBjYWxsQWxsRXZlbnRIYW5kbGVycyhvbkNsaWNrLCBkcm9wZG93bkhhbmRsZUNsaWNrKVxuICAgIH0sIHJlc3QpO1xuICB9LCBbZGlzcGF0Y2gsIGRyb3Bkb3duS2V5RG93bkhhbmRsZXJzLCBzZXRHZXR0ZXJQcm9wQ2FsbEluZm9dKTtcblxuICAvLyByZXR1cm5zXG4gIHZhciBhZGRTZWxlY3RlZEl0ZW0gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25BZGRTZWxlY3RlZEl0ZW0sXG4gICAgICBzZWxlY3RlZEl0ZW06IHNlbGVjdGVkSXRlbVxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgdmFyIHJlbW92ZVNlbGVjdGVkSXRlbSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBGdW5jdGlvblJlbW92ZVNlbGVjdGVkSXRlbSxcbiAgICAgIHNlbGVjdGVkSXRlbTogc2VsZWN0ZWRJdGVtXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuICB2YXIgc2V0U2VsZWN0ZWRJdGVtcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdTZWxlY3RlZEl0ZW1zKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25TZXRTZWxlY3RlZEl0ZW1zLFxuICAgICAgc2VsZWN0ZWRJdGVtczogbmV3U2VsZWN0ZWRJdGVtc1xuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgdmFyIHNldEFjdGl2ZUluZGV4ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5ld0FjdGl2ZUluZGV4KSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogRnVuY3Rpb25TZXRBY3RpdmVJbmRleCxcbiAgICAgIGFjdGl2ZUluZGV4OiBuZXdBY3RpdmVJbmRleFxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2hdKTtcbiAgdmFyIHJlc2V0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uUmVzZXRcbiAgICB9KTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIHJldHVybiB7XG4gICAgZ2V0U2VsZWN0ZWRJdGVtUHJvcHM6IGdldFNlbGVjdGVkSXRlbVByb3BzLFxuICAgIGdldERyb3Bkb3duUHJvcHM6IGdldERyb3Bkb3duUHJvcHMsXG4gICAgYWRkU2VsZWN0ZWRJdGVtOiBhZGRTZWxlY3RlZEl0ZW0sXG4gICAgcmVtb3ZlU2VsZWN0ZWRJdGVtOiByZW1vdmVTZWxlY3RlZEl0ZW0sXG4gICAgc2V0U2VsZWN0ZWRJdGVtczogc2V0U2VsZWN0ZWRJdGVtcyxcbiAgICBzZXRBY3RpdmVJbmRleDogc2V0QWN0aXZlSW5kZXgsXG4gICAgcmVzZXQ6IHJlc2V0LFxuICAgIHNlbGVjdGVkSXRlbXM6IHNlbGVjdGVkSXRlbXMsXG4gICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4XG4gIH07XG59XG5cbmV4cG9ydCB7IERvd25zaGlmdCQxIGFzIGRlZmF1bHQsIHJlc2V0SWRDb3VudGVyLCB1c2VDb21ib2JveCwgdXNlTXVsdGlwbGVTZWxlY3Rpb24sIHVzZVNlbGVjdCB9O1xuIl0sIm5hbWVzIjpbIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiX2V4dGVuZHMiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2luaGVyaXRzTG9vc2UiLCJQcm9wVHlwZXMiLCJSZWFjdCIsImNsb25lRWxlbWVudCIsIkNvbXBvbmVudCIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlUmVkdWNlciIsInVzZU1lbW8iLCJpc0ZvcndhcmRSZWYiLCJjb21wdXRlIiwiX19hc3NpZ24iLCJpZENvdW50ZXIiLCJjYlRvQ2IiLCJjYiIsIm5vb3AiLCJzY3JvbGxJbnRvVmlldyIsIm5vZGUiLCJtZW51Tm9kZSIsImFjdGlvbnMiLCJib3VuZGFyeSIsImJsb2NrIiwic2Nyb2xsTW9kZSIsImZvckVhY2giLCJfcmVmIiwiZWwiLCJ0b3AiLCJsZWZ0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImlzT3JDb250YWluc05vZGUiLCJwYXJlbnQiLCJjaGlsZCIsImVudmlyb25tZW50IiwicmVzdWx0IiwiTm9kZSIsImNvbnRhaW5zIiwiZGVib3VuY2UiLCJmbiIsInRpbWUiLCJ0aW1lb3V0SWQiLCJjYW5jZWwiLCJjbGVhclRpbWVvdXQiLCJ3cmFwcGVyIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJjYWxsQWxsRXZlbnRIYW5kbGVycyIsIl9sZW4yIiwiZm5zIiwiX2tleTIiLCJldmVudCIsIl9sZW4zIiwiX2tleTMiLCJzb21lIiwiY29uY2F0IiwicHJldmVudERvd25zaGlmdERlZmF1bHQiLCJoYXNPd25Qcm9wZXJ0eSIsIm5hdGl2ZUV2ZW50IiwiaGFuZGxlUmVmcyIsIl9sZW40IiwicmVmcyIsIl9rZXk0IiwicmVmIiwiY3VycmVudCIsImdlbmVyYXRlSWQiLCJTdHJpbmciLCJyZXNldElkQ291bnRlciIsImNvbnNvbGUiLCJ3YXJuIiwiZ2V0QTExeVN0YXR1c01lc3NhZ2UkMSIsIl9yZWYyIiwiaXNPcGVuIiwicmVzdWx0Q291bnQiLCJwcmV2aW91c1Jlc3VsdENvdW50IiwidW53cmFwQXJyYXkiLCJhcmciLCJkZWZhdWx0VmFsdWUiLCJpc0FycmF5IiwiaXNET01FbGVtZW50IiwiZWxlbWVudCIsInR5cGUiLCJnZXRFbGVtZW50UHJvcHMiLCJwcm9wcyIsInJlcXVpcmVkUHJvcCIsImZuTmFtZSIsInByb3BOYW1lIiwiZXJyb3IiLCJzdGF0ZUtleXMiLCJwaWNrU3RhdGUiLCJzdGF0ZSIsImsiLCJnZXRTdGF0ZSIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJwcmV2U3RhdGUiLCJrZXkiLCJpc0NvbnRyb2xsZWRQcm9wIiwidW5kZWZpbmVkIiwibm9ybWFsaXplQXJyb3dLZXkiLCJrZXlDb2RlIiwiaW5kZXhPZiIsImlzUGxhaW5PYmplY3QiLCJvYmoiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJnZXRIaWdobGlnaHRlZEluZGV4Iiwic3RhcnQiLCJvZmZzZXQiLCJpdGVtcyIsImlzSXRlbURpc2FibGVkIiwiY2lyY3VsYXIiLCJjb3VudCIsIml0ZW1zTGFzdEluZGV4IiwiaGlnaGxpZ2h0ZWRJbmRleCIsImdldE5vbkRpc2FibGVkSW5kZXgiLCJiYWNrd2FyZHMiLCJpbmRleCIsIl9pbmRleCIsInRhcmdldFdpdGhpbkRvd25zaGlmdCIsInRhcmdldCIsImRvd25zaGlmdEVsZW1lbnRzIiwiY2hlY2tBY3RpdmVFbGVtZW50IiwiY29udGV4dE5vZGUiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJ2YWxpZGF0ZUNvbnRyb2xsZWRVbmNoYW5nZWQiLCJwcm9jZXNzIiwicHJldlByb3BzIiwibmV4dFByb3BzIiwid2FybmluZ0Rlc2NyaXB0aW9uIiwicHJvcEtleSIsImNsZWFudXBTdGF0dXMiLCJkb2N1bWVudFByb3AiLCJnZXRTdGF0dXNEaXYiLCJ0ZXh0Q29udGVudCIsInN0YXR1c0RpdiIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFzc2lnbiIsInN0eWxlIiwiYm9yZGVyIiwiY2xpcCIsImhlaWdodCIsIm1hcmdpbiIsIm92ZXJmbG93IiwicGFkZGluZyIsInBvc2l0aW9uIiwid2lkdGgiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzZXRTdGF0dXMiLCJzdGF0dXMiLCJkaXYiLCJ1bmtub3duIiwibW91c2VVcCIsIml0ZW1Nb3VzZUVudGVyIiwia2V5RG93bkFycm93VXAiLCJrZXlEb3duQXJyb3dEb3duIiwia2V5RG93bkVzY2FwZSIsImtleURvd25FbnRlciIsImtleURvd25Ib21lIiwia2V5RG93bkVuZCIsImNsaWNrSXRlbSIsImJsdXJJbnB1dCIsImNoYW5nZUlucHV0Iiwia2V5RG93blNwYWNlQnV0dG9uIiwiY2xpY2tCdXR0b24iLCJibHVyQnV0dG9uIiwiY29udHJvbGxlZFByb3BVcGRhdGVkU2VsZWN0ZWRJdGVtIiwidG91Y2hFbmQiLCJzdGF0ZUNoYW5nZVR5cGVzJDMiLCJmcmVlemUiLCJfX3Byb3RvX18iLCJfZXhjbHVkZWQkNCIsIl9leGNsdWRlZDIkMyIsIl9leGNsdWRlZDMkMiIsIl9leGNsdWRlZDQkMSIsIl9leGNsdWRlZDUiLCJEb3duc2hpZnQiLCJfQ29tcG9uZW50IiwiX3Byb3BzIiwiX3RoaXMiLCJpZCIsIm1lbnVJZCIsImxhYmVsSWQiLCJpbnB1dElkIiwiZ2V0SXRlbUlkIiwiaXRlbUNvdW50IiwidGltZW91dElkcyIsImludGVybmFsU2V0VGltZW91dCIsImZpbHRlciIsImkiLCJwdXNoIiwic2V0SXRlbUNvdW50IiwidW5zZXRJdGVtQ291bnQiLCJfaXRlbSIsImN1cnJlbnRFbGVtZW50Tm9kZSIsImdldEl0ZW1Ob2RlRnJvbUluZGV4IiwiaGFzQXR0cmlidXRlIiwic2V0SGlnaGxpZ2h0ZWRJbmRleCIsIm90aGVyU3RhdGVUb1NldCIsImRlZmF1bHRIaWdobGlnaHRlZEluZGV4IiwiaW50ZXJuYWxTZXRTdGF0ZSIsImNsZWFyU2VsZWN0aW9uIiwic2VsZWN0ZWRJdGVtIiwiaW5wdXRWYWx1ZSIsImRlZmF1bHRJc09wZW4iLCJzZWxlY3RJdGVtIiwiaXRlbSIsIml0ZW1Ub1N0cmluZyIsInNlbGVjdEl0ZW1BdEluZGV4IiwiaXRlbUluZGV4Iiwic2VsZWN0SGlnaGxpZ2h0ZWRJdGVtIiwic3RhdGVUb1NldCIsImlzSXRlbVNlbGVjdGVkIiwib25DaGFuZ2VBcmciLCJvblN0YXRlQ2hhbmdlQXJnIiwiaXNTdGF0ZVRvU2V0RnVuY3Rpb24iLCJvbklucHV0VmFsdWVDaGFuZ2UiLCJnZXRTdGF0ZUFuZEhlbHBlcnMiLCJzZXRTdGF0ZSIsIl9uZXdTdGF0ZVRvU2V0IiwibmV3U3RhdGVUb1NldCIsInN0YXRlUmVkdWNlciIsIm5leHRTdGF0ZSIsImhhc01vcmVTdGF0ZVRoYW5UeXBlIiwib25TdGF0ZUNoYW5nZSIsIm9uU2VsZWN0Iiwib25DaGFuZ2UiLCJvblVzZXJBY3Rpb24iLCJyb290UmVmIiwiX3Jvb3ROb2RlIiwiZ2V0Um9vdFByb3BzIiwiX3RlbXAiLCJfdGVtcDIiLCJfZXh0ZW5kczIiLCJfcmVmJHJlZktleSIsInJlZktleSIsInJlc3QiLCJfcmVmMiRzdXBwcmVzc1JlZkVycm8iLCJzdXBwcmVzc1JlZkVycm9yIiwiY2FsbGVkIiwiX3RoaXMkZ2V0U3RhdGUiLCJyb2xlIiwia2V5RG93bkhhbmRsZXJzIiwiQXJyb3dEb3duIiwiX3RoaXMyIiwicHJldmVudERlZmF1bHQiLCJhbW91bnQiLCJzaGlmdEtleSIsIm1vdmVIaWdobGlnaHRlZEluZGV4IiwiZ2V0SXRlbUNvdW50IiwiX3RoaXMyJGdldFN0YXRlIiwibmV4dEhpZ2hsaWdodGVkSW5kZXgiLCJBcnJvd1VwIiwiX3RoaXMzIiwiX3RoaXMzJGdldFN0YXRlIiwiRW50ZXIiLCJ3aGljaCIsIl90aGlzJGdldFN0YXRlMiIsIml0ZW1Ob2RlIiwiRXNjYXBlIiwicmVzZXQiLCJidXR0b25LZXlEb3duSGFuZGxlcnMiLCJfIiwidG9nZ2xlTWVudSIsImlucHV0S2V5RG93bkhhbmRsZXJzIiwiSG9tZSIsIl90aGlzJGdldFN0YXRlMyIsIm5ld0hpZ2hsaWdodGVkSW5kZXgiLCJFbmQiLCJfdGhpcyRnZXRTdGF0ZTQiLCJnZXRUb2dnbGVCdXR0b25Qcm9wcyIsIl90ZW1wMyIsIl9yZWYzIiwib25DbGljayIsIm9uUHJlc3MiLCJvbktleURvd24iLCJvbktleVVwIiwib25CbHVyIiwiX3RoaXMkZ2V0U3RhdGU1IiwiZW5hYmxlZEV2ZW50SGFuZGxlcnMiLCJidXR0b25IYW5kbGVDbGljayIsImJ1dHRvbkhhbmRsZUtleURvd24iLCJidXR0b25IYW5kbGVLZXlVcCIsImJ1dHRvbkhhbmRsZUJsdXIiLCJldmVudEhhbmRsZXJzIiwiZGlzYWJsZWQiLCJfdGhpcyRwcm9wcyRlbnZpcm9ubWUiLCJmb2N1cyIsImJsdXJUYXJnZXQiLCJpc01vdXNlRG93biIsImdldExhYmVsUHJvcHMiLCJodG1sRm9yIiwiZ2V0SW5wdXRQcm9wcyIsIl90ZW1wNCIsIl9yZWY0Iiwib25JbnB1dCIsIm9uQ2hhbmdlVGV4dCIsIm9uQ2hhbmdlS2V5IiwiX3RoaXMkZ2V0U3RhdGU2IiwiX2V2ZW50SGFuZGxlcnMiLCJpbnB1dEhhbmRsZUNoYW5nZSIsImlucHV0SGFuZGxlS2V5RG93biIsImlucHV0SGFuZGxlQmx1ciIsImF1dG9Db21wbGV0ZSIsInZhbHVlIiwiX2FjdGl2ZUVsZW1lbnQkZGF0YXNlIiwiZG93bnNoaWZ0QnV0dG9uSXNBY3RpdmUiLCJkYXRhc2V0IiwidG9nZ2xlIiwibWVudVJlZiIsIl9tZW51Tm9kZSIsImdldE1lbnVQcm9wcyIsIl90ZW1wNSIsIl90ZW1wNiIsIl9leHRlbmRzMyIsIl9yZWY1IiwiX3JlZjUkcmVmS2V5IiwiX3JlZjYiLCJfcmVmNiRzdXBwcmVzc1JlZkVycm8iLCJnZXRJdGVtUHJvcHMiLCJfdGVtcDciLCJfZW5hYmxlZEV2ZW50SGFuZGxlcnMiLCJfcmVmNyIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZURvd24iLCJfcmVmNyRpdGVtIiwib25TZWxlY3RLZXkiLCJjdXN0b21DbGlja0hhbmRsZXIiLCJhdm9pZFNjcm9sbGluZyIsImNsZWFySXRlbXMiLCJfcmVmOCIsIl9yZWY5IiwiX3RoaXMkZ2V0U3RhdGU3Iiwib3Blbk1lbnUiLCJjbG9zZU1lbnUiLCJ1cGRhdGVTdGF0dXMiLCJfdGhpcyRwcm9wcyIsImdldEExMXlTdGF0dXNNZXNzYWdlIiwiaGlnaGxpZ2h0ZWRJdGVtIiwiX3RoaXMkcHJvcHMyIiwiX3RoaXMkcHJvcHMyJGluaXRpYWxIIiwiaW5pdGlhbEhpZ2hsaWdodGVkSW5kZXgiLCJfaGlnaGxpZ2h0ZWRJbmRleCIsIl90aGlzJHByb3BzMiRpbml0aWFsSSIsImluaXRpYWxJc09wZW4iLCJfaXNPcGVuIiwiX3RoaXMkcHJvcHMyJGluaXRpYWxJMiIsImluaXRpYWxJbnB1dFZhbHVlIiwiX2lucHV0VmFsdWUiLCJfdGhpcyRwcm9wczIkaW5pdGlhbFMiLCJpbml0aWFsU2VsZWN0ZWRJdGVtIiwiX3NlbGVjdGVkSXRlbSIsIl9zdGF0ZSIsIl9wcm90byIsImludGVybmFsQ2xlYXJUaW1lb3V0cyIsImdldFN0YXRlJDEiLCJzdGF0ZVRvTWVyZ2UiLCJzY3JvbGxIaWdobGlnaHRlZEl0ZW1JbnRvVmlldyIsIl90aGlzJGdldFN0YXRlOCIsIl90aGlzJGdldFN0YXRlOSIsImNvbXBvbmVudERpZE1vdW50IiwiX3RoaXM0IiwidmFsaWRhdGVHZXRNZW51UHJvcHNDYWxsZWRDb3JyZWN0bHkiLCJjbGVhbnVwIiwib25Nb3VzZVVwIiwiY29udGV4dFdpdGhpbkRvd25zaGlmdCIsIm9uT3V0ZXJDbGljayIsIm9uVG91Y2hTdGFydCIsImlzVG91Y2hNb3ZlIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG91bGRTY3JvbGwiLCJfcmVmMTAiLCJjdXJyZW50SGlnaGxpZ2h0ZWRJbmRleCIsIl9yZWYxMSIsInByZXZIaWdobGlnaHRlZEluZGV4Iiwic2Nyb2xsV2hlbk9wZW4iLCJzY3JvbGxXaGVuTmF2aWdhdGluZyIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNlbGVjdGVkSXRlbUNoYW5nZWQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbmRlciIsImNoaWxkcmVuIiwidmFsaWRhdGVHZXRSb290UHJvcHNDYWxsZWRDb3JyZWN0bHkiLCJFcnJvciIsImRlZmF1bHRQcm9wcyIsInByZXZJdGVtIiwid2luZG93Iiwic3RhdGVDaGFuZ2VUeXBlcyIsInByb3BUeXBlcyIsImZ1bmMiLCJudW1iZXIiLCJib29sIiwiYW55Iiwic3RyaW5nIiwic2hhcGUiLCJpc1JlcXVpcmVkIiwiRG93bnNoaWZ0JDEiLCJfcmVmMTIiLCJfcmVmMTMiLCJyZWZLZXlTcGVjaWZpZWQiLCJpc0NvbXBvc2l0ZSIsIl9leGNsdWRlZCQzIiwiZHJvcGRvd25EZWZhdWx0U3RhdGVWYWx1ZXMiLCJjYWxsT25DaGFuZ2VQcm9wcyIsImFjdGlvbiIsIm5ld1N0YXRlIiwiY2hhbmdlcyIsImludm9rZU9uQ2hhbmdlSGFuZGxlciIsImhhbmRsZXIiLCJjYXBpdGFsaXplU3RyaW5nIiwicyIsImEiLCJnZXRBMTF5U2VsZWN0aW9uTWVzc2FnZSIsInNlbGVjdGlvblBhcmFtZXRlcnMiLCJpdGVtVG9TdHJpbmdMb2NhbCIsInVwZGF0ZUExMXlTdGF0dXMiLCJnZXRBMTF5TWVzc2FnZSIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCJ1c2VFbGVtZW50SWRzIiwidG9nZ2xlQnV0dG9uSWQiLCJyZWFjdElkIiwidXNlSWQiLCJlbGVtZW50SWRzUmVmIiwiX3JlZjIkaWQiLCJnZXRJdGVtQW5kSW5kZXgiLCJpdGVtUHJvcCIsImluZGV4UHJvcCIsImVycm9yTWVzc2FnZSIsImlzQWNjZXB0ZWRDaGFyYWN0ZXJLZXkiLCJ0ZXN0Iiwic2xpY2UiLCJ0b1VwcGVyQ2FzZSIsInVzZUxhdGVzdFJlZiIsInZhbCIsInVzZUVuaGFuY2VkUmVkdWNlciIsInJlZHVjZXIiLCJjcmVhdGVJbml0aWFsU3RhdGUiLCJwcmV2U3RhdGVSZWYiLCJhY3Rpb25SZWYiLCJlbmhhbmNlZFJlZHVjZXIiLCJfdXNlUmVkdWNlciIsImRpc3BhdGNoIiwicHJvcHNSZWYiLCJkaXNwYXRjaFdpdGhQcm9wcyIsInVzZUNvbnRyb2xsZWRSZWR1Y2VyJDEiLCJfdXNlRW5oYW5jZWRSZWR1Y2VyIiwiZGVmYXVsdFByb3BzJDMiLCJnZXREZWZhdWx0VmFsdWUkMSIsImRlZmF1bHRTdGF0ZVZhbHVlcyIsImdldEluaXRpYWxWYWx1ZSQxIiwiaW5pdGlhbFZhbHVlIiwiZ2V0SW5pdGlhbFN0YXRlJDIiLCJnZXRIaWdobGlnaHRlZEluZGV4T25PcGVuIiwidXNlTW91c2VBbmRUb3VjaFRyYWNrZXIiLCJkb3duc2hpZnRFbGVtZW50UmVmcyIsImhhbmRsZUJsdXIiLCJtb3VzZUFuZFRvdWNoVHJhY2tlcnNSZWYiLCJtYXAiLCJ1c2VHZXR0ZXJQcm9wc0NhbGxlZENoZWNrZXIiLCJpc0luaXRpYWxNb3VudFJlZiIsInByb3BLZXlzIiwiZ2V0dGVyUHJvcHNDYWxsZWRSZWYiLCJhY2MiLCJwcm9wQ2FsbEluZm8iLCJlbGVtZW50UmVmIiwic2V0R2V0dGVyUHJvcENhbGxJbmZvIiwidXNlQTExeU1lc3NhZ2VTZXR0ZXIiLCJkZXBlbmRlbmN5QXJyYXkiLCJpc0luaXRpYWxNb3VudCIsInVzZVNjcm9sbEludG9WaWV3IiwiaXRlbVJlZnMiLCJtZW51RWxlbWVudCIsInNjcm9sbEludG9WaWV3UHJvcCIsInNob3VsZFNjcm9sbFJlZiIsInVzZUNvbnRyb2xQcm9wc1ZhbGlkYXRvciIsInByZXZQcm9wc1JlZiIsImdldENoYW5nZXNPblNlbGVjdGlvbiIsIl9wcm9wcyRpdGVtcyIsInNob3VsZFNlbGVjdCIsImNvbW1vblByb3BUeXBlcyIsImNvbW1vbkRyb3Bkb3duUHJvcFR5cGVzIiwiZGVmYXVsdFNlbGVjdGVkSXRlbSIsIm9uU2VsZWN0ZWRJdGVtQ2hhbmdlIiwib25IaWdobGlnaHRlZEluZGV4Q2hhbmdlIiwib25Jc09wZW5DaGFuZ2UiLCJkb3duc2hpZnRDb21tb25SZWR1Y2VyIiwiSXRlbU1vdXNlTW92ZSIsIk1lbnVNb3VzZUxlYXZlIiwiVG9nZ2xlQnV0dG9uQ2xpY2siLCJGdW5jdGlvblRvZ2dsZU1lbnUiLCJGdW5jdGlvbk9wZW5NZW51IiwiRnVuY3Rpb25DbG9zZU1lbnUiLCJGdW5jdGlvblNldEhpZ2hsaWdodGVkSW5kZXgiLCJGdW5jdGlvblNldElucHV0VmFsdWUiLCJGdW5jdGlvblJlc2V0IiwiZ2V0SXRlbUluZGV4QnlDaGFyYWN0ZXJLZXkiLCJfYSIsImtleXNTb0ZhciIsImxvd2VyQ2FzZWRLZXlzU29GYXIiLCJ0b0xvd2VyQ2FzZSIsIm9mZnNldEluZGV4Iiwic3RhcnRzV2l0aCIsInByb3BUeXBlcyQyIiwiYXJyYXkiLCJkZWZhdWx0UHJvcHMkMiIsInZhbGlkYXRlUHJvcFR5cGVzJDIiLCJvcHRpb25zIiwiY2FsbGVyIiwiY2hlY2tQcm9wVHlwZXMiLCJuYW1lIiwiVG9nZ2xlQnV0dG9uQ2xpY2skMSIsIlRvZ2dsZUJ1dHRvbktleURvd25BcnJvd0Rvd24iLCJUb2dnbGVCdXR0b25LZXlEb3duQXJyb3dVcCIsIlRvZ2dsZUJ1dHRvbktleURvd25DaGFyYWN0ZXIiLCJUb2dnbGVCdXR0b25LZXlEb3duRXNjYXBlIiwiVG9nZ2xlQnV0dG9uS2V5RG93bkhvbWUiLCJUb2dnbGVCdXR0b25LZXlEb3duRW5kIiwiVG9nZ2xlQnV0dG9uS2V5RG93bkVudGVyIiwiVG9nZ2xlQnV0dG9uS2V5RG93blNwYWNlQnV0dG9uIiwiVG9nZ2xlQnV0dG9uS2V5RG93blBhZ2VVcCIsIlRvZ2dsZUJ1dHRvbktleURvd25QYWdlRG93biIsIlRvZ2dsZUJ1dHRvbkJsdXIiLCJNZW51TW91c2VMZWF2ZSQxIiwiSXRlbU1vdXNlTW92ZSQxIiwiSXRlbUNsaWNrJDEiLCJGdW5jdGlvblRvZ2dsZU1lbnUkMSIsIkZ1bmN0aW9uT3Blbk1lbnUkMSIsIkZ1bmN0aW9uQ2xvc2VNZW51JDEiLCJGdW5jdGlvblNldEhpZ2hsaWdodGVkSW5kZXgkMSIsIkZ1bmN0aW9uU2VsZWN0SXRlbSQxIiwiRnVuY3Rpb25TZXRJbnB1dFZhbHVlJDEiLCJGdW5jdGlvblJlc2V0JDIiLCJzdGF0ZUNoYW5nZVR5cGVzJDIiLCJJdGVtQ2xpY2siLCJGdW5jdGlvblNlbGVjdEl0ZW0iLCJkb3duc2hpZnRTZWxlY3RSZWR1Y2VyIiwiYWx0S2V5IiwibG93ZXJjYXNlZEtleSIsIl9oaWdobGlnaHRlZEluZGV4MiIsIl9leGNsdWRlZCQyIiwiX2V4Y2x1ZGVkMiQyIiwiX2V4Y2x1ZGVkMyQxIiwidXNlU2VsZWN0IiwidXNlclByb3BzIiwiX3VzZUNvbnRyb2xsZWRSZWR1Y2VyIiwidG9nZ2xlQnV0dG9uUmVmIiwiY2xlYXJUaW1lb3V0UmVmIiwiZWxlbWVudElkcyIsInByZXZpb3VzUmVzdWx0Q291bnRSZWYiLCJsYXRlc3QiLCJvdXRlckRpc3BhdGNoIiwiZm9jdXNPbk9wZW4iLCJ0b2dnbGVCdXR0b25LZXlEb3duSGFuZGxlcnMiLCJQYWdlVXAiLCJQYWdlRG93biIsImN1cnJlbnRTdGF0ZSIsIm5ld1NlbGVjdGVkSXRlbSIsInNldElucHV0VmFsdWUiLCJuZXdJbnB1dFZhbHVlIiwibGFiZWxQcm9wcyIsIm9uTW91c2VMZWF2ZSIsIm1lbnVIYW5kbGVNb3VzZUxlYXZlIiwiX3JlZjMkcmVmS2V5IiwiX3JlZjQkc3VwcHJlc3NSZWZFcnJvIiwibGF0ZXN0U3RhdGUiLCJ0b2dnbGVCdXR0b25IYW5kbGVDbGljayIsInRvZ2dsZUJ1dHRvbkhhbmRsZUJsdXIiLCJ0b2dnbGVCdXR0b25IYW5kbGVLZXlEb3duIiwidG9nZ2xlUHJvcHMiLCJ0b2dnbGVCdXR0b25Ob2RlIiwidGFiSW5kZXgiLCJfZXh0ZW5kczQiLCJkaXNhYmxlZFByb3AiLCJfbGF0ZXN0JGN1cnJlbnQiLCJsYXRlc3RQcm9wcyIsIl9nZXRJdGVtQW5kSW5kZXgiLCJpdGVtSGFuZGxlTW91c2VNb3ZlIiwiaXRlbUhhbmRsZUNsaWNrIiwiaXRlbUhhbmRsZU1vdXNlRG93biIsImUiLCJpdGVtUHJvcHMiLCJJbnB1dEtleURvd25BcnJvd0Rvd24iLCJJbnB1dEtleURvd25BcnJvd1VwIiwiSW5wdXRLZXlEb3duRXNjYXBlIiwiSW5wdXRLZXlEb3duSG9tZSIsIklucHV0S2V5RG93bkVuZCIsIklucHV0S2V5RG93blBhZ2VVcCIsIklucHV0S2V5RG93blBhZ2VEb3duIiwiSW5wdXRLZXlEb3duRW50ZXIiLCJJbnB1dENoYW5nZSIsIklucHV0Qmx1ciIsIklucHV0Q2xpY2siLCJGdW5jdGlvblJlc2V0JDEiLCJDb250cm9sbGVkUHJvcFVwZGF0ZWRTZWxlY3RlZEl0ZW0iLCJzdGF0ZUNoYW5nZVR5cGVzJDEiLCJnZXRJbml0aWFsU3RhdGUkMSIsImluaXRpYWxTdGF0ZSIsImRlZmF1bHRJbnB1dFZhbHVlIiwicHJvcFR5cGVzJDEiLCJ1c2VDb250cm9sbGVkUmVkdWNlciIsInByZXZpb3VzU2VsZWN0ZWRJdGVtUmVmIiwidmFsaWRhdGVQcm9wVHlwZXMkMSIsInZhbGlkYXRlUHJvcFR5cGVzIiwiZGVmYXVsdFByb3BzJDEiLCJkb3duc2hpZnRVc2VDb21ib2JveFJlZHVjZXIiLCJfZXhjbHVkZWQkMSIsIl9leGNsdWRlZDIkMSIsIl9leGNsdWRlZDMiLCJfZXhjbHVkZWQ0IiwidXNlQ29tYm9ib3giLCJpbnB1dFJlZiIsIl9pbnB1dFJlZiRjdXJyZW50IiwiX2V4dGVuZHM1IiwiX3JlZjYkcmVmS2V5IiwiX3JlZjckc3VwcHJlc3NSZWZFcnJvIiwiaXNCbHVyQnlUYWJDaGFuZ2UiLCJyZWxhdGVkVGFyZ2V0IiwiaW5wdXRIYW5kbGVDbGljayIsImlucHV0Tm9kZSIsImFjdGl2ZUluZGV4Iiwic2VsZWN0ZWRJdGVtcyIsImdldEluaXRpYWxWYWx1ZSIsImdldERlZmF1bHRWYWx1ZSIsImdldEluaXRpYWxTdGF0ZSIsImlzS2V5RG93bk9wZXJhdGlvblBlcm1pdHRlZCIsIm1ldGFLZXkiLCJjdHJsS2V5IiwiSFRNTElucHV0RWxlbWVudCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZ2V0QTExeVJlbW92YWxNZXNzYWdlIiwicmVtb3ZlZFNlbGVjdGVkSXRlbSIsImluaXRpYWxTZWxlY3RlZEl0ZW1zIiwiZGVmYXVsdFNlbGVjdGVkSXRlbXMiLCJpbml0aWFsQWN0aXZlSW5kZXgiLCJkZWZhdWx0QWN0aXZlSW5kZXgiLCJvbkFjdGl2ZUluZGV4Q2hhbmdlIiwib25TZWxlY3RlZEl0ZW1zQ2hhbmdlIiwia2V5TmF2aWdhdGlvbk5leHQiLCJrZXlOYXZpZ2F0aW9uUHJldmlvdXMiLCJTZWxlY3RlZEl0ZW1DbGljayIsIlNlbGVjdGVkSXRlbUtleURvd25EZWxldGUiLCJTZWxlY3RlZEl0ZW1LZXlEb3duQmFja3NwYWNlIiwiU2VsZWN0ZWRJdGVtS2V5RG93bk5hdmlnYXRpb25OZXh0IiwiU2VsZWN0ZWRJdGVtS2V5RG93bk5hdmlnYXRpb25QcmV2aW91cyIsIkRyb3Bkb3duS2V5RG93bk5hdmlnYXRpb25QcmV2aW91cyIsIkRyb3Bkb3duS2V5RG93bkJhY2tzcGFjZSIsIkRyb3Bkb3duQ2xpY2siLCJGdW5jdGlvbkFkZFNlbGVjdGVkSXRlbSIsIkZ1bmN0aW9uUmVtb3ZlU2VsZWN0ZWRJdGVtIiwiRnVuY3Rpb25TZXRTZWxlY3RlZEl0ZW1zIiwiRnVuY3Rpb25TZXRBY3RpdmVJbmRleCIsImRvd25zaGlmdE11bHRpcGxlU2VsZWN0aW9uUmVkdWNlciIsIm5ld0FjdGl2ZUluZGV4IiwiX25ld0FjdGl2ZUluZGV4Iiwic2VsZWN0ZWRJdGVtSW5kZXgiLCJuZXdTZWxlY3RlZEl0ZW1zIiwiX25ld0FjdGl2ZUluZGV4MiIsIl9leGNsdWRlZCIsIl9leGNsdWRlZDIiLCJ1c2VNdWx0aXBsZVNlbGVjdGlvbiIsImRyb3Bkb3duUmVmIiwicHJldmlvdXNTZWxlY3RlZEl0ZW1zUmVmIiwic2VsZWN0ZWRJdGVtUmVmcyIsImZpbmQiLCJhY3RpdmVTZWxlY3RlZEl0ZW0iLCJzZWxlY3RlZEl0ZW1LZXlEb3duSGFuZGxlcnMiLCJEZWxldGUiLCJCYWNrc3BhY2UiLCJkcm9wZG93bktleURvd25IYW5kbGVycyIsImdldFNlbGVjdGVkSXRlbVByb3BzIiwic2VsZWN0ZWRJdGVtUHJvcCIsImlzRm9jdXNhYmxlIiwic2VsZWN0ZWRJdGVtSGFuZGxlQ2xpY2siLCJzZWxlY3RlZEl0ZW1IYW5kbGVLZXlEb3duIiwic2VsZWN0ZWRJdGVtTm9kZSIsImdldERyb3Bkb3duUHJvcHMiLCJfcmVmNCRyZWZLZXkiLCJfcmVmNCRwcmV2ZW50S2V5QWN0aW8iLCJwcmV2ZW50S2V5QWN0aW9uIiwiX3JlZjUkc3VwcHJlc3NSZWZFcnJvIiwiZHJvcGRvd25IYW5kbGVLZXlEb3duIiwiZHJvcGRvd25IYW5kbGVDbGljayIsImRyb3Bkb3duTm9kZSIsImFkZFNlbGVjdGVkSXRlbSIsInJlbW92ZVNlbGVjdGVkSXRlbSIsInNldFNlbGVjdGVkSXRlbXMiLCJzZXRBY3RpdmVJbmRleCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/downshift/dist/downshift.esm.js\n");

/***/ })

};
;